var lo=Object.defineProperty;var uo=(r,e,t)=>e in r?lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var a=(r,e,t)=>(uo(r,typeof e!="symbol"?e+"":e,t),t);import{i as sn,t as po,a as Oe,r as ho,b as Ye,c as rn,d as Ke,e as nn,f as kt,g as hi,h as mo,j as on,k as mi,s as cn,l as an}from"./ramda-adjunct-adbc7b65.js";import{p as _e,l as Cs,a as fi,t as fo,b as Dt,c as vo,i as go,d as yo,e as ce,f as xo,m as vi,o as bo,g as gi,h as ln,s as yi,j as un,k as fe,n as Nt,q as $o,r as dn,u as Eo,v as qt,w as pn,x as So,y as jo,z as Oo,A as hn,B as R,C as mn,D as Po,E as Vo,F as wo,G as Ro,H as fn,I as vn,J as Ao}from"./ramda-2de81992.js";import{S as pe,A as D,E as Fo,N as Sr,a as jr,B as he,O as y,M as et,L as Or,R as Ae,b as Co,K as Fe,c as Lt,d as Ge,r as xi}from"./minim-06d1dd61.js";import{p as Bt}from"./process-d43c83f8.js";import{_ as Io}from"./@babel-4e92b73b.js";import{M as f}from"./ts-mixer-fcabe091.js";import{S as Mo}from"./short-unique-id-7d9d7af8.js";class To extends Io{constructor(e,t,s){if(super(e,t,s),this.name=this.constructor.name,typeof t=="string"&&(this.message=t),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(t).stack,s!=null&&typeof s=="object"&&Object.hasOwn(s,"cause")&&!("cause"in this)){const{cause:i}=s;this.cause=i,i instanceof Error&&"stack"in i&&(this.stack=`${this.stack}
CAUSE: ${i.stack}`)}}}const ko=To;class Do extends Error{static[Symbol.hasInstance](e){return super[Symbol.hasInstance](e)||Function.prototype[Symbol.hasInstance].call(ko,e)}constructor(e,t){if(super(e,t),this.name=this.constructor.name,typeof e=="string"&&(this.message=e),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,t!=null&&typeof t=="object"&&Object.hasOwn(t,"cause")&&!("cause"in this)){const{cause:s}=t;this.cause=s,s instanceof Error&&"stack"in s&&(this.stack=`${this.stack}
CAUSE: ${s.stack}`)}}}const Y=Do;class No extends Y{constructor(e,t){if(super(e,t),t!=null&&typeof t=="object"){const{cause:s,...i}=t;Object.assign(this,i)}}}const Ee=No;class qo extends Y{}const Q=qo;class Lo extends Q{}const xr=Lo,bi=()=>fi(fo(/^win/),["platform"],Bt),$i=r=>{try{const e=new URL(r);return po(":",e.protocol)}catch{return}};_e($i,sn);const Bo=r=>{const e=r.lastIndexOf(".");return e>=0?r.substring(e).toLowerCase():""},gn=r=>{if(Bt.browser)return!1;const e=$i(r);return Oe(e)||e==="file"||/^[a-zA-Z]$/.test(e)},Jo=r=>{const e=$i(r);return e==="http"||e==="https"},yn=(r,e)=>{const t=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],s=Dt(!1,"keepFileProtocol",e),i=Dt(bi,"isWindows",e);let n=decodeURI(r);for(let l=0;l<t.length;l+=2)n=n.replace(t[l],t[l+1]);let o=n.substring(0,7).toLowerCase()==="file://";return o&&(n=n[7]==="/"?n.substring(8):n.substring(7),i()&&n[1]==="/"&&(n=`${n[0]}:${n.substring(1)}`),s?n=`file:///${n}`:(o=!1,n=i()?n:`/${n}`)),i()&&!o&&(n=ho("/","\\",n),n.substring(1,3)===":\\"&&(n=n[0].toUpperCase()+n.substring(1))),n},Uo=r=>{const e=[/\?/g,"%3F",/#/g,"%23"];let t=r;bi()&&(t=t.replace(/\\/g,"/")),t=encodeURI(t);for(let s=0;s<e.length;s+=2)t=t.replace(e[s],e[s+1]);return t},xn=r=>{const e=r.indexOf("#");return e!==-1?r.substring(e):"#"},K=r=>{const e=r.indexOf("#");let t=r;return e>=0&&(t=r.substring(0,e)),t},Ho=()=>{if(Bt.browser)return K(globalThis.location.href);const r=Bt.cwd(),e=Cs(r);return["/","\\"].includes(e)?r:r+(bi()?"\\":"/")},Be=(r,e)=>{const t=new URL(e,new URL(r,"resolve://"));if(t.protocol==="resolve:"){const{pathname:s,search:i,hash:n}=t;return s+i+n}return t.toString()},Is=r=>{if(gn(r))return Uo(yn(r));try{return new URL(r).toString()}catch{return encodeURI(decodeURI(r)).replace(/%5B/g,"[").replace(/%5D/g,"]")}},Pe=r=>gn(r)?yn(r):decodeURI(r);class zo{constructor({uri:e,mediaType:t="text/plain",data:s,parseResult:i}){a(this,"uri");a(this,"mediaType");a(this,"data");a(this,"parseResult");this.uri=e,this.mediaType=t,this.data=s,this.parseResult=i}get extension(){return Ye(this.uri)?Bo(this.uri):""}toString(){return typeof this.data=="string"?this.data:this.data instanceof ArrayBuffer||["ArrayBuffer"].includes(vo(this.data))||ArrayBuffer.isView(this.data)?new TextDecoder("utf-8").decode(this.data):String(this.data)}}const Jt=zo;class Wo{constructor({refs:e=[],circular:t=!1}={}){a(this,"rootRef");a(this,"refs");a(this,"circular");this.refs=[],this.circular=t,e.forEach(this.add.bind(this))}get size(){return this.refs.length}add(e){return this.has(e)||(this.refs.push(e),this.rootRef=this.rootRef===void 0?e:this.rootRef,e.refSet=this),this}merge(e){for(const t of e.values())this.add(t);return this}has(e){const t=Ye(e)?e:e.uri;return sn(this.find(s=>s.uri===t))}find(e){return this.refs.find(e)}*values(){yield*this.refs}clean(){this.refs.forEach(e=>{e.refSet=void 0}),this.rootRef=void 0,this.refs.length=0}}const Pr=Wo,Xo={parse:{mediaType:"text/plain",parsers:[],parserOpts:{}},resolve:{baseURI:"",resolvers:[],resolverOpts:{},strategies:[],strategyOpts:{},internal:!0,external:!0,maxDepth:1/0},dereference:{strategies:[],strategyOpts:{},refSet:null,maxDepth:1/0,circular:"ignore",circularReplacer:go,immutable:!0},bundle:{strategies:[],refSet:null,maxDepth:1/0}},Ko=Xo,Go=yo(ce(["resolve","baseURI"]),xo(["resolve","baseURI"])),Zo=r=>rn(r)?Ho():r,bn=(r,e)=>{const t=vi(r,e);return bo(Go,Zo,t)};class Qo extends Y{constructor(t,s){super(t,{cause:s.cause});a(this,"plugin");this.plugin=s.plugin}}const Yo=Qo,Ei=async(r,e,t)=>{const s=await Promise.all(t.map(Ke([r],e)));return t.filter((i,n)=>s[n])},Si=async(r,e,t)=>{let s;for(const i of t)try{const n=await i[r].call(i,...e);return{plugin:i,result:n}}catch(n){s=new Yo("Error while running plugin",{cause:n,plugin:i})}return Promise.reject(s)};class _o extends Y{}const Vr=_o;class ec extends Y{}const ji=ec;class tc extends ji{}const sc=tc;class rc extends sc{}const $n=rc,ic=async(r,e)=>{const t=e.resolve.resolvers.map(i=>{const n=Object.create(i);return Object.assign(n,e.resolve.resolverOpts)}),s=await Ei("canRead",[r,e],t);if(gi(s))throw new $n(r.uri);try{const{result:i}=await Si("read",[r],s);return i}catch(i){throw new ji(`Error while reading file "${r.uri}"`,{cause:i})}},nc=async(r,e)=>{const t=e.parse.parsers.map(i=>{const n=Object.create(i);return Object.assign(n,e.parse.parserOpts)}),s=await Ei("canParse",[r,e],t);if(gi(s))throw new $n(r.uri);try{const{plugin:i,result:n}=await Si("parse",[r,e],s);return!i.allowEmpty&&n.isEmpty?Promise.reject(new Vr(`Error while parsing file "${r.uri}". File is empty.`)):n}catch(i){throw new Vr(`Error while parsing file "${r.uri}"`,{cause:i})}},oc=async(r,e)=>{const t=new Jt({uri:Is(K(r)),mediaType:e.parse.mediaType}),s=await ic(t,e);return nc(new Jt({...t,data:s}),e)},cc=oc;class ac extends pe{constructor(e,t,s){super(e,t,s),this.element="annotation"}get code(){return this.attributes.get("code")}set code(e){this.attributes.set("code",e)}}const Ut=ac;class lc extends pe{constructor(e,t,s){super(e,t,s),this.element="comment"}}const Ht=lc;class uc extends D{constructor(e,t,s){super(e,t,s),this.element="parseResult"}get api(){return this.children.filter(e=>e.classes.contains("api")).first}get results(){return this.children.filter(e=>e.classes.contains("result"))}get result(){return this.results.first}get annotations(){return this.children.filter(e=>e.element==="annotation")}get warnings(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("warning"))}get errors(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("error"))}get isEmpty(){return this.children.reject(e=>e.element==="annotation").isEmpty}replaceResult(e){const{result:t}=this;if(Oe(t))return!1;const s=this.content.findIndex(i=>i===t);return s===-1?!1:(this.content[s]=e,!0)}}const Ce=uc;class dc extends D{constructor(e,t,s){super(e,t,s),this.element="sourceMap"}get positionStart(){return this.children.filter(e=>e.classes.contains("position")).get(0)}get positionEnd(){return this.children.filter(e=>e.classes.contains("position")).get(1)}set position(e){if(typeof e>"u")return;const t=new D([e.start.row,e.start.column,e.start.char]),s=new D([e.end.row,e.end.column,e.end.char]);t.classes.push("position"),s.classes.push("position"),this.push(t).push(s)}}const zt=dc,pc=(r,e)=>typeof e=="object"&&e!==null&&r in e&&typeof e[r]=="function",hc=r=>typeof r=="object"&&r!=null&&"_storedElement"in r&&typeof r._storedElement=="string"&&"_content"in r,mc=(r,e)=>typeof e=="object"&&e!==null&&"primitive"in e?typeof e.primitive=="function"&&e.primitive()===r:!1,fc=(r,e)=>typeof e=="object"&&e!==null&&"classes"in e&&(Array.isArray(e.classes)||e.classes instanceof D)&&e.classes.includes(r),$e=(r,e)=>typeof e=="object"&&e!==null&&"element"in e&&e.element===r,vc=r=>r({hasMethod:pc,hasBasicElementProps:hc,primitiveEq:mc,isElementType:$e,hasClass:fc}),S=vc,X=S(({hasBasicElementProps:r,primitiveEq:e})=>t=>t instanceof Fo||r(t)&&e(void 0,t)),I=S(({hasBasicElementProps:r,primitiveEq:e})=>t=>t instanceof pe||r(t)&&e("string",t)),Oi=S(({hasBasicElementProps:r,primitiveEq:e})=>t=>t instanceof Sr||r(t)&&e("number",t)),Pi=S(({hasBasicElementProps:r,primitiveEq:e})=>t=>t instanceof jr||r(t)&&e("null",t)),tt=S(({hasBasicElementProps:r,primitiveEq:e})=>t=>t instanceof he||r(t)&&e("boolean",t)),N=S(({hasBasicElementProps:r,primitiveEq:e,hasMethod:t})=>s=>s instanceof y||r(s)&&e("object",s)&&t("keys",s)&&t("values",s)&&t("items",s)),oe=S(({hasBasicElementProps:r,primitiveEq:e,hasMethod:t})=>s=>s instanceof D&&!(s instanceof y)||r(s)&&e("array",s)&&t("push",s)&&t("unshift",s)&&t("map",s)&&t("reduce",s)),ve=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof et||r(s)&&e("member",s)&&t(void 0,s)),En=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Or||r(s)&&e("link",s)&&t(void 0,s)),Sn=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ae||r(s)&&e("ref",s)&&t(void 0,s)),gc=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ut||r(s)&&e("annotation",s)&&t("array",s)),yc=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ht||r(s)&&e("comment",s)&&t("string",s)),jn=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ce||r(s)&&e("parseResult",s)&&t("array",s)),On=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof zt||r(s)&&e("sourceMap",s)&&t("array",s)),Je=r=>$e("object",r)||$e("array",r)||$e("boolean",r)||$e("number",r)||$e("string",r)||$e("null",r)||$e("member",r),st=r=>On(r.meta.get("sourceMap")),xc=(r,e)=>{if(r.length===0)return!0;const t=e.attributes.get("symbols");return oe(t)?ln(nn(t.toValue()),r):!1},Vi=(r,e)=>r.length===0?!0:ln(nn(e.classes.toValue()),r),bc=Object.freeze(Object.defineProperty({__proto__:null,hasElementSourceMap:st,includesClasses:Vi,includesSymbols:xc,isAnnotationElement:gc,isArrayElement:oe,isBooleanElement:tt,isCommentElement:yc,isElement:X,isLinkElement:En,isMemberElement:ve,isNullElement:Pi,isNumberElement:Oi,isObjectElement:N,isParseResultElement:jn,isPrimitiveElement:Je,isRefElement:Sn,isSourceMapElement:On,isStringElement:I},Symbol.toStringTag,{value:"Module"}));class Pn extends Co{constructor(){super(),this.register("annotation",Ut),this.register("comment",Ht),this.register("parseResult",Ce),this.register("sourceMap",zt)}}const Vn=new Pn,Ms=r=>{const e=new Pn;return kt(r)&&e.use(r),e},$c=()=>({predicates:{...bc},namespace:Vn}),wn=$c,Ts=(r,e,t)=>{const s=r[e];if(s!=null){if(!t&&typeof s=="function")return s;const i=t?s.leave:s.enter;if(typeof i=="function")return i}else{const i=t?r.leave:r.enter;if(i!=null){if(typeof i=="function")return i;const n=i[e];if(typeof n=="function")return n}}return null},M={},rt=r=>r==null?void 0:r.type,Rn=r=>typeof rt(r)=="string",wi=r=>Object.create(Object.getPrototypeOf(r),Object.getOwnPropertyDescriptors(r)),Ri=(r,{visitFnGetter:e=Ts,nodeTypeGetter:t=rt,breakSymbol:s=M,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:o=!1}={})=>{const l=Symbol("skip"),p=new Array(r.length).fill(l);return{enter($,x,g,E,P,w){let d=$,V=!1;const b={...w,replaceWith(u,m){w.replaceWith(u,m),d=u}};for(let u=0;u<r.length;u+=1)if(p[u]===l){const m=e(r[u],t(d),!1);if(typeof m=="function"){const j=m.call(r[u],d,x,g,E,P,b);if(typeof(j==null?void 0:j.then)=="function")throw new Ee("Async visitor not supported in sync mode",{visitor:r[u],visitFn:m});if(j===n)p[u]=d;else if(j===s)p[u]=s;else{if(j===i)return j;if(j!==void 0)if(o)d=j,V=!0;else return j}}}return V?d:void 0},leave($,x,g,E,P,w){let d=$;const V={...w,replaceWith(b,u){w.replaceWith(b,u),d=b}};for(let b=0;b<r.length;b+=1)if(p[b]===l){const u=e(r[b],t(d),!0);if(typeof u=="function"){const m=u.call(r[b],d,x,g,E,P,V);if(typeof(m==null?void 0:m.then)=="function")throw new Ee("Async visitor not supported in sync mode",{visitor:r[b],visitFn:u});if(m===s)p[b]=s;else if(m!==void 0&&m!==n)return m}}else p[b]===d&&(p[b]=l)}}},Ec=(r,{visitFnGetter:e=Ts,nodeTypeGetter:t=rt,breakSymbol:s=M,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:o=!1}={})=>{const l=Symbol("skip"),p=new Array(r.length).fill(l);return{async enter($,x,g,E,P,w){let d=$,V=!1;const b={...w,replaceWith(u,m){w.replaceWith(u,m),d=u}};for(let u=0;u<r.length;u+=1)if(p[u]===l){const m=e(r[u],t(d),!1);if(typeof m=="function"){const j=await m.call(r[u],d,x,g,E,P,b);if(j===n)p[u]=d;else if(j===s)p[u]=s;else{if(j===i)return j;if(j!==void 0)if(o)d=j,V=!0;else return j}}}return V?d:void 0},async leave($,x,g,E,P,w){let d=$;const V={...w,replaceWith(b,u){w.replaceWith(b,u),d=b}};for(let b=0;b<r.length;b+=1)if(p[b]===l){const u=e(r[b],t(d),!0);if(typeof u=="function"){const m=await u.call(r[b],d,x,g,E,P,V);if(m===s)p[b]=s;else if(m!==void 0&&m!==n)return m}}else p[b]===d&&(p[b]=l)}}};Ri[Symbol.for("nodejs.util.promisify.custom")]=Ec;const Ai=(r,e,{keyMap:t=null,state:s={},breakSymbol:i=M,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:l=Ts,nodeTypeGetter:p=rt,nodePredicate:$=Rn,nodeCloneFn:x=wi,detectCycles:g=!0}={})=>{const E=t||{};let P,w=Array.isArray(r),d=[r],V=-1,b,u=[],m=r;const j=[],B=[];do{V+=1;const L=V===d.length;let U;const ne=L&&u.length!==0;if(L){if(U=B.length===0?void 0:j.pop(),m=b,b=B.pop(),ne)if(w){m=m.slice();let te=0;for(const[se,_]of u){const je=se-te;_===n?(m.splice(je,1),te+=1):m[je]=_}}else{m=x(m);for(const[te,se]of u)m[te]=se}V=P.index,d=P.keys,u=P.edits,w=P.inArray,P=P.prev}else if(b!==n&&b!==void 0){if(U=w?V:d[V],m=b[U],m===n||m===void 0)continue;j.push(U)}let G;if(!Array.isArray(m)){var H;if(!$(m))throw new Ee(`Invalid AST Node:  ${String(m)}`,{node:m});if(g&&B.includes(m)){j.pop();continue}const te=l(e,p(m),L);if(te){for(const[_,je]of Object.entries(s))e[_]=je;const se={replaceWith(_,je){typeof je=="function"?je(_,m,U,b,j,B):b&&(b[U]=_),L||(m=_)}};G=te.call(e,m,U,b,j,B,se)}if(typeof((H=G)===null||H===void 0?void 0:H.then)=="function")throw new Ee("Async visitor not supported in sync mode",{visitor:e,visitFn:te});if(G===i)break;if(G===o){if(!L){j.pop();continue}}else if(G!==void 0&&(u.push([U,G]),!L))if($(G))m=G;else{j.pop();continue}}if(G===void 0&&ne&&u.push([U,m]),!L){var A;P={inArray:w,index:V,keys:d,edits:u,prev:P},w=Array.isArray(m),d=w?m:(A=E[p(m)])!==null&&A!==void 0?A:[],V=-1,u=[],b!==n&&b!==void 0&&B.push(b),b=m}}while(P!==void 0);return u.length!==0?u[u.length-1][1]:r};Ai[Symbol.for("nodejs.util.promisify.custom")]=async(r,e,{keyMap:t=null,state:s={},breakSymbol:i=M,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:l=Ts,nodeTypeGetter:p=rt,nodePredicate:$=Rn,nodeCloneFn:x=wi,detectCycles:g=!0}={})=>{const E=t||{};let P,w=Array.isArray(r),d=[r],V=-1,b,u=[],m=r;const j=[],B=[];do{V+=1;const A=V===d.length;let L;const U=A&&u.length!==0;if(A){if(L=B.length===0?void 0:j.pop(),m=b,b=B.pop(),U)if(w){m=m.slice();let G=0;for(const[te,se]of u){const _=te-G;se===n?(m.splice(_,1),G+=1):m[_]=se}}else{m=x(m);for(const[G,te]of u)m[G]=te}V=P.index,d=P.keys,u=P.edits,w=P.inArray,P=P.prev}else if(b!==n&&b!==void 0){if(L=w?V:d[V],m=b[L],m===n||m===void 0)continue;j.push(L)}let ne;if(!Array.isArray(m)){if(!$(m))throw new Ee(`Invalid AST Node: ${String(m)}`,{node:m});if(g&&B.includes(m)){j.pop();continue}const G=l(e,p(m),A);if(G){for(const[se,_]of Object.entries(s))e[se]=_;const te={replaceWith(se,_){typeof _=="function"?_(se,m,L,b,j,B):b&&(b[L]=se),A||(m=se)}};ne=await G.call(e,m,L,b,j,B,te)}if(ne===i)break;if(ne===o){if(!A){j.pop();continue}}else if(ne!==void 0&&(u.push([L,ne]),!A))if($(ne))m=ne;else{j.pop();continue}}if(ne===void 0&&U&&u.push([L,m]),!A){var H;P={inArray:w,index:V,keys:d,edits:u,prev:P},w=Array.isArray(m),d=w?m:(H=E[p(m)])!==null&&H!==void 0?H:[],V=-1,u=[],b!==n&&b!==void 0&&B.push(b),b=m}}while(P!==void 0);return u.length!==0?u[u.length-1][1]:r};class Sc extends Ee{constructor(t,s){super(t,s);a(this,"value");typeof s<"u"&&(this.value=s.value)}}const An=Sc;class jc extends An{}const Oc=jc;class Pc extends An{}const Vc=Pc,O=(r,e={})=>{const{visited:t=new WeakMap}=e,s={...e,visited:t};if(t.has(r))return t.get(r);if(r instanceof Fe){const{key:i,value:n}=r,o=X(i)?O(i,s):i,l=X(n)?O(n,s):n,p=new Fe(o,l);return t.set(r,p),p}if(r instanceof Lt){const i=l=>O(l,s),n=[...r].map(i),o=new Lt(n);return t.set(r,o),o}if(r instanceof Ge){const i=l=>O(l,s),n=[...r].map(i),o=new Ge(n);return t.set(r,o),o}if(X(r)){const i=re(r);if(t.set(r,i),r.content)if(X(r.content))i.content=O(r.content,s);else if(r.content instanceof Fe)i.content=O(r.content,s);else if(Array.isArray(r.content)){const n=o=>O(o,s);i.content=r.content.map(n)}else i.content=r.content;else i.content=r.content;return i}throw new Oc("Value provided to cloneDeep function couldn't be cloned",{value:r})};O.safe=r=>{try{return O(r)}catch{return r}};const Fn=r=>{const{key:e,value:t}=r;return new Fe(e,t)},wc=r=>{const e=[...r];return new Ge(e)},Rc=r=>{const e=[...r];return new Lt(e)},Cn=r=>{const e=new r.constructor;if(e.element=r.element,r.meta.length>0&&(e._meta=O(r.meta)),r.attributes.length>0&&(e._attributes=O(r.attributes)),X(r.content)){const t=r.content;e.content=Cn(t)}else Array.isArray(r.content)?e.content=[...r.content]:r.content instanceof Fe?e.content=Fn(r.content):e.content=r.content;return e},re=r=>{if(r instanceof Fe)return Fn(r);if(r instanceof Lt)return Rc(r);if(r instanceof Ge)return wc(r);if(X(r))return Cn(r);throw new Vc("Value provided to cloneShallow function couldn't be cloned",{value:r})};re.safe=r=>{try{return re(r)}catch{return r}};const ke=r=>N(r)?"ObjectElement":oe(r)?"ArrayElement":ve(r)?"MemberElement":I(r)?"StringElement":tt(r)?"BooleanElement":Oi(r)?"NumberElement":Pi(r)?"NullElement":En(r)?"LinkElement":Sn(r)?"RefElement":void 0,In=r=>X(r)?re(r):wi(r),Mn=_e(ke,Ye),De={ObjectElement:["content"],ArrayElement:["content"],MemberElement:["key","value"],StringElement:[],BooleanElement:[],NumberElement:[],NullElement:[],RefElement:[],LinkElement:[],Annotation:[],Comment:[],ParseResultElement:["content"],SourceMap:["content"]};class Tn{constructor({predicate:e=yi,returnOnTrue:t,returnOnFalse:s}={}){a(this,"result");a(this,"predicate");a(this,"returnOnTrue");a(this,"returnOnFalse");this.result=[],this.predicate=e,this.returnOnTrue=t,this.returnOnFalse=s}enter(e){return this.predicate(e)?(this.result.push(e),this.returnOnTrue):this.returnOnFalse}}const ie=(r,e,{keyMap:t=De,...s}={})=>Ai(r,e,{keyMap:t,nodeTypeGetter:ke,nodePredicate:Mn,nodeCloneFn:In,...s});ie[Symbol.for("nodejs.util.promisify.custom")]=async(r,e,{keyMap:t=De,...s}={})=>Ai[Symbol.for("nodejs.util.promisify.custom")](r,e,{keyMap:t,nodeTypeGetter:ke,nodePredicate:Mn,nodeCloneFn:In,...s});const kn={toolboxCreator:wn,visitorOptions:{nodeTypeGetter:ke,exposeEdits:!0}},it=(r,e,t={})=>{if(e.length===0)return r;const s=vi(kn,t),{toolboxCreator:i,visitorOptions:n}=s,o=i(),l=e.map(x=>x(o)),p=Ri(l.map(Dt({},"visitor")),{...n});l.forEach(Ke(["pre"],[]));const $=ie(r,p,n);return l.forEach(Ke(["post"],[])),$},Ac=async(r,e,t={})=>{if(e.length===0)return r;const s=vi(kn,t),{toolboxCreator:i,visitorOptions:n}=s,o=i(),l=e.map(E=>E(o)),p=Ri[Symbol.for("nodejs.util.promisify.custom")],$=ie[Symbol.for("nodejs.util.promisify.custom")],x=p(l.map(Dt({},"visitor")),{...n});await Promise.allSettled(l.map(Ke(["pre"],[])));const g=await $(r,x,n);return await Promise.allSettled(l.map(Ke(["post"],[]))),g};it[Symbol.for("nodejs.util.promisify.custom")]=Ac;class Fc extends Ee{constructor(t,s){super(t,s);a(this,"value");typeof s<"u"&&(this.value=s.value)}}const Cc=Fc;class Dn{constructor({length:e=6}={}){a(this,"uuid");a(this,"identityMap");this.uuid=new Mo({length:e}),this.identityMap=new WeakMap}identify(e){if(!X(e))throw new Cc("Cannot not identify the element. `element` is neither structurally compatible nor a subclass of an Element class.",{value:e});if(e.meta.hasKey("id")&&I(e.meta.get("id"))&&!e.meta.get("id").equals(""))return e.id;if(this.identityMap.has(e))return this.identityMap.get(e);const t=new pe(this.generateId());return this.identityMap.set(e,t),t}forget(e){return this.identityMap.has(e)?(this.identityMap.delete(e),!0):!1}generateId(){return this.uuid.randomUUID()}}new Dn;class Ic extends Array{constructor(){super(...arguments);a(this,"unknownMediaType","application/octet-stream")}filterByFormat(){throw new xr("filterByFormat method in MediaTypes class is not yet implemented.")}findBy(){throw new xr("findBy method in MediaTypes class is not yet implemented.")}latest(){throw new xr("latest method in MediaTypes class is not yet implemented.")}}const Mc=Ic,Tc=(r,{Type:e,plugins:t=[]})=>{const s=new e(r);return X(r)&&(r.meta.length>0&&(s.meta=O(r.meta)),r.attributes.length>0&&(s.attributes=O(r.attributes))),it(s,t,{toolboxCreator:wn,visitorOptions:{nodeTypeGetter:ke}})},ae=r=>(e,t={})=>Tc(e,{...t,Type:r});y.refract=ae(y);D.refract=ae(D);pe.refract=ae(pe);he.refract=ae(he);jr.refract=ae(jr);Sr.refract=ae(Sr);Or.refract=ae(Or);Ae.refract=ae(Ae);Ut.refract=ae(Ut);Ht.refract=ae(Ht);Ce.refract=ae(Ce);zt.refract=ae(zt);const kc=(r,e)=>{const t=new Tn({predicate:r});return ie(e,t),new Ge(t.result)},Dc=kc,Nc=(r,e)=>{const t=new Tn({predicate:r,returnOnTrue:M});return ie(e,t),un(void 0,[0],t.result)},Nn=Nc,qn=r=>typeof(r==null?void 0:r.type)=="string"?r.type:ke(r),Ln={EphemeralObject:["content"],EphemeralArray:["content"],...De},Bn=(r,e,{keyMap:t=Ln,...s}={})=>ie(r,e,{keyMap:t,nodeTypeGetter:qn,nodePredicate:fe,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...s});Bn[Symbol.for("nodejs.util.promisify.custom")]=async(r,{keyMap:e=Ln,...t}={})=>ie[Symbol.for("nodejs.util.promisify.custom")](r,visitor,{keyMap:e,nodeTypeGetter:qn,nodePredicate:fe,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...t});class qc{constructor(e){a(this,"type","EphemeralArray");a(this,"content",[]);a(this,"reference");this.content=e,this.reference=[]}toReference(){return this.reference}toArray(){return this.reference.push(...this.content),this.reference}}const Lc=qc;class Bc{constructor(e){a(this,"type","EphemeralObject");a(this,"content",[]);a(this,"reference");this.content=e,this.reference={}}toReference(){return this.reference}toObject(){return Object.assign(this.reference,Object.fromEntries(this.content))}}const Jc=Bc;let Uc=class{constructor(){a(this,"ObjectElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const t=new Jc(e.content);return this.references.set(e,t),t}});a(this,"EphemeralObject",{leave:e=>e.toObject()});a(this,"MemberElement",{enter:e=>[e.key,e.value]});a(this,"ArrayElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const t=new Lc(e.content);return this.references.set(e,t),t}});a(this,"EphemeralArray",{leave:e=>e.toArray()});a(this,"references",new WeakMap)}BooleanElement(e){return e.toValue()}NumberElement(e){return e.toValue()}StringElement(e){return e.toValue()}NullElement(){return null}RefElement(e,...t){var s;const i=t[3];return((s=i[i.length-1])===null||s===void 0?void 0:s.type)==="EphemeralObject"?Symbol.for("delete-node"):String(e.toValue())}LinkElement(e){return I(e.href)?e.href.toValue():""}};const Hc=r=>X(r)?I(r)||Oi(r)||tt(r)||Pi(r)?r.toValue():Bn(r,new Uc):r,v=Hc,Tt=(r,e=new WeakMap)=>(ve(r)?(e.set(r.key,r),Tt(r.key,e),e.set(r.value,r),Tt(r.value,e)):r.children.forEach(t=>{e.set(t,r),Tt(t,e)}),e),zc=(r,e,t)=>{const s=t.get(r);ve(s)&&(s.key===r&&(s.key=e,t.delete(r),t.set(e,s)),s.value===r&&(s.value=e,t.delete(r),t.set(e,s)))},Wc=(r,e,t)=>{const s=t.get(r);N(s)&&(s.content=s.map((i,n,o)=>o===r?(t.delete(r),t.set(e,s),e):o))},Xc=(r,e,t)=>{const s=t.get(r);oe(s)&&(s.content=s.map(i=>i===r?(t.delete(r),t.set(e,s),e):i))};class Kc{constructor({element:e}){a(this,"element");a(this,"edges");this.element=e}transclude(e,t){var s;if(e===this.element)return t;if(e===t)return this.element;this.edges=(s=this.edges)!==null&&s!==void 0?s:Tt(this.element);const i=this.edges.get(e);if(!Oe(i))return N(i)?Wc(e,t,this.edges):oe(i)?Xc(e,t,this.edges):ve(i)&&zc(e,t,this.edges),this.element}}const Gc=Kc,Qy=(r,e,t)=>new Gc({element:t}).transclude(r,e),ks=(r,e)=>{const t=Nt(r,e);return $o(s=>{if(kt(s)&&dn("$ref",s)&&Eo(Ye,"$ref",s)){const i=ce(["$ref"],s),n=hi("#/",i);return ce(n.split("/"),t)}return kt(s)?ks(s,t):s},r)},Zc=(r,e=Vn)=>{if(Ye(r))try{return e.fromRefract(JSON.parse(r))}catch{}return kt(r)&&dn("element",r)?e.fromRefract(r):e.toElement(r)},Yy=Zc,Wt=r=>{const e=r.meta.length>0?O(r.meta):void 0,t=r.attributes.length>0?O(r.attributes):void 0;return new r.constructor(void 0,e,t)},Xt=(r,e)=>e.clone&&e.isMergeableElement(r)?me(Wt(r),r,e):r,Qc=(r,e)=>{if(typeof e.customMerge!="function")return me;const t=e.customMerge(r,e);return typeof t=="function"?t:me},Yc=r=>typeof r.customMetaMerge!="function"?e=>O(e):r.customMetaMerge,_c=r=>typeof r.customAttributesMerge!="function"?e=>O(e):r.customAttributesMerge,ea=(r,e,t)=>r.concat(e)["fantasy-land/map"](s=>Xt(s,t)),ta=(r,e,t)=>{const s=N(r)?Wt(r):Wt(e);return N(r)&&r.forEach((i,n,o)=>{const l=re(o);l.value=Xt(i,t),s.content.push(l)}),e.forEach((i,n,o)=>{const l=v(n);let p;if(N(r)&&r.hasKey(l)&&t.isMergeableElement(i)){const $=r.get(l);p=re(o),p.value=Qc(n,t)($,i)}else p=re(o),p.value=Xt(i,t);s.remove(l),s.content.push(p)}),s},It={clone:!0,isMergeableElement:r=>N(r)||oe(r),arrayElementMerge:ea,objectElementMerge:ta,customMerge:void 0,customMetaMerge:void 0,customAttributesMerge:void 0};function me(r,e,t){var s,i,n;const o={...It,...t};o.isMergeableElement=(s=o.isMergeableElement)!==null&&s!==void 0?s:It.isMergeableElement,o.arrayElementMerge=(i=o.arrayElementMerge)!==null&&i!==void 0?i:It.arrayElementMerge,o.objectElementMerge=(n=o.objectElementMerge)!==null&&n!==void 0?n:It.objectElementMerge;const l=oe(e),p=oe(r);if(!(l===p))return Xt(e,o);const x=l&&typeof o.arrayElementMerge=="function"?o.arrayElementMerge(r,e,o):o.objectElementMerge(r,e,o);return x.meta=Yc(o)(r.meta,e.meta),x.attributes=_c(o)(r.attributes,e.attributes),x}me.all=(r,e)=>{if(!Array.isArray(r))throw new TypeError("First argument of deepmerge should be an array.");return r.length===0?new y:r.reduce((t,s)=>me(t,s,e),Wt(r[0]))};class sa extends Y{}const Fi=sa;class ra extends Fi{}const Jn=ra,ia=async(r,e)=>{let t=r,s=!1;if(!jn(r)){const o=re(r);o.classes.push("result"),t=new Ce([o]),s=!0}const i=new Jt({uri:e.resolve.baseURI,parseResult:t,mediaType:e.parse.mediaType}),n=await Ei("canDereference",[i,e],e.dereference.strategies);if(gi(n))throw new Jn(i.uri);try{const{result:o}=await Si("dereference",[i,e],n);return s?o.get(0):o}catch(o){throw new Fi(`Error while dereferencing file "${i.uri}"`,{cause:o})}};class na{constructor({name:e,allowEmpty:t=!0,sourceMap:s=!1,fileExtensions:i=[],mediaTypes:n=[]}){a(this,"name");a(this,"allowEmpty");a(this,"sourceMap");a(this,"fileExtensions");a(this,"mediaTypes");this.name=e,this.allowEmpty=t,this.sourceMap=s,this.fileExtensions=i,this.mediaTypes=n}}const oa=na;class ca{constructor({name:e}){a(this,"name");this.name=e}}const aa=ca;class la extends aa{constructor(t){const{name:s="http-resolver",timeout:i=5e3,redirects:n=5,withCredentials:o=!1}=t??{};super({name:s});a(this,"timeout");a(this,"redirects");a(this,"withCredentials");this.timeout=i,this.redirects=n,this.withCredentials=o}canRead(t){return Jo(t.uri)}}const _y=la;class ua{constructor({name:e}){a(this,"name");this.name=e}}const da=ua;class pa{constructor({name:e}){a(this,"name");this.name=e}}const ha=pa;class br extends Array{includesCycle(e){return this.filter(t=>t.has(e)).length>1}includes(e,t){return e instanceof Set?super.includes(e,t):this.some(s=>s.has(e))}findItem(e){for(const t of this)for(const s of t)if(X(s)&&e(s))return s}}let ma=class{constructor({uri:e,depth:t=0,refSet:s,value:i}){a(this,"uri");a(this,"depth");a(this,"value");a(this,"refSet");a(this,"errors");this.uri=e,this.value=i,this.depth=t,this.refSet=s,this.errors=[]}};const Ue=ma;class fa extends Y{}const Un=fa;class va extends Un{}const ga=va;class ya extends Y{}const xa=ya;class ba extends xa{}const Hn=ba;class $a extends Un{constructor(e){super(`Invalid JSON Schema $anchor "${e}".`)}}const Ea=$a;class Sa extends Fi{}const $r=Sa;class ja extends ji{}const Oa=ja;class Pa extends Vr{}const Va=Pa,tx=async(r,e={})=>{const t=bn(Ko,e);return ia(r,t)};class wa extends Ee{}const Ci=wa;class Ra extends Ci{constructor(t,s){super(t,s);a(this,"pointer");typeof s<"u"&&(this.pointer=s.pointer)}}const Wi=Ra;class Aa extends Ci{constructor(t,s){super(t,s);a(this,"tokens");typeof s<"u"&&(this.tokens=[...s.tokens])}}const Fa=Aa;class Ca extends Ci{constructor(t,s){super(t,s);a(this,"pointer");a(this,"tokens");a(this,"failedToken");a(this,"failedTokenPosition");a(this,"element");typeof s<"u"&&(this.pointer=s.pointer,Array.isArray(s.tokens)&&(this.tokens=[...s.tokens]),this.failedToken=s.failedToken,this.failedTokenPosition=s.failedTokenPosition,this.element=s.element)}}const Mt=Ca,Ia=_e(qt(/~/g,"~0"),qt(/\//g,"~1"),encodeURIComponent),Ma=Ia,Ta=r=>{try{return decodeURIComponent(r)}catch{return r}},ka=_e(qt(/~1/g,"/"),qt(/~0/g,"~"),Ta),Da=ka,Na=r=>{if(rn(r))return[];if(!pn("/",r))throw new Wi(`Invalid JSON Pointer "${r}". JSON Pointers must begin with "/"`,{pointer:r});try{const e=_e(So("/"),jo(Da))(r);return Oo(e)}catch(e){throw new Wi(`JSON Pointer parsing of "${r}" encountered an error.`,{pointer:r,cause:e})}},qa=r=>{const e=r.indexOf("#");return e!==-1?r.substring(e):"#"},we=r=>{const e=qa(r);return hi("#",e)},La=Na,Ba=r=>{try{return r.length===0?"":`/${r.map(Ma).join("/")}`}catch(e){throw new Fa("JSON Pointer compilation of tokens encountered an error.",{tokens:r,cause:e})}},Ja=Ba,Ua=(r,e)=>{let t;try{t=La(r)}catch(s){throw new Mt(`JSON Pointer evaluation failed while parsing the pointer "${r}".`,{pointer:r,element:O(e),cause:s})}return t.reduce((s,i,n)=>{if(N(s)){if(!s.hasKey(i))throw new Mt(`JSON Pointer evaluation failed while evaluating token "${i}" against an ObjectElement`,{pointer:r,tokens:t,failedToken:i,failedTokenPosition:n,element:O(s)});return s.get(i)}if(oe(s)){if(!(i in s.content)||!mo(Number(i)))throw new Mt(`JSON Pointer evaluation failed while evaluating token "${i}" against an ArrayElement`,{pointer:r,tokens:t,failedToken:i,failedTokenPosition:n,element:O(s)});return s.get(Number(i))}throw new Mt(`JSON Pointer evaluation failed while evaluating token "${i}" against an unexpected Element`,{pointer:r,tokens:t,failedToken:i,failedTokenPosition:n,element:O(s)})},e)},Re=Ua;class Ha extends Mc{filterByFormat(e="generic"){const t=e==="generic"?"openapi;version":e;return this.filter(s=>s.includes(t))}findBy(e="3.1.0",t="generic"){const s=t==="generic"?`vnd.oai.openapi;version=${e}`:`vnd.oai.openapi+${t};version=${e}`;return this.find(n=>n.includes(s))||this.unknownMediaType}latest(e="generic"){return Cs(this.filterByFormat(e))}}const za=new Ha("application/vnd.oai.openapi;version=3.1.0","application/vnd.oai.openapi+json;version=3.1.0","application/vnd.oai.openapi+yaml;version=3.1.0"),Wa=za;let Xa=class extends y{constructor(e,t,s){super(e,t,s),this.element="callback"}};const nt=Xa;let Ka=class extends y{constructor(e,t,s){super(e,t,s),this.element="components"}get schemas(){return this.get("schemas")}set schemas(e){this.set("schemas",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get requestBodies(){return this.get("requestBodies")}set requestBodies(e){this.set("requestBodies",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get securitySchemes(){return this.get("securitySchemes")}set securitySchemes(e){this.set("securitySchemes",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}};const ot=Ka;let Ga=class extends y{constructor(e,t,s){super(e,t,s),this.element="contact"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get email(){return this.get("email")}set email(e){this.set("email",e)}};const ct=Ga;let Za=class extends y{constructor(e,t,s){super(e,t,s),this.element="discriminator"}get propertyName(){return this.get("propertyName")}set propertyName(e){this.set("propertyName",e)}get mapping(){return this.get("mapping")}set mapping(e){this.set("mapping",e)}};const Ds=Za;let Qa=class extends y{constructor(e,t,s){super(e,t,s),this.element="encoding"}get contentType(){return this.get("contentType")}set contentType(e){this.set("contentType",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowedReserved(){return this.get("allowedReserved")}set allowedReserved(e){this.set("allowedReserved",e)}};const Ns=Qa;let Ya=class extends y{constructor(e,t,s){super(e,t,s),this.element="example"}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get value(){return this.get("value")}set value(e){this.set("value",e)}get externalValue(){return this.get("externalValue")}set externalValue(e){this.set("externalValue",e)}};const at=Ya;let _a=class extends y{constructor(e,t,s){super(e,t,s),this.element="externalDocumentation"}get description(){return this.get("description")}set description(e){this.set("description",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}};const lt=_a;let zn=class extends y{constructor(e,t,s){super(e,t,s),this.element="header"}get required(){return this.hasKey("required")?this.get("required"):new he(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new he(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(zn.prototype,"description",{get(){return this.get("description")},set(r){this.set("description",r)},enumerable:!0});const ut=zn;let el=class extends y{constructor(e,t,s){super(e,t,s),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get termsOfService(){return this.get("termsOfService")}set termsOfService(e){this.set("termsOfService",e)}get contact(){return this.get("contact")}set contact(e){this.set("contact",e)}get license(){return this.get("license")}set license(e){this.set("license",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}};const dt=el;let tl=class extends y{constructor(e,t,s){super(e,t,s),this.element="license"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}};const pt=tl;let sl=class extends y{constructor(e,t,s){super(e,t,s),this.element="link"}get operationRef(){return this.get("operationRef")}set operationRef(e){this.set("operationRef",e)}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get operation(){if(I(this.operationRef)){var e;return(e=this.operationRef)===null||e===void 0?void 0:e.meta.get("operation")}if(I(this.operationId)){var t;return(t=this.operationId)===null||t===void 0?void 0:t.meta.get("operation")}}set operation(e){this.set("operation",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get server(){return this.get("server")}set server(e){this.set("server",e)}};const ht=sl;let rl=class extends y{constructor(e,t,s){super(e,t,s),this.element="mediaType"}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get encoding(){return this.get("encoding")}set encoding(e){this.set("encoding",e)}};const mt=rl;let il=class extends y{constructor(e,t,s){super(e,t,s),this.element="oAuthFlow"}get authorizationUrl(){return this.get("authorizationUrl")}set authorizationUrl(e){this.set("authorizationUrl",e)}get tokenUrl(){return this.get("tokenUrl")}set tokenUrl(e){this.set("tokenUrl",e)}get refreshUrl(){return this.get("refreshUrl")}set refreshUrl(e){this.set("refreshUrl",e)}get scopes(){return this.get("scopes")}set scopes(e){this.set("scopes",e)}};const qs=il;let nl=class extends y{constructor(e,t,s){super(e,t,s),this.element="oAuthFlows"}get implicit(){return this.get("implicit")}set implicit(e){this.set("implicit",e)}get password(){return this.get("password")}set password(e){this.set("password",e)}get clientCredentials(){return this.get("clientCredentials")}set clientCredentials(e){this.set("clientCredentials",e)}get authorizationCode(){return this.get("authorizationCode")}set authorizationCode(e){this.set("authorizationCode",e)}};const Ls=nl;let ol=class extends pe{constructor(e,t,s){super(e,t,s),this.element="openapi",this.classes.push("spec-version"),this.classes.push("version")}};const ft=ol;class cl extends y{constructor(e,t,s){super(e,t,s),this.element="openApi3_0",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}const Bs=cl;let al=class extends y{constructor(e,t,s){super(e,t,s),this.element="operation"}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}set externalDocs(e){this.set("externalDocs",e)}get externalDocs(){return this.get("externalDocs")}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new he(!1)}set deprecated(e){this.set("deprecated",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get servers(){return this.get("severs")}set servers(e){this.set("servers",e)}};const vt=al;let Wn=class extends y{constructor(e,t,s){super(e,t,s),this.element="parameter"}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get required(){return this.hasKey("required")?this.get("required"):new he(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new he(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Wn.prototype,"description",{get(){return this.get("description")},set(r){this.set("description",r)},enumerable:!0});const gt=Wn;let ll=class extends y{constructor(e,t,s){super(e,t,s),this.element="pathItem"}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}};const yt=ll;let ul=class extends y{constructor(e,t,s){super(e,t,s),this.element="paths"}};const xt=ul;let dl=class extends y{constructor(e,t,s){super(e,t,s),this.element="reference",this.classes.push("openapi-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}};const bt=dl;let pl=class extends y{constructor(e,t,s){super(e,t,s),this.element="requestBody"}get description(){return this.get("description")}set description(e){this.set("description",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get required(){return this.hasKey("required")?this.get("required"):new he(!1)}set required(e){this.set("required",e)}};const $t=pl;let hl=class extends y{constructor(e,t,s){super(e,t,s),this.element="response"}get description(){return this.get("description")}set description(e){this.set("description",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}};const Et=hl;let ml=class extends y{constructor(e,t,s){super(e,t,s),this.element="responses"}get default(){return this.get("default")}set default(e){this.set("default",e)}};const St=ml;class fl extends y{constructor(e,t,s){super(e,t,s),this.element="JSONSchemaDraft4"}get idProp(){return this.get("id")}set idProp(e){this.set("id",e)}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get dependencies(){return this.get("dependencies")}set dependencies(e){this.set("dependencies",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){return this.get("definitions")}set definitions(e){this.set("definitions",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get base(){return this.get("base")}set base(e){this.set("base",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get media(){return this.get("media")}set media(e){this.set("media",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}}const jt=fl;class vl extends y{constructor(e,t,s){super(e,t,s),this.element="JSONReference",this.classes.push("json-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}}const Js=vl;class gl extends y{constructor(e,t,s){super(e,t,s),this.element="media"}get binaryEncoding(){return this.get("binaryEncoding")}set binaryEncoding(e){this.set("binaryEncoding",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}}const Us=gl;class yl extends y{constructor(e,t,s){super(e,t,s),this.element="linkDescription"}get href(){return this.get("href")}set href(e){this.set("href",e)}get rel(){return this.get("rel")}set rel(e){this.set("rel",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){return this.get("mediaType")}set mediaType(e){this.set("mediaType",e)}get method(){return this.get("method")}set method(e){this.set("method",e)}get encType(){return this.get("encType")}set encType(e){this.set("encType",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}const Hs=yl,xl={namespace:r=>{const{base:e}=r;return e.register("jSONSchemaDraft4",jt),e.register("jSONReference",Js),e.register("media",Us),e.register("linkDescription",Hs),e}},bl=xl,$l=r=>{if(X(r))return`${r.element.charAt(0).toUpperCase()+r.element.slice(1)}Element`},El={JSONSchemaDraft4Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...De};let Sl=class{constructor(e){a(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,t){(e.meta.length>0||t.meta.length>0)&&(t.meta=me(t.meta,e.meta),st(e)&&t.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(t.attributes=me(t.attributes,e.attributes))}};const Xn=Sl;let jl=class extends Xn{enter(e){return this.element=O(e),M}};const z=jl;let Ol=class extends Xn{constructor({specObj:t,...s}){super({...s});a(this,"specObj");a(this,"passingOptionsNames",["specObj"]);this.specObj=t}retrievePassingOptions(){return hn(this.passingOptionsNames,this)}retrieveFixedFields(t){const s=ce(["visitors",...t,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(t){return fi(on,["visitors",...t],this.specObj)?ce(["visitors",...t],this.specObj):ce(["visitors",...t,"$visitor"],this.specObj)}retrieveVisitorInstance(t,s={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(t),o={...i,...s};return new n(o)}toRefractedElement(t,s,i={}){const n=this.retrieveVisitorInstance(t,i);return n instanceof z&&(n==null?void 0:n.constructor)===z?O(s):(ie(s,n,i),n.element)}};const Se=Ol;let Pl=class extends Se{constructor({specPath:t,ignoredFields:s,...i}){super({...i});a(this,"specPath");a(this,"ignoredFields");this.specPath=t,this.ignoredFields=s||[]}ObjectElement(t){const s=this.specPath(t),i=this.retrieveFixedFields(s);return t.forEach((n,o,l)=>{if(I(o)&&i.includes(v(o))&&!this.ignoredFields.includes(v(o))){const p=this.toRefractedElement([...s,"fixedFields",v(o)],n),$=new et(O(o),p);this.copyMetaAndAttributes(l,$),$.classes.push("fixed-field"),this.element.content.push($)}else this.ignoredFields.includes(v(o))||this.element.content.push(O(l))}),this.copyMetaAndAttributes(t,this.element),M}};const Ze=Pl;class Vl extends f(Ze,z){constructor(e){super(e),this.element=new jt,this.specPath=R(["document","objects","JSONSchema"])}}const wl=Vl;let Rl=class{constructor({parent:e}){a(this,"parent");this.parent=e}};const ge=Rl,ue=r=>N(r)&&r.hasKey("$ref");let Al=class extends f(Se,ge,z){ObjectElement(e){const t=ue(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"];return this.element=this.toRefractedElement(t,e),M}ArrayElement(e){return this.element=new D,this.element.classes.push("json-schema-items"),e.forEach(t=>{const s=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),M}};const Fl=Al;class Cl extends z{ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-required"),t}}const Il=Cl;let Ml=class extends Se{constructor({specPath:t,ignoredFields:s,fieldPatternPredicate:i,...n}){super({...n});a(this,"specPath");a(this,"ignoredFields");a(this,"fieldPatternPredicate",yi);this.specPath=t,this.ignoredFields=s||[],typeof i=="function"&&(this.fieldPatternPredicate=i)}ObjectElement(t){return t.forEach((s,i,n)=>{if(!this.ignoredFields.includes(v(i))&&this.fieldPatternPredicate(v(i))){const o=this.specPath(s),l=this.toRefractedElement(o,s),p=new et(O(i),l);this.copyMetaAndAttributes(n,p),p.classes.push("patterned-field"),this.element.content.push(p)}else this.ignoredFields.includes(v(i))||this.element.content.push(O(n))}),this.copyMetaAndAttributes(t,this.element),M}};const Tl=Ml;let kl=class extends Tl{constructor(e){super(e),this.fieldPatternPredicate=mi}};const zs=kl;let Dl=class extends f(zs,ge,z){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-properties"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}};const Nl=Dl;let ql=class extends f(zs,ge,z){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-patternProperties"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}};const Ll=ql;class Bl extends f(zs,ge,z){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-dependencies"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}const Jl=Bl;let Ul=class extends z{ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-enum"),t}};const Hl=Ul;let zl=class extends z{StringElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-type"),t}ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-type"),t}};const Wl=zl;let Xl=class extends f(Se,ge,z){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach(t=>{const s=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),M}};const Kl=Xl;let Gl=class extends f(Se,ge,z){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach(t=>{const s=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),M}};const Zl=Gl;let Ql=class extends f(Se,ge,z){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach(t=>{const s=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),M}};const Yl=Ql;class _l extends f(zs,ge,z){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-definitions"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}const eu=_l;let tu=class extends f(Se,ge,z){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-links")}ArrayElement(e){return e.forEach(t=>{const s=this.toRefractedElement(["document","objects","LinkDescription"],t);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),M}};const su=tu;class ru extends f(Ze,z){constructor(e){super(e),this.element=new Js,this.specPath=R(["document","objects","JSONReference"])}ObjectElement(e){const t=Ze.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&this.element.classes.push("reference-element"),t}}const iu=ru;let nu=class extends z{StringElement(e){const t=this.enter(e);return this.element.classes.push("reference-value"),t}};const ou=nu;let cu=class extends Se{constructor({alternator:t,...s}){super({...s});a(this,"alternator");this.alternator=t}enter(t){const s=this.alternator.map(({predicate:n,specPath:o})=>mn(n,R(o),cn)),i=an(s)(t);return this.element=this.toRefractedElement(i,t),M}};const au=cu;let lu=class extends au{constructor(e){super(e),this.alternator=[{predicate:ue,specPath:["document","objects","JSONReference"]},{predicate:fe,specPath:["document","objects","JSONSchema"]}]}};const Ve=lu;class uu extends f(Ze,z){constructor(e){super(e),this.element=new Us,this.specPath=R(["document","objects","Media"])}}const du=uu;class pu extends f(Ze,z){constructor(e){super(e),this.element=new Hs,this.specPath=R(["document","objects","LinkDescription"])}}const hu=pu,mu={visitors:{value:z,JSONSchemaOrJSONReferenceVisitor:Ve,document:{objects:{JSONSchema:{$visitor:wl,fixedFields:{id:{$ref:"#/visitors/value"},$schema:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},additionalItems:Ve,items:Fl,maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:Il,properties:Nl,additionalProperties:Ve,patternProperties:Ll,dependencies:Jl,enum:Hl,type:Wl,allOf:Kl,anyOf:Zl,oneOf:Yl,not:Ve,definitions:eu,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},format:{$ref:"#/visitors/value"},base:{$ref:"#/visitors/value"},links:su,media:{$ref:"#/visitors/document/objects/Media"},readOnly:{$ref:"#/visitors/value"}}},JSONReference:{$visitor:iu,fixedFields:{$ref:ou}},Media:{$visitor:du,fixedFields:{binaryEncoding:{$ref:"#/visitors/value"},type:{$ref:"#/visitors/value"}}},LinkDescription:{$visitor:hu,fixedFields:{href:{$ref:"#/visitors/value"},rel:{$ref:"#/visitors/value"},title:{$ref:"#/visitors/value"},targetSchema:Ve,mediaType:{$ref:"#/visitors/value"},method:{$ref:"#/visitors/value"},encType:{$ref:"#/visitors/value"},schema:Ve}}}}}},ye=mu,fu=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof jt||r(s)&&e("JSONSchemaDraft4",s)&&t("object",s)),vu=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Js||r(s)&&e("JSONReference",s)&&t("object",s)),gu=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Us||r(s)&&e("media",s)&&t("object",s)),yu=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Hs||r(s)&&e("linkDescription",s)&&t("object",s)),xu=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:vu,isJSONSchemaElement:fu,isLinkDescriptionElement:yu,isMediaElement:gu},Symbol.toStringTag,{value:"Module"})),bu=()=>{const r=Ms(bl);return{predicates:{...xu,isStringElement:I},namespace:r}},$u=bu,Eu=(r,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:t=[],specificationObj:s=ye}={})=>{const i=xi(r),n=ks(s),o=ce(e,n),l=new o({specObj:n});return ie(i,l),it(l.element,t,{toolboxCreator:$u,visitorOptions:{keyMap:El,nodeTypeGetter:$l}})},Ws=r=>(e,t={})=>Eu(e,{specPath:r,...t});jt.refract=Ws(["visitors","document","objects","JSONSchema","$visitor"]);Js.refract=Ws(["visitors","document","objects","JSONReference","$visitor"]);Us.refract=Ws(["visitors","document","objects","Media","$visitor"]);Hs.refract=Ws(["visitors","document","objects","LinkDescription","$visitor"]);let Su=class extends jt{constructor(e,t,s){super(e,t,s),this.element="schema",this.classes.push("json-schema-draft-4")}get idProp(){throw new Q("idProp getter in Schema class is not not supported.")}set idProp(e){throw new Q("idProp setter in Schema class is not not supported.")}get $schema(){throw new Q("$schema getter in Schema class is not not supported.")}set $schema(e){throw new Q("$schema setter in Schema class is not not supported.")}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){throw new Q("patternProperties getter in Schema class is not not supported.")}set patternProperties(e){throw new Q("patternProperties setter in Schema class is not not supported.")}get dependencies(){throw new Q("dependencies getter in Schema class is not not supported.")}set dependencies(e){throw new Q("dependencies setter in Schema class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){throw new Q("definitions getter in Schema class is not not supported.")}set definitions(e){throw new Q("definitions setter in Schema class is not not supported.")}get base(){throw new Q("base getter in Schema class is not not supported.")}set base(e){throw new Q("base setter in Schema class is not not supported.")}get links(){throw new Q("links getter in Schema class is not not supported.")}set links(e){throw new Q("links setter in Schema class is not not supported.")}get media(){throw new Q("media getter in Schema class is not not supported.")}set media(e){throw new Q("media setter in Schema class is not not supported.")}get nullable(){return this.get("nullable")}set nullable(e){this.set("nullable",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}};const Xs=Su;let ju=class extends y{constructor(e,t,s){super(e,t,s),this.element="securityRequirement"}};const Ot=ju;let Ou=class extends y{constructor(e,t,s){super(e,t,s),this.element="securityScheme"}get type(){return this.get("type")}set type(e){this.set("type",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get scheme(){return this.get("scheme")}set scheme(e){this.set("scheme",e)}get bearerFormat(){return this.get("bearerFormat")}set bearerFormat(e){this.set("bearerFormat",e)}get flows(){return this.get("flows")}set flows(e){this.set("flows",e)}get openIdConnectUrl(){return this.get("openIdConnectUrl")}set openIdConnectUrl(e){this.set("openIdConnectUrl",e)}};const Pt=Ou;let Pu=class extends y{constructor(e,t,s){super(e,t,s),this.element="server"}get url(){return this.get("url")}set url(e){this.set("url",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get variables(){return this.get("variables")}set variables(e){this.set("variables",e)}};const Vt=Pu;let Vu=class extends y{constructor(e,t,s){super(e,t,s),this.element="serverVariable"}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}};const wt=Vu;let wu=class extends y{constructor(e,t,s){super(e,t,s),this.element="tag"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}};const Ks=wu;let Ru=class extends y{constructor(e,t,s){super(e,t,s),this.element="xml"}get name(){return this.get("name")}set name(e){this.set("name",e)}get namespace(){return this.get("namespace")}set namespace(e){this.set("namespace",e)}get prefix(){return this.get("prefix")}set prefix(e){this.set("prefix",e)}get attribute(){return this.get("attribute")}set attribute(e){this.set("attribute",e)}get wrapped(){return this.get("wrapped")}set wrapped(e){this.set("wrapped",e)}};const Gs=Ru,Au={namespace:r=>{const{base:e}=r;return e.register("callback",nt),e.register("components",ot),e.register("contact",ct),e.register("discriminator",Ds),e.register("encoding",Ns),e.register("example",at),e.register("externalDocumentation",lt),e.register("header",ut),e.register("info",dt),e.register("license",pt),e.register("link",ht),e.register("mediaType",mt),e.register("oAuthFlow",qs),e.register("oAuthFlows",Ls),e.register("openapi",ft),e.register("openApi3_0",Bs),e.register("operation",vt),e.register("parameter",gt),e.register("pathItem",yt),e.register("paths",xt),e.register("reference",bt),e.register("requestBody",$t),e.register("response",Et),e.register("responses",St),e.register("schema",Xs),e.register("securityRequirement",Ot),e.register("securityScheme",Pt),e.register("server",Vt),e.register("serverVariable",wt),e.register("tag",Ks),e.register("xml",Gs),e}},Fu=Au,Gt=class Gt extends D{constructor(e,t,s){super(e,t,s),this.classes.push(Gt.primaryClass)}};a(Gt,"primaryClass","servers");let wr=Gt;const Kn=wr,Zt=class Zt extends D{constructor(e,t,s){super(e,t,s),this.classes.push(Zt.primaryClass)}};a(Zt,"primaryClass","security");let Rr=Zt;const Cu=Rr,Qt=class Qt extends D{constructor(e,t,s){super(e,t,s),this.classes.push(Qt.primaryClass)}};a(Qt,"primaryClass","tags");let Ar=Qt;const Iu=Ar,Yt=class Yt extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Yt.primaryClass)}};a(Yt,"primaryClass","server-variables");let Fr=Yt;const Mu=Fr,_t=class _t extends y{constructor(e,t,s){super(e,t,s),this.classes.push(_t.primaryClass)}};a(_t,"primaryClass","components-schemas");let Cr=_t;const Gn=Cr,es=class es extends y{constructor(e,t,s){super(e,t,s),this.classes.push(es.primaryClass)}};a(es,"primaryClass","components-responses");let Ir=es;const Tu=Ir,ts=class ts extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ts.primaryClass),this.classes.push("parameters")}};a(ts,"primaryClass","components-parameters");let Mr=ts;const ku=Mr,ss=class ss extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ss.primaryClass),this.classes.push("examples")}};a(ss,"primaryClass","components-examples");let Tr=ss;const Du=Tr,rs=class rs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(rs.primaryClass)}};a(rs,"primaryClass","components-request-bodies");let kr=rs;const Nu=kr,is=class is extends y{constructor(e,t,s){super(e,t,s),this.classes.push(is.primaryClass)}};a(is,"primaryClass","components-headers");let Dr=is;const qu=Dr,ns=class ns extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ns.primaryClass)}};a(ns,"primaryClass","components-security-schemes");let Nr=ns;const Lu=Nr,os=class os extends y{constructor(e,t,s){super(e,t,s),this.classes.push(os.primaryClass)}};a(os,"primaryClass","components-links");let qr=os;const Bu=qr,cs=class cs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(cs.primaryClass)}};a(cs,"primaryClass","components-callbacks");let Lr=cs;const Ju=Lr,as=class as extends D{constructor(e,t,s){super(e,t,s),this.classes.push(as.primaryClass),this.classes.push("servers")}};a(as,"primaryClass","path-item-servers");let Br=as;const Uu=Br,ls=class ls extends D{constructor(e,t,s){super(e,t,s),this.classes.push(ls.primaryClass),this.classes.push("parameters")}};a(ls,"primaryClass","path-item-parameters");let Jr=ls;const Hu=Jr,us=class us extends D{constructor(e,t,s){super(e,t,s),this.classes.push(us.primaryClass),this.classes.push("parameters")}};a(us,"primaryClass","operation-parameters");let Ur=us;const Zn=Ur,ds=class ds extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ds.primaryClass),this.classes.push("examples")}};a(ds,"primaryClass","parameter-examples");let Hr=ds;const zu=Hr,ps=class ps extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ps.primaryClass),this.classes.push("content")}};a(ps,"primaryClass","parameter-content");let zr=ps;const Wu=zr,hs=class hs extends D{constructor(e,t,s){super(e,t,s),this.classes.push(hs.primaryClass)}};a(hs,"primaryClass","operation-tags");let Wr=hs;const Xu=Wr,ms=class ms extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ms.primaryClass)}};a(ms,"primaryClass","operation-callbacks");let Xr=ms;const Ku=Xr,fs=class fs extends D{constructor(e,t,s){super(e,t,s),this.classes.push(fs.primaryClass),this.classes.push("security")}};a(fs,"primaryClass","operation-security");let Kr=fs;const Qn=Kr,vs=class vs extends D{constructor(e,t,s){super(e,t,s),this.classes.push(vs.primaryClass),this.classes.push("servers")}};a(vs,"primaryClass","operation-servers");let Gr=vs;const Gu=Gr,gs=class gs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(gs.primaryClass),this.classes.push("content")}};a(gs,"primaryClass","request-body-content");let Zr=gs;const Zu=Zr,ys=class ys extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ys.primaryClass),this.classes.push("examples")}};a(ys,"primaryClass","media-type-examples");let Qr=ys;const Qu=Qr,xs=class xs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(xs.primaryClass)}};a(xs,"primaryClass","media-type-encoding");let Yr=xs;const Yu=Yr,bs=class bs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(bs.primaryClass)}};a(bs,"primaryClass","encoding-headers");let _r=bs;const _u=_r,$s=class $s extends y{constructor(e,t,s){super(e,t,s),this.classes.push($s.primaryClass)}};a($s,"primaryClass","response-headers");let ei=$s;const ed=ei,Es=class Es extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Es.primaryClass),this.classes.push("content")}};a(Es,"primaryClass","response-content");let ti=Es;const td=ti,Ss=class Ss extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Ss.primaryClass)}};a(Ss,"primaryClass","response-links");let si=Ss;const sd=si,js=class js extends y{constructor(e,t,s){super(e,t,s),this.classes.push(js.primaryClass)}};a(js,"primaryClass","discriminator-mapping");let ri=js;const rd=ri,Os=class Os extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Os.primaryClass)}};a(Os,"primaryClass","oauth-flow-scopes");let ii=Os;const id=ii,Ps=class Ps extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Ps.primaryClass)}};a(Ps,"primaryClass","link-parameters");let ni=Ps;const nd=ni,Vs=class Vs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Vs.primaryClass),this.classes.push("examples")}};a(Vs,"primaryClass","header-examples");let oi=Vs;const od=oi,ws=class ws extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ws.primaryClass),this.classes.push("content")}};a(ws,"primaryClass","header-content");let ci=ws;const cd=ci,ad=r=>{if(X(r))return`${r.element.charAt(0).toUpperCase()+r.element.slice(1)}Element`},ld={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_0Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...De};class ud{constructor(e={}){a(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,t){(e.meta.length>0||t.meta.length>0)&&(t.meta=me(t.meta,e.meta),st(e)&&t.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(t.attributes=me(t.attributes,e.attributes))}}const Yn=ud;class dd extends Yn{enter(e){return this.element=O(e),M}}const h=dd;class pd extends Yn{constructor({specObj:t,passingOptionsNames:s,openApiGenericElement:i,openApiSemanticElement:n,...o}){super({...o});a(this,"specObj");a(this,"passingOptionsNames",["specObj","openApiGenericElement","openApiSemanticElement"]);a(this,"openApiGenericElement");a(this,"openApiSemanticElement");this.specObj=t,this.openApiGenericElement=i,this.openApiSemanticElement=n,Array.isArray(s)&&(this.passingOptionsNames=s)}retrievePassingOptions(){return hn(this.passingOptionsNames,this)}retrieveFixedFields(t){const s=ce(["visitors",...t,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(t){return fi(on,["visitors",...t],this.specObj)?ce(["visitors",...t],this.specObj):ce(["visitors",...t,"$visitor"],this.specObj)}retrieveVisitorInstance(t,s={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(t),o={...i,...s};return new n(o)}toRefractedElement(t,s,i={}){const n=this.retrieveVisitorInstance(t,i);return n instanceof h&&(n==null?void 0:n.constructor)===h?O(s):(ie(s,n,i),n.element)}}const ee=pd,J=r=>N(r)&&r.hasKey("$ref"),hd=N,md=N,_n=r=>I(r.key)&&pn("x-",v(r.key));class fd extends ee{constructor({specPath:t,ignoredFields:s,canSupportSpecificationExtensions:i,specificationExtensionPredicate:n,...o}){super({...o});a(this,"specPath");a(this,"ignoredFields");a(this,"canSupportSpecificationExtensions",!0);a(this,"specificationExtensionPredicate",_n);this.specPath=t,this.ignoredFields=s||[],typeof i=="boolean"&&(this.canSupportSpecificationExtensions=i),typeof n=="function"&&(this.specificationExtensionPredicate=n)}ObjectElement(t){const s=this.specPath(t),i=this.retrieveFixedFields(s);return t.forEach((n,o,l)=>{if(I(o)&&i.includes(v(o))&&!this.ignoredFields.includes(v(o))){const p=this.toRefractedElement([...s,"fixedFields",v(o)],n),$=new et(O(o),p);this.copyMetaAndAttributes(l,$),$.classes.push("fixed-field"),this.element.content.push($)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(l)){const p=this.toRefractedElement(["document","extension"],l);this.element.content.push(p)}else this.ignoredFields.includes(v(o))||this.element.content.push(O(l))}),this.copyMetaAndAttributes(t,this.element),M}}const C=fd;class vd extends f(C,h){constructor(e){super(e),this.element=new Bs,this.specPath=R(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){return C.prototype.ObjectElement.call(this,e)}}const gd=vd;class yd extends f(ee,h){StringElement(e){const t=new ft(v(e));return this.copyMetaAndAttributes(e,t),this.element=t,M}}const xd=yd;class bd extends ee{MemberElement(e){return this.element=O(e),this.element.classes.push("specification-extension"),M}}const $d=bd;let Ed=class extends f(C,h){constructor(e){super(e),this.element=new dt,this.specPath=R(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}};const Sd=Ed;class jd extends h{StringElement(e){const t=super.enter(e);return this.element.classes.push("api-version"),this.element.classes.push("version"),t}}const Od=jd;let Pd=class extends f(C,h){constructor(e){super(e),this.element=new ct,this.specPath=R(["document","objects","Contact"]),this.canSupportSpecificationExtensions=!0}};const Vd=Pd;let wd=class extends f(C,h){constructor(e){super(e),this.element=new pt,this.specPath=R(["document","objects","License"]),this.canSupportSpecificationExtensions=!0}};const Rd=wd;let Ad=class extends f(C,h){constructor(e){super(e),this.element=new ht,this.specPath=R(["document","objects","Link"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=C.prototype.ObjectElement.call(this,e);return(I(this.element.operationId)||I(this.element.operationRef))&&this.element.classes.push("reference-element"),t}};const Fd=Ad;class Cd extends h{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}const Id=Cd;class Md extends h{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}const Td=Md;class kd extends ee{constructor({specPath:t,ignoredFields:s,fieldPatternPredicate:i,canSupportSpecificationExtensions:n,specificationExtensionPredicate:o,...l}){super({...l});a(this,"specPath");a(this,"ignoredFields");a(this,"fieldPatternPredicate",yi);a(this,"canSupportSpecificationExtensions",!1);a(this,"specificationExtensionPredicate",_n);this.specPath=t,this.ignoredFields=s||[],typeof i=="function"&&(this.fieldPatternPredicate=i),typeof n=="boolean"&&(this.canSupportSpecificationExtensions=n),typeof o=="function"&&(this.specificationExtensionPredicate=o)}ObjectElement(t){return t.forEach((s,i,n)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const o=this.toRefractedElement(["document","extension"],n);this.element.content.push(o)}else if(!this.ignoredFields.includes(v(i))&&this.fieldPatternPredicate(v(i))){const o=this.specPath(s),l=this.toRefractedElement(o,s),p=new et(O(i),l);this.copyMetaAndAttributes(n,p),p.classes.push("patterned-field"),this.element.content.push(p)}else this.ignoredFields.includes(v(i))||this.element.content.push(O(n))}),this.copyMetaAndAttributes(t,this.element),M}}const Ie=kd;class Dd extends Ie{constructor(e){super(e),this.fieldPatternPredicate=mi}}const F=Dd;let Nd=class extends f(F,h){constructor(e){super(e),this.element=new nd,this.specPath=R(["value"])}};const qd=Nd;let Ld=class extends f(C,h){constructor(e){super(e),this.element=new Vt,this.specPath=R(["document","objects","Server"]),this.canSupportSpecificationExtensions=!0}};const Bd=Ld;class Jd extends h{StringElement(e){const t=super.enter(e);return this.element.classes.push("server-url"),t}}const Ud=Jd;let Hd=class extends f(ee,h){constructor(e){super(e),this.element=new Kn}ArrayElement(e){return e.forEach(t=>{const s=hd(t)?["document","objects","Server"]:["value"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),M}};const Ii=Hd;let zd=class extends f(C,h){constructor(e){super(e),this.element=new wt,this.specPath=R(["document","objects","ServerVariable"]),this.canSupportSpecificationExtensions=!0}};const Wd=zd;class Xd extends f(F,h){constructor(e){super(e),this.element=new Mu,this.specPath=R(["document","objects","ServerVariable"])}}const Kd=Xd;let Gd=class extends f(C,h){constructor(e){super(e),this.element=new mt,this.specPath=R(["document","objects","MediaType"]),this.canSupportSpecificationExtensions=!0}};const Zd=Gd;class Qd extends ee{constructor({alternator:t,...s}){super({...s});a(this,"alternator");this.alternator=t||[]}enter(t){const s=this.alternator.map(({predicate:n,specPath:o})=>mn(n,R(o),cn)),i=an(s)(t);return this.element=this.toRefractedElement(i,t),M}}const de=Qd,Yd=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof nt||r(s)&&e("callback",s)&&t("object",s)),_d=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ot||r(s)&&e("components",s)&&t("object",s)),ep=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ct||r(s)&&e("contact",s)&&t("object",s)),tp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof at||r(s)&&e("example",s)&&t("object",s)),sp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof lt||r(s)&&e("externalDocumentation",s)&&t("object",s)),Ne=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ut||r(s)&&e("header",s)&&t("object",s)),rp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof dt||r(s)&&e("info",s)&&t("object",s)),ip=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof pt||r(s)&&e("license",s)&&t("object",s)),np=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ht||r(s)&&e("link",s)&&t("object",s)),op=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ft||r(s)&&e("openapi",s)&&t("string",s)),cp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t,hasClass:s})=>i=>i instanceof Bs||r(i)&&e("openApi3_0",i)&&t("object",i)&&s("api",i)),eo=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof vt||r(s)&&e("operation",s)&&t("object",s)),ap=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof gt||r(s)&&e("parameter",s)&&t("object",s)),Mi=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof yt||r(s)&&e("pathItem",s)&&t("object",s)),lp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof xt||r(s)&&e("paths",s)&&t("object",s)),q=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof bt||r(s)&&e("reference",s)&&t("object",s)),up=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof $t||r(s)&&e("requestBody",s)&&t("object",s)),Zs=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Et||r(s)&&e("response",s)&&t("object",s)),dp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof St||r(s)&&e("responses",s)&&t("object",s)),pp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Xs||r(s)&&e("schema",s)&&t("object",s)),hp=r=>tt(r)&&r.classes.includes("boolean-json-schema"),mp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ot||r(s)&&e("securityRequirement",s)&&t("object",s)),fp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Pt||r(s)&&e("securityScheme",s)&&t("object",s)),vp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Vt||r(s)&&e("server",s)&&t("object",s)),gp=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof wt||r(s)&&e("serverVariable",s)&&t("object",s)),Qs=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof mt||r(s)&&e("mediaType",s)&&t("object",s)),to=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t,hasClass:s})=>i=>i instanceof Kn||r(i)&&e("array",i)&&t("array",i)&&s("servers",i)),yp=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:hp,isCallbackElement:Yd,isComponentsElement:_d,isContactElement:ep,isExampleElement:tp,isExternalDocumentationElement:sp,isHeaderElement:Ne,isInfoElement:rp,isLicenseElement:ip,isLinkElement:np,isMediaTypeElement:Qs,isOpenApi3_0Element:cp,isOpenapiElement:op,isOperationElement:eo,isParameterElement:ap,isPathItemElement:Mi,isPathsElement:lp,isReferenceElement:q,isRequestBodyElement:up,isResponseElement:Zs,isResponsesElement:dp,isSchemaElement:pp,isSecurityRequirementElement:mp,isSecuritySchemeElement:fp,isServerElement:vp,isServerVariableElement:gp,isServersElement:to},Symbol.toStringTag,{value:"Module"}));let xp=class extends f(de,h){constructor(e){super(e),this.alternator=[{predicate:J,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}};const bp=xp;let $p=class extends f(F,h){constructor(e){super(e),this.element=new y,this.element.classes.push("examples"),this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Example"],this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","example")}),t}};const Ti=$p;let Ep=class extends Ti{constructor(e){super(e),this.element=new Qu}};const Sp=Ep;let jp=class extends f(F,h){constructor(e){super(e),this.element=new Yu,this.specPath=R(["document","objects","Encoding"])}};const Op=jp;let Pp=class extends f(F,h){constructor(e){super(e),this.element=new Ot,this.specPath=R(["value"])}};const Vp=Pp;let wp=class extends f(ee,h){constructor(e){super(e),this.element=new Cu}ArrayElement(e){return e.forEach(t=>{if(N(t)){const s=this.toRefractedElement(["document","objects","SecurityRequirement"],t);this.element.push(s)}else this.element.push(O(t))}),this.copyMetaAndAttributes(e,this.element),M}};const Rp=wp;let Ap=class extends f(C,h){constructor(e){super(e),this.element=new ot,this.specPath=R(["document","objects","Components"]),this.canSupportSpecificationExtensions=!0}};const Fp=Ap;let Cp=class extends f(C,h){constructor(e){super(e),this.element=new Ks,this.specPath=R(["document","objects","Tag"]),this.canSupportSpecificationExtensions=!0}};const Ip=Cp;let Mp=class extends f(C,h){constructor(e){super(e),this.element=new bt,this.specPath=R(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const t=C.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&this.element.classes.push("reference-element"),t}};const Tp=Mp;let kp=class extends h{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}};const Dp=kp;let Np=class extends f(C,h){constructor(e){super(e),this.element=new gt,this.specPath=R(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=C.prototype.ObjectElement.call(this,e);return N(this.element.contentProp)&&this.element.contentProp.filter(Qs).forEach((s,i)=>{s.setMetaProperty("media-type",v(i))}),t}};const qp=Np;let Lp=class extends f(de,h){constructor(e){super(e),this.alternator=[{predicate:J,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}};const Bp=Lp;let Jp=class extends f(C,h){constructor(e){super(e),this.element=new ut,this.specPath=R(["document","objects","Header"]),this.canSupportSpecificationExtensions=!0}};const Up=Jp;let Hp=class extends f(de,h){constructor(e){super(e),this.alternator=[{predicate:J,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}};const zp=Hp;let Wp=class extends Ti{constructor(e){super(e),this.element=new od}};const Xp=Wp;let Kp=class extends f(F,h){constructor(e){super(e),this.element=new y,this.element.classes.push("content"),this.specPath=R(["document","objects","MediaType"])}};const Ys=Kp;let Gp=class extends Ys{constructor(e){super(e),this.element=new cd}};const Zp=Gp;let Qp=class extends f(C,h){constructor(e){super(e),this.element=new Xs,this.specPath=R(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0}};const Yp=Qp,{allOf:Xi}=ye.visitors.document.objects.JSONSchema.fixedFields;let _p=class extends Xi{ArrayElement(e){const t=Xi.prototype.ArrayElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),t}};const eh=_p,{anyOf:Ki}=ye.visitors.document.objects.JSONSchema.fixedFields;let th=class extends Ki{ArrayElement(e){const t=Ki.prototype.ArrayElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),t}};const sh=th,{oneOf:Gi}=ye.visitors.document.objects.JSONSchema.fixedFields;let rh=class extends Gi{ArrayElement(e){const t=Gi.prototype.ArrayElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),t}};const ih=rh,{items:Zi}=ye.visitors.document.objects.JSONSchema.fixedFields;class nh extends Zi{ObjectElement(e){const t=Zi.prototype.ObjectElement.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}ArrayElement(e){return this.enter(e)}}const oh=nh,{properties:Qi}=ye.visitors.document.objects.JSONSchema.fixedFields;let ch=class extends Qi{ObjectElement(e){const t=Qi.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),t}};const ah=ch,{type:lh}=ye.visitors.document.objects.JSONSchema.fixedFields;let uh=class extends lh{ArrayElement(e){return this.enter(e)}};const dh=uh,{JSONSchemaOrJSONReferenceVisitor:Yi}=ye.visitors;class ph extends Yi{ObjectElement(e){const t=Yi.prototype.enter.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}}const _i=ph;let hh=class extends f(C,h){constructor(e){super(e),this.element=new Ds,this.specPath=R(["document","objects","Discriminator"]),this.canSupportSpecificationExtensions=!1}};const mh=hh;class fh extends f(F,h){constructor(e){super(e),this.element=new rd,this.specPath=R(["value"])}}const vh=fh;let gh=class extends f(C,h){constructor(e){super(e),this.element=new Gs,this.specPath=R(["document","objects","XML"]),this.canSupportSpecificationExtensions=!0}};const yh=gh;let xh=class extends Ti{constructor(e){super(e),this.element=new zu}};const bh=xh;let $h=class extends Ys{constructor(e){super(e),this.element=new Wu}};const Eh=$h;let Sh=class extends f(F,h){constructor(e){super(e),this.element=new Gn,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Schema"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),t}};const jh=Sh;let Oh=class extends f(F,h){constructor(e){super(e),this.element=new Tu,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Response"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","response")}),this.element.filter(Zs).forEach((s,i)=>{s.setMetaProperty("http-status-code",v(i))}),t}};const Ph=Oh;let Vh=class extends f(F,h){constructor(e){super(e),this.element=new ku,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Parameter"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","parameter")}),t}};const wh=Vh;let Rh=class extends f(F,h){constructor(e){super(e),this.element=new Du,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Example"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","example")}),t}};const Ah=Rh;class Fh extends f(F,h){constructor(e){super(e),this.element=new Nu,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","RequestBody"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","requestBody")}),t}}const Ch=Fh;let Ih=class extends f(F,h){constructor(e){super(e),this.element=new qu,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.filter(Ne).forEach((s,i)=>{s.setMetaProperty("header-name",v(i))}),t}};const Mh=Ih;class Th extends f(F,h){constructor(e){super(e),this.element=new Lu,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","SecurityScheme"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","securityScheme")}),t}}const kh=Th;let Dh=class extends f(F,h){constructor(e){super(e),this.element=new Bu,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","link")}),t}};const Nh=Dh;let qh=class extends f(F,h){constructor(e){super(e),this.element=new Ju,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","callback")}),t}};const Lh=qh;let Bh=class extends f(C,h){constructor(e){super(e),this.element=new at,this.specPath=R(["document","objects","Example"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=C.prototype.ObjectElement.call(this,e);return I(this.element.externalValue)&&this.element.classes.push("reference-element"),t}};const Jh=Bh;class Uh extends h{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}const Hh=Uh;let zh=class extends f(C,h){constructor(e){super(e),this.element=new lt,this.specPath=R(["document","objects","ExternalDocumentation"]),this.canSupportSpecificationExtensions=!0}};const Wh=zh;let Xh=class extends f(C,h){constructor(e){super(e),this.element=new Ns,this.specPath=R(["document","objects","Encoding"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=C.prototype.ObjectElement.call(this,e);return N(this.element.headers)&&this.element.headers.filter(Ne).forEach((s,i)=>{s.setMetaProperty("header-name",v(i))}),t}};const Kh=Xh;let Gh=class extends f(F,h){constructor(e){super(e),this.element=new _u,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.forEach((s,i)=>{if(!Ne(s))return;const n=v(i);s.setMetaProperty("headerName",n)}),t}};const Zh=Gh;let Qh=class extends f(Ie,h){constructor(e){super(e),this.element=new xt,this.specPath=R(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=fe}ObjectElement(e){const t=Ie.prototype.ObjectElement.call(this,e);return this.element.filter(Mi).forEach((s,i)=>{i.classes.push("openapi-path-template"),i.classes.push("path-template"),s.setMetaProperty("path",O(i))}),t}};const Yh=Qh;let _h=class extends f(C,h){constructor(e){super(e),this.element=new $t,this.specPath=R(["document","objects","RequestBody"])}ObjectElement(e){const t=C.prototype.ObjectElement.call(this,e);return N(this.element.contentProp)&&this.element.contentProp.filter(Qs).forEach((s,i)=>{s.setMetaProperty("media-type",v(i))}),t}};const em=_h;let tm=class extends Ys{constructor(e){super(e),this.element=new Zu}};const sm=tm;let rm=class extends f(Ie,h){constructor(e){super(e),this.element=new nt,this.specPath=R(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=t=>/{(?<expression>[^}]{1,2083})}/.test(String(t))}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(Mi).forEach((s,i)=>{s.setMetaProperty("runtime-expression",v(i))}),t}};const im=rm;let nm=class extends f(C,h){constructor(e){super(e),this.element=new Et,this.specPath=R(["document","objects","Response"])}ObjectElement(e){const t=C.prototype.ObjectElement.call(this,e);return N(this.element.contentProp)&&this.element.contentProp.filter(Qs).forEach((s,i)=>{s.setMetaProperty("media-type",v(i))}),N(this.element.headers)&&this.element.headers.filter(Ne).forEach((s,i)=>{s.setMetaProperty("header-name",v(i))}),t}};const om=nm;class cm extends f(F,h){constructor(e){super(e),this.element=new ed,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.forEach((s,i)=>{if(!Ne(s))return;const n=v(i);s.setMetaProperty("header-name",n)}),t}}const am=cm;class lm extends Ys{constructor(e){super(e),this.element=new td}}const um=lm;class dm extends f(F,h){constructor(e){super(e),this.element=new sd,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","link")}),t}}const pm=dm;class hm extends f(C,Ie){constructor({specPathFixedFields:t,specPathPatternedFields:s,...i}){super({...i});a(this,"specPathFixedFields");a(this,"specPathPatternedFields");this.specPathFixedFields=t,this.specPathPatternedFields=s}ObjectElement(t){const{specPath:s,ignoredFields:i}=this;try{this.specPath=this.specPathFixedFields;const n=this.retrieveFixedFields(this.specPath(t));this.ignoredFields=[...i,...Po(t.keys(),n)],C.prototype.ObjectElement.call(this,t),this.specPath=this.specPathPatternedFields,this.ignoredFields=n,Ie.prototype.ObjectElement.call(this,t)}catch(n){throw this.specPath=s,n}return M}}const en=hm;let mm=class extends f(en,h){constructor(e){super(e),this.element=new St,this.specPathFixedFields=R(["document","objects","Responses"]),this.canSupportSpecificationExtensions=!0,this.specPathPatternedFields=t=>J(t)?["document","objects","Reference"]:["document","objects","Response"],this.fieldPatternPredicate=t=>new RegExp(`^(1XX|2XX|3XX|4XX|5XX|${Vo(100,600).join("|")})$`).test(String(t))}ObjectElement(e){const t=en.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","response")}),this.element.filter(Zs).forEach((s,i)=>{const n=O(i);this.fieldPatternPredicate(v(n))&&s.setMetaProperty("http-status-code",n)}),t}};const fm=mm;class vm extends f(de,h){constructor(e){super(e),this.alternator=[{predicate:J,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Response"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return q(this.element)?this.element.setMetaProperty("referenced-element","response"):Zs(this.element)&&this.element.setMetaProperty("http-status-code","default"),t}}const gm=vm;let ym=class extends f(C,h){constructor(e){super(e),this.element=new vt,this.specPath=R(["document","objects","Operation"])}};const xm=ym;let bm=class extends h{constructor(e){super(e),this.element=new Xu}ArrayElement(e){return this.element=this.element.concat(O(e)),M}};const $m=bm;let Em=class extends f(ee,h){constructor(e){super(e),this.element=new D,this.element.classes.push("parameters")}ArrayElement(e){return e.forEach(t=>{const s=J(t)?["document","objects","Reference"]:["document","objects","Parameter"],i=this.toRefractedElement(s,t);q(i)&&i.setMetaProperty("referenced-element","parameter"),this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),M}};const so=Em;let Sm=class extends so{constructor(e){super(e),this.element=new Zn}};const jm=Sm;let Om=class extends de{constructor(e){super(e),this.alternator=[{predicate:J,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","RequestBody"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","requestBody"),t}};const Pm=Om;class Vm extends f(F,h){constructor(t){super(t);a(this,"specPath");this.element=new Ku,this.specPath=s=>J(s)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(t){const s=F.prototype.ObjectElement.call(this,t);return this.element.filter(q).forEach(i=>{i.setMetaProperty("referenced-element","callback")}),s}}const wm=Vm;class Rm extends f(ee,h){constructor(e){super(e),this.element=new Qn}ArrayElement(e){return e.forEach(t=>{const s=N(t)?["document","objects","SecurityRequirement"]:["value"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),M}}const Am=Rm;let Fm=class extends Ii{constructor(e){super(e),this.element=new Gu}};const Cm=Fm;let Im=class extends f(C,h){constructor(e){super(e),this.element=new yt,this.specPath=R(["document","objects","PathItem"])}ObjectElement(e){const t=C.prototype.ObjectElement.call(this,e);return this.element.filter(eo).forEach((s,i)=>{const n=O(i);n.content=v(n).toUpperCase(),s.setMetaProperty("http-method",n)}),I(this.element.$ref)&&this.element.classes.push("reference-element"),t}};const Mm=Im;class Tm extends h{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}const km=Tm;class Dm extends Ii{constructor(e){super(e),this.element=new Uu}}const Nm=Dm;class qm extends so{constructor(e){super(e),this.element=new Hu}}const Lm=qm;let Bm=class extends f(C,h){constructor(e){super(e),this.element=new Pt,this.specPath=R(["document","objects","SecurityScheme"]),this.canSupportSpecificationExtensions=!0}};const Jm=Bm;let Um=class extends f(C,h){constructor(e){super(e),this.element=new Ls,this.specPath=R(["document","objects","OAuthFlows"]),this.canSupportSpecificationExtensions=!0}};const Hm=Um;let zm=class extends f(C,h){constructor(e){super(e),this.element=new qs,this.specPath=R(["document","objects","OAuthFlow"]),this.canSupportSpecificationExtensions=!0}};const Wm=zm;class Xm extends f(F,h){constructor(e){super(e),this.element=new id,this.specPath=R(["value"])}}const Km=Xm;class Gm extends f(ee,h){constructor(e){super(e),this.element=new Iu}ArrayElement(e){return e.forEach(t=>{const s=md(t)?["document","objects","Tag"]:["value"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),M}}const Zm=Gm,{fixedFields:W}=ye.visitors.document.objects.JSONSchema,Qm={visitors:{value:h,document:{objects:{OpenApi:{$visitor:gd,fixedFields:{openapi:xd,info:{$ref:"#/visitors/document/objects/Info"},servers:Ii,paths:{$ref:"#/visitors/document/objects/Paths"},components:{$ref:"#/visitors/document/objects/Components"},security:Rp,tags:Zm,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:Sd,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},termsOfService:{$ref:"#/visitors/value"},contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:Od}},Contact:{$visitor:Vd,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"},email:{$ref:"#/visitors/value"}}},License:{$visitor:Rd,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Server:{$visitor:Bd,fixedFields:{url:Ud,description:{$ref:"#/visitors/value"},variables:Kd}},ServerVariable:{$visitor:Wd,fixedFields:{enum:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Components:{$visitor:Fp,fixedFields:{schemas:jh,responses:Ph,parameters:wh,examples:Ah,requestBodies:Ch,headers:Mh,securitySchemes:kh,links:Nh,callbacks:Lh}},Paths:{$visitor:Yh},PathItem:{$visitor:Mm,fixedFields:{$ref:km,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:Nm,parameters:Lm}},Operation:{$visitor:xm,fixedFields:{tags:$m,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:{$ref:"#/visitors/value"},parameters:jm,requestBody:Pm,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:wm,deprecated:{$ref:"#/visitors/value"},security:Am,servers:Cm}},ExternalDocumentation:{$visitor:Wh,fixedFields:{description:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Parameter:{$visitor:qp,fixedFields:{name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:Bp,example:{$ref:"#/visitors/value"},examples:bh,content:Eh}},RequestBody:{$visitor:em,fixedFields:{description:{$ref:"#/visitors/value"},content:sm,required:{$ref:"#/visitors/value"}}},MediaType:{$visitor:Zd,fixedFields:{schema:bp,example:{$ref:"#/visitors/value"},examples:Sp,encoding:Op}},Encoding:{$visitor:Kh,fixedFields:{contentType:{$ref:"#/visitors/value"},headers:Zh,style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"}}},Responses:{$visitor:fm,fixedFields:{default:gm}},Response:{$visitor:om,fixedFields:{description:{$ref:"#/visitors/value"},headers:am,content:um,links:pm}},Callback:{$visitor:im},Example:{$visitor:Jh,fixedFields:{summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},value:{$ref:"#/visitors/value"},externalValue:Hh}},Link:{$visitor:Fd,fixedFields:{operationRef:Id,operationId:Td,parameters:qd,requestBody:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:Up,fixedFields:{description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:zp,example:{$ref:"#/visitors/value"},examples:Xp,content:Zp}},Tag:{$visitor:Ip,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:Tp,fixedFields:{$ref:Dp}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},JSONReference:{$ref:"#/visitors/document/objects/Reference"},Schema:{$visitor:Yp,fixedFields:{title:W.title,multipleOf:W.multipleOf,maximum:W.maximum,exclusiveMaximum:W.exclusiveMaximum,minimum:W.minimum,exclusiveMinimum:W.exclusiveMinimum,maxLength:W.maxLength,minLength:W.minLength,pattern:W.pattern,maxItems:W.maxItems,minItems:W.minItems,uniqueItems:W.uniqueItems,maxProperties:W.maxProperties,minProperties:W.minProperties,required:W.required,enum:W.enum,type:dh,allOf:eh,anyOf:sh,oneOf:ih,not:_i,items:oh,properties:ah,additionalProperties:_i,description:W.description,format:W.format,default:W.default,nullable:{$ref:"#/visitors/value"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},writeOnly:{$ref:"#/visitors/value"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:mh,fixedFields:{propertyName:{$ref:"#/visitors/value"},mapping:vh}},XML:{$visitor:yh,fixedFields:{name:{$ref:"#/visitors/value"},namespace:{$ref:"#/visitors/value"},prefix:{$ref:"#/visitors/value"},attribute:{$ref:"#/visitors/value"},wrapped:{$ref:"#/visitors/value"}}},SecurityScheme:{$visitor:Jm,fixedFields:{type:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},scheme:{$ref:"#/visitors/value"},bearerFormat:{$ref:"#/visitors/value"},flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:{$ref:"#/visitors/value"}}},OAuthFlows:{$visitor:Hm,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:Wm,fixedFields:{authorizationUrl:{$ref:"#/visitors/value"},tokenUrl:{$ref:"#/visitors/value"},refreshUrl:{$ref:"#/visitors/value"},scopes:Km}},SecurityRequirement:{$visitor:Vp}},extension:{$visitor:$d}}}},c=Qm,Ym=()=>{const r=Ms(Fu);return{predicates:{...yp,isElement:X,isStringElement:I,isArrayElement:oe,isObjectElement:N,isMemberElement:ve,includesClasses:Vi,hasElementSourceMap:st},namespace:r}},_m=Ym,ef=(r,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:t=[]}={})=>{const s=xi(r),i=ks(c),n=ce(e,i),o=new n({specObj:i});return ie(s,o),it(o.element,t,{toolboxCreator:_m,visitorOptions:{keyMap:ld,nodeTypeGetter:ad}})},k=r=>(e,t={})=>ef(e,{specPath:r,...t});nt.refract=k(["visitors","document","objects","Callback","$visitor"]);ot.refract=k(["visitors","document","objects","Components","$visitor"]);ct.refract=k(["visitors","document","objects","Contact","$visitor"]);at.refract=k(["visitors","document","objects","Example","$visitor"]);Ds.refract=k(["visitors","document","objects","Discriminator","$visitor"]);Ns.refract=k(["visitors","document","objects","Encoding","$visitor"]);lt.refract=k(["visitors","document","objects","ExternalDocumentation","$visitor"]);ut.refract=k(["visitors","document","objects","Header","$visitor"]);dt.refract=k(["visitors","document","objects","Info","$visitor"]);pt.refract=k(["visitors","document","objects","License","$visitor"]);ht.refract=k(["visitors","document","objects","Link","$visitor"]);mt.refract=k(["visitors","document","objects","MediaType","$visitor"]);qs.refract=k(["visitors","document","objects","OAuthFlow","$visitor"]);Ls.refract=k(["visitors","document","objects","OAuthFlows","$visitor"]);ft.refract=k(["visitors","document","objects","OpenApi","fixedFields","openapi"]);Bs.refract=k(["visitors","document","objects","OpenApi","$visitor"]);vt.refract=k(["visitors","document","objects","Operation","$visitor"]);gt.refract=k(["visitors","document","objects","Parameter","$visitor"]);yt.refract=k(["visitors","document","objects","PathItem","$visitor"]);xt.refract=k(["visitors","document","objects","Paths","$visitor"]);bt.refract=k(["visitors","document","objects","Reference","$visitor"]);$t.refract=k(["visitors","document","objects","RequestBody","$visitor"]);Et.refract=k(["visitors","document","objects","Response","$visitor"]);St.refract=k(["visitors","document","objects","Responses","$visitor"]);Xs.refract=k(["visitors","document","objects","Schema","$visitor"]);Ot.refract=k(["visitors","document","objects","SecurityRequirement","$visitor"]);Pt.refract=k(["visitors","document","objects","SecurityScheme","$visitor"]);Vt.refract=k(["visitors","document","objects","Server","$visitor"]);wt.refract=k(["visitors","document","objects","ServerVariable","$visitor"]);Ks.refract=k(["visitors","document","objects","Tag","$visitor"]);Gs.refract=k(["visitors","document","objects","XML","$visitor"]);class tf extends nt{}const _s=tf;class sf extends ot{get pathItems(){return this.get("pathItems")}set pathItems(e){this.set("pathItems",e)}}const er=sf;class rf extends ct{}const tr=rf;class nf extends Ds{}const ki=nf;class of extends Ns{}const Di=of;class cf extends at{}const sr=cf;class af extends lt{}const rr=af;class lf extends ut{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}const ir=lf;class uf extends dt{get license(){return this.get("license")}set license(e){this.set("license",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}}const nr=uf,Rs=class Rs extends pe{constructor(e,t,s){super(e,t,s),this.element="jsonSchemaDialect"}};a(Rs,"default",new Rs("https://spec.openapis.org/oas/3.1/dialect/base"));let ai=Rs;const Rt=ai;class df extends pt{get identifier(){return this.get("identifier")}set identifier(e){this.set("identifier",e)}}const or=df;class pf extends ht{}const cr=pf;class hf extends mt{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}const ar=hf;class mf extends qs{}const Ni=mf;class ff extends Ls{}const qi=ff;class vf extends ft{}const Li=vf;class gf extends y{constructor(e,t,s){super(e,t,s),this.element="openApi3_1",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get jsonSchemaDialect(){return this.get("jsonSchemaDialect")}set jsonSchemaDialect(e){this.set("jsonSchemaDialect",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get webhooks(){return this.get("webhooks")}set webhooks(e){this.set("webhooks",e)}}const lr=gf;class yf extends vt{get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}}const At=yf;class xf extends gt{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}const ur=xf;class bf extends yt{get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}}const Me=bf;class $f extends xt{}const dr=$f;class Bi extends bt{}Object.defineProperty(Bi.prototype,"description",{get(){return this.get("description")},set(r){this.set("description",r)},enumerable:!0});Object.defineProperty(Bi.prototype,"summary",{get(){return this.get("summary")},set(r){this.set("summary",r)},enumerable:!0});const Ft=Bi;class Ef extends $t{}const pr=Ef;class Sf extends Et{}const hr=Sf;class jf extends St{}const mr=jf;class Of extends y{constructor(e,t,s){super(e,t,s),this.element="schema"}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get $vocabulary(){return this.get("$vocabulary")}set $vocabulary(e){this.set("$vocabulary",e)}get $id(){return this.get("$id")}set $id(e){this.set("$id",e)}get $anchor(){return this.get("$anchor")}set $anchor(e){this.set("$anchor",e)}get $dynamicAnchor(){return this.get("$dynamicAnchor")}set $dynamicAnchor(e){this.set("$dynamicAnchor",e)}get $dynamicRef(){return this.get("$dynamicRef")}set $dynamicRef(e){this.set("$dynamicRef",e)}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get $defs(){return this.get("$defs")}set $defs(e){this.set("$defs",e)}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get dependentSchemas(){return this.get("dependentSchemas")}set dependentSchemas(e){this.set("dependentSchemas",e)}get prefixItems(){return this.get("prefixItems")}set prefixItems(e){this.set("prefixItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get unevaluatedItems(){return this.get("unevaluatedItems")}set unevaluatedItems(e){this.set("unevaluatedItems",e)}get unevaluatedProperties(){return this.get("unevaluatedProperties")}set unevaluatedProperties(e){this.set("unevaluatedProperties",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get const(){return this.get("const")}set const(e){this.set("const",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxContains(){return this.get("maxContains")}set maxContains(e){this.set("maxContains",e)}get minContains(){return this.get("minContains")}set minContains(e){this.set("minContains",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get dependentRequired(){return this.get("dependentRequired")}set dependentRequired(e){this.set("dependentRequired",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get contentEncoding(){return this.get("contentEncoding")}set contentEncoding(e){this.set("contentEncoding",e)}get contentMediaType(){return this.get("contentMediaType")}set contentMediaType(e){this.set("contentMediaType",e)}get contentSchema(){return this.get("contentSchema")}set contentSchema(e){this.set("contentSchema",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}}const qe=Of;class Pf extends Ot{}const fr=Pf;class Vf extends Pt{}const vr=Vf;class wf extends Vt{}const gr=wf;class Rf extends wt{}const yr=Rf;class Af extends Ks{}const Ji=Af;class Ff extends Gs{}const Ui=Ff,Cf={namespace:r=>{const{base:e}=r;return e.register("callback",_s),e.register("components",er),e.register("contact",tr),e.register("discriminator",ki),e.register("encoding",Di),e.register("example",sr),e.register("externalDocumentation",rr),e.register("header",ir),e.register("info",nr),e.register("jsonSchemaDialect",Rt),e.register("license",or),e.register("link",cr),e.register("mediaType",ar),e.register("oAuthFlow",Ni),e.register("oAuthFlows",qi),e.register("openapi",Li),e.register("openApi3_1",lr),e.register("operation",At),e.register("parameter",ur),e.register("pathItem",Me),e.register("paths",dr),e.register("reference",Ft),e.register("requestBody",pr),e.register("response",hr),e.register("responses",mr),e.register("schema",qe),e.register("securityRequirement",fr),e.register("securityScheme",vr),e.register("server",gr),e.register("serverVariable",yr),e.register("tag",Ji),e.register("xml",Ui),e}},ro=Cf,As=class As extends y{constructor(e,t,s){super(e,t,s),this.classes.push(As.primaryClass)}};a(As,"primaryClass","components-path-items");let li=As;const If=li,Fs=class Fs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Fs.primaryClass)}};a(Fs,"primaryClass","webhooks");let ui=Fs;const Mf=ui,He=r=>{if(X(r))return`${r.element.charAt(0).toUpperCase()+r.element.slice(1)}Element`},ze={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_1Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...De};class Tf{constructor(e,t,s){a(this,"internalStore");this.storageElement=e,this.storageField=t,this.storageSubField=s}get store(){if(!this.internalStore){let e=this.storageElement.get(this.storageField);N(e)||(e=new y,this.storageElement.set(this.storageField,e));let t=e.get(this.storageSubField);oe(t)||(t=new D,e.set(this.storageSubField,t)),this.internalStore=t}return this.internalStore}append(e){this.includes(e)||this.store.push(e)}includes(e){return this.store.includes(e)}}const Ct=Tf,kf=({storageField:r="x-normalized"}={})=>e=>{const{predicates:t,ancestorLineageToJSONPointer:s}=e,i=(l,p)=>!t.isParameterElement(l)||!t.isParameterElement(p)||!t.isStringElement(l.name)||!t.isStringElement(l.in)||!t.isStringElement(p.name)||!t.isStringElement(p.in)?!1:v(l.name)===v(p.name)&&v(l.in)===v(p.in),n=[];let o;return{visitor:{OpenApi3_1Element:{enter(l){o=new Ct(l,r,"parameters")},leave(){o=void 0}},PathItemElement:{enter(l,p,$,x,g){if(g.some(t.isComponentsElement))return;const{parameters:E}=l;t.isArrayElement(E)?n.push([...E.content]):n.push([])},leave(){n.pop()}},OperationElement:{leave(l,p,$,x,g){const E=Cs(n);if(!Array.isArray(E)||E.length===0)return;const P=s([...g,$,l]);if(o.includes(P))return;const w=un([],["parameters","content"],l),d=wo(i,[...w,...E]);l.parameters=new Zn(d),o.append(P)}}}}},o$=kf,Df=({storageField:r="x-normalized"}={})=>e=>{const{predicates:t,ancestorLineageToJSONPointer:s}=e;let i,n;return{visitor:{OpenApi3_1Element:{enter(o){n=new Ct(o,r,"security-requirements"),t.isArrayElement(o.security)&&(i=o.security)},leave(){n=void 0,i=void 0}},OperationElement:{leave(o,l,p,$,x){if(x.some(t.isComponentsElement))return;const g=s([...x,p,o]);if(n.includes(g))return;if(typeof o.security>"u"&&typeof i<"u"){var w;o.security=new Qn((w=i)===null||w===void 0?void 0:w.content),n.append(g)}}}}}},c$=Df,di=r=>r.replace(/\s/g,""),pi=r=>r.replace(/\W/gi,"_"),Nf=(r,e)=>{const t=pi(di(e.toLowerCase())),s=pi(di(r));return`${t}${s}`},qf=(r,e,t)=>{const s=di(r);return s.length>0?pi(s):Nf(e,t)},Lf=({storageField:r="x-normalized",operationIdNormalizer:e=qf}={})=>t=>{const{predicates:s,ancestorLineageToJSONPointer:i,namespace:n}=t,o=[],l=[],p=[];let $;return{visitor:{OpenApi3_1Element:{enter(x){$=new Ct(x,r,"operation-ids")},leave(){const x=Ro(g=>v(g.operationId),l);Object.entries(x).forEach(([g,E])=>{Array.isArray(E)&&(E.length<=1||E.forEach((P,w)=>{const d=`${g}${w+1}`;P.operationId=new n.elements.String(d)}))}),p.forEach(g=>{if(typeof g.operationId>"u")return;const E=String(v(g.operationId)),P=l.find(w=>v(w.meta.get("originalOperationId"))===E);typeof P>"u"||(g.operationId=O.safe(P.operationId),g.meta.set("originalOperationId",E),g.set("__originalOperationId",E))}),l.length=0,p.length=0,$=void 0}},PathItemElement:{enter(x){const g=Nt("path",v(x.meta.get("path")));o.push(g)},leave(){o.pop()}},OperationElement:{enter(x,g,E,P,w){if(typeof x.operationId>"u")return;const d=i([...w,E,x]);if($.includes(d))return;const V=String(v(x.operationId)),b=Cs(o),u=Nt("method",v(x.meta.get("http-method"))),m=e(V,b,u);V!==m&&(x.operationId=new n.elements.String(m),x.set("__originalOperationId",V),x.meta.set("originalOperationId",V),l.push(x),$.append(d))}},LinkElement:{leave(x){s.isLinkElement(x)&&(typeof x.operationId>"u"||p.push(x))}}}}},a$=Lf,Bf=({storageField:r="x-normalized"}={})=>e=>{const{predicates:t,ancestorLineageToJSONPointer:s}=e;let i;return{visitor:{OpenApi3_1Element:{enter(n){i=new Ct(n,r,"parameter-examples")},leave(){i=void 0}},ParameterElement:{leave(n,o,l,p,$){var x,g;if($.some(t.isComponentsElement)||typeof n.schema>"u"||!t.isSchemaElement(n.schema)||typeof((x=n.schema)===null||x===void 0?void 0:x.example)>"u"&&typeof((g=n.schema)===null||g===void 0?void 0:g.examples)>"u")return;const E=s([...$,l,n]);if(!i.includes(E)){if(typeof n.examples<"u"&&t.isObjectElement(n.examples)){const P=n.examples.map(w=>O.safe(w.value));typeof n.schema.examples<"u"&&(n.schema.set("examples",P),i.append(E)),typeof n.schema.example<"u"&&(n.schema.set("example",P[0]),i.append(E));return}typeof n.example<"u"&&(typeof n.schema.examples<"u"&&(n.schema.set("examples",[O(n.example)]),i.append(E)),typeof n.schema.example<"u"&&(n.schema.set("example",O(n.example)),i.append(E)))}}}}}},l$=Bf,Jf=({storageField:r="x-normalized"}={})=>e=>{const{predicates:t,ancestorLineageToJSONPointer:s}=e;let i;return{visitor:{OpenApi3_1Element:{enter(n){i=new Ct(n,r,"header-examples")},leave(){i=void 0}},HeaderElement:{leave(n,o,l,p,$){var x,g;if($.some(t.isComponentsElement)||typeof n.schema>"u"||!t.isSchemaElement(n.schema)||typeof((x=n.schema)===null||x===void 0?void 0:x.example)>"u"&&typeof((g=n.schema)===null||g===void 0?void 0:g.examples)>"u")return;const E=s([...$,l,n]);if(!i.includes(E)){if(typeof n.examples<"u"&&t.isObjectElement(n.examples)){const P=n.examples.map(w=>O.safe(w.value));typeof n.schema.examples<"u"&&(n.schema.set("examples",P),i.append(E)),typeof n.schema.example<"u"&&(n.schema.set("example",P[0]),i.append(E));return}typeof n.example<"u"&&(typeof n.schema.examples<"u"&&(n.schema.set("examples",[O(n.example)]),i.append(E)),typeof n.schema.example<"u"&&(n.schema.set("example",O(n.example)),i.append(E)))}}}}}},u$=Jf,Uf=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof _s||r(s)&&e("callback",s)&&t("object",s)),Hf=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof er||r(s)&&e("components",s)&&t("object",s)),zf=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof tr||r(s)&&e("contact",s)&&t("object",s)),Wf=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof sr||r(s)&&e("example",s)&&t("object",s)),Xf=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof rr||r(s)&&e("externalDocumentation",s)&&t("object",s)),Kf=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ir||r(s)&&e("header",s)&&t("object",s)),Gf=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof nr||r(s)&&e("info",s)&&t("object",s)),io=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Rt||r(s)&&e("jsonSchemaDialect",s)&&t("string",s)),Zf=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof or||r(s)&&e("license",s)&&t("object",s)),Qf=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof cr||r(s)&&e("link",s)&&t("object",s)),Yf=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Li||r(s)&&e("openapi",s)&&t("string",s)),no=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t,hasClass:s})=>i=>i instanceof lr||r(i)&&e("openApi3_1",i)&&t("object",i)&&s("api",i)),oo=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof At||r(s)&&e("operation",s)&&t("object",s)),_f=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ur||r(s)&&e("parameter",s)&&t("object",s)),Qe=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Me||r(s)&&e("pathItem",s)&&t("object",s)),ev=r=>{if(!Qe(r)||!I(r.$ref))return!1;const e=v(r.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},tv=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof dr||r(s)&&e("paths",s)&&t("object",s)),Le=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ft||r(s)&&e("reference",s)&&t("object",s)),sv=r=>{if(!Le(r)||!I(r.$ref))return!1;const e=v(r.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},rv=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof pr||r(s)&&e("requestBody",s)&&t("object",s)),iv=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof hr||r(s)&&e("response",s)&&t("object",s)),nv=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof mr||r(s)&&e("responses",s)&&t("object",s)),Te=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof qe||r(s)&&e("schema",s)&&t("object",s)),co=r=>tt(r)&&r.classes.includes("boolean-json-schema"),ov=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof fr||r(s)&&e("securityRequirement",s)&&t("object",s)),cv=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof vr||r(s)&&e("securityScheme",s)&&t("object",s)),av=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof gr||r(s)&&e("server",s)&&t("object",s)),lv=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof yr||r(s)&&e("serverVariable",s)&&t("object",s)),uv=S(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ar||r(s)&&e("mediaType",s)&&t("object",s)),dv=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:co,isCallbackElement:Uf,isComponentsElement:Hf,isContactElement:zf,isExampleElement:Wf,isExternalDocumentationElement:Xf,isHeaderElement:Kf,isInfoElement:Gf,isJsonSchemaDialectElement:io,isLicenseElement:Zf,isLinkElement:Qf,isMediaTypeElement:uv,isOpenApi3_1Element:no,isOpenapiElement:Yf,isOperationElement:oo,isParameterElement:_f,isPathItemElement:Qe,isPathItemElementExternal:ev,isPathsElement:tv,isReferenceElement:Le,isReferenceElementExternal:sv,isRequestBodyElement:rv,isResponseElement:iv,isResponsesElement:nv,isSchemaElement:Te,isSecurityRequirementElement:ov,isSecuritySchemeElement:cv,isServerElement:av,isServerVariableElement:lv},Symbol.toStringTag,{value:"Module"})),pv=r=>{const e=r.reduce((t,s,i)=>{if(ve(s)){const n=String(v(s.key));t.push(n)}else if(oe(r[i-2])){const n=String(r[i-2].content.indexOf(s));t.push(n)}return t},[]);return Ja(e)},hv=()=>{const r=Ms(ro);return{predicates:{...dv,isElement:X,isStringElement:I,isArrayElement:oe,isObjectElement:N,isMemberElement:ve,isServersElement:to,includesClasses:Vi,hasElementSourceMap:st},ancestorLineageToJSONPointer:pv,namespace:r}},mv=hv;class fv extends f(C,h){constructor(e){super(e),this.element=new lr,this.specPath=R(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0,this.openApiSemanticElement=this.element}ObjectElement(e){return this.openApiGenericElement=e,C.prototype.ObjectElement.call(this,e)}}const vv=fv,{visitors:{document:{objects:{Info:{$visitor:gv}}}}}=c;class yv extends gv{constructor(e){super(e),this.element=new nr}}const xv=yv,{visitors:{document:{objects:{Contact:{$visitor:bv}}}}}=c;class $v extends bv{constructor(e){super(e),this.element=new tr}}const Ev=$v,{visitors:{document:{objects:{License:{$visitor:Sv}}}}}=c;class jv extends Sv{constructor(e){super(e),this.element=new or}}const Ov=jv,{visitors:{document:{objects:{Link:{$visitor:Pv}}}}}=c;class Vv extends Pv{constructor(e){super(e),this.element=new cr}}const wv=Vv;class Rv extends f(ee,h){StringElement(e){const t=new Rt(v(e));return this.copyMetaAndAttributes(e,t),this.element=t,M}}const Av=Rv,{visitors:{document:{objects:{Server:{$visitor:Fv}}}}}=c;class Cv extends Fv{constructor(e){super(e),this.element=new gr}}const Iv=Cv,{visitors:{document:{objects:{ServerVariable:{$visitor:Mv}}}}}=c;class Tv extends Mv{constructor(e){super(e),this.element=new yr}}const kv=Tv,{visitors:{document:{objects:{MediaType:{$visitor:Dv}}}}}=c;class Nv extends Dv{constructor(e){super(e),this.element=new ar}}const qv=Nv,{visitors:{document:{objects:{SecurityRequirement:{$visitor:Lv}}}}}=c;class Bv extends Lv{constructor(e){super(e),this.element=new fr}}const Jv=Bv,{visitors:{document:{objects:{Components:{$visitor:Uv}}}}}=c;class Hv extends Uv{constructor(e){super(e),this.element=new er}}const zv=Hv,{visitors:{document:{objects:{Tag:{$visitor:Wv}}}}}=c;class Xv extends Wv{constructor(e){super(e),this.element=new Ji}}const Kv=Xv,{visitors:{document:{objects:{Reference:{$visitor:Gv}}}}}=c;class Zv extends Gv{constructor(e){super(e),this.element=new Ft}}const Qv=Zv,{visitors:{document:{objects:{Parameter:{$visitor:Yv}}}}}=c;class _v extends Yv{constructor(e){super(e),this.element=new ur}}const eg=_v,{visitors:{document:{objects:{Header:{$visitor:tg}}}}}=c;class sg extends tg{constructor(e){super(e),this.element=new ir}}const rg=sg;class ig{constructor({parent:e}){a(this,"parent");this.parent=e}}const xe=ig;class ng extends f(C,xe,h){constructor(e){super(e),this.element=new qe,this.specPath=R(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0,this.jsonSchemaDefaultDialect=Rt.default,this.passingOptionsNames.push("parent")}ObjectElement(e){this.handle$schema(e),this.handle$id(e),this.parent=this.element;const t=C.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),t}BooleanElement(e){const t=super.enter(e);return this.element.classes.push("boolean-json-schema"),t}getJsonSchemaDialect(){let e;return this.openApiSemanticElement!==void 0&&io(this.openApiSemanticElement.jsonSchemaDialect)?e=v(this.openApiSemanticElement.jsonSchemaDialect):this.openApiGenericElement!==void 0&&I(this.openApiGenericElement.get("jsonSchemaDialect"))?e=v(this.openApiGenericElement.get("jsonSchemaDialect")):e=v(this.jsonSchemaDefaultDialect),e}handle$schema(e){if(Oe(this.parent)&&!I(e.get("$schema")))this.element.setMetaProperty("inherited$schema",this.getJsonSchemaDialect());else if(Te(this.parent)&&!I(e.get("$schema"))){const t=Nt(v(this.parent.meta.get("inherited$schema")),v(this.parent.$schema));this.element.setMetaProperty("inherited$schema",t)}}handle$id(e){const t=this.parent!==void 0?O(this.parent.getMetaProperty("inherited$id",[])):new D,s=v(e.get("$id"));mi(s)&&t.push(s),this.element.setMetaProperty("inherited$id",t)}}const og=ng;class cg extends h{ObjectElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-$vocabulary"),t}}const ag=cg;class lg extends h{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}const ug=lg;class dg extends f(F,xe,h){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-$defs"),this.specPath=R(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}const pg=dg;class hg extends f(ee,xe,h){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-allOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(N(t)){const s=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(s)}else{const s=O(t);this.element.push(s)}}),this.copyMetaAndAttributes(e,this.element),M}}const mg=hg;class fg extends f(ee,xe,h){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-anyOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(N(t)){const s=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(s)}else{const s=O(t);this.element.push(s)}}),this.copyMetaAndAttributes(e,this.element),M}}const vg=fg;class gg extends f(ee,xe,h){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-oneOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(N(t)){const s=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(s)}else{const s=O(t);this.element.push(s)}}),this.copyMetaAndAttributes(e,this.element),M}}const yg=gg;class xg extends f(F,xe,h){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-dependentSchemas"),this.specPath=R(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}const bg=xg;class $g extends f(ee,xe,h){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-prefixItems"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(N(t)){const s=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(s)}else{const s=O(t);this.element.push(s)}}),this.copyMetaAndAttributes(e,this.element),M}}const Eg=$g;class Sg extends f(F,xe,h){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-properties"),this.specPath=R(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}const jg=Sg;class Og extends f(F,xe,h){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-patternProperties"),this.specPath=R(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}const Pg=Og;class Vg extends h{StringElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-type"),t}ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-type"),t}}const wg=Vg;class Rg extends h{ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-enum"),t}}const Ag=Rg;class Fg extends h{ObjectElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-dependentRequired"),t}}const Cg=Fg;class Ig extends h{ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-examples"),t}}const Mg=Ig,{visitors:{document:{objects:{Discriminator:{$visitor:Tg}}}}}=c;class kg extends Tg{constructor(e){super(e),this.element=new ki,this.canSupportSpecificationExtensions=!0}}const Dg=kg,{visitors:{document:{objects:{XML:{$visitor:Ng}}}}}=c;class qg extends Ng{constructor(e){super(e),this.element=new Ui}}const Lg=qg;class Bg extends f(F,h){constructor(e){super(e),this.element=new Gn,this.specPath=R(["document","objects","Schema"])}}const Jg=Bg;class Ug extends f(F,h){constructor(e){super(e),this.element=new If,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(Le).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),t}}const Hg=Ug,{visitors:{document:{objects:{Example:{$visitor:zg}}}}}=c;class Wg extends zg{constructor(e){super(e),this.element=new sr}}const Xg=Wg,{visitors:{document:{objects:{ExternalDocumentation:{$visitor:Kg}}}}}=c;class Gg extends Kg{constructor(e){super(e),this.element=new rr}}const Zg=Gg,{visitors:{document:{objects:{Encoding:{$visitor:Qg}}}}}=c;class Yg extends Qg{constructor(e){super(e),this.element=new Di}}const _g=Yg,{visitors:{document:{objects:{Paths:{$visitor:ey}}}}}=c;class ty extends ey{constructor(e){super(e),this.element=new dr}}const sy=ty,{visitors:{document:{objects:{RequestBody:{$visitor:ry}}}}}=c;class iy extends ry{constructor(e){super(e),this.element=new pr}}const ny=iy,{visitors:{document:{objects:{Callback:{$visitor:tn}}}}}=c;class oy extends tn{constructor(e){super(e),this.element=new _s,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=tn.prototype.ObjectElement.call(this,e);return this.element.filter(Le).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),t}}const cy=oy,{visitors:{document:{objects:{Response:{$visitor:ay}}}}}=c;class ly extends ay{constructor(e){super(e),this.element=new hr}}const uy=ly,{visitors:{document:{objects:{Responses:{$visitor:dy}}}}}=c;class py extends dy{constructor(e){super(e),this.element=new mr}}const hy=py,{visitors:{document:{objects:{Operation:{$visitor:my}}}}}=c;class fy extends my{constructor(e){super(e),this.element=new At}}const vy=fy,{visitors:{document:{objects:{PathItem:{$visitor:gy}}}}}=c;class yy extends gy{constructor(e){super(e),this.element=new Me}}const xy=yy,{visitors:{document:{objects:{SecurityScheme:{$visitor:by}}}}}=c;class $y extends by{constructor(e){super(e),this.element=new vr}}const Ey=$y,{visitors:{document:{objects:{OAuthFlows:{$visitor:Sy}}}}}=c;class jy extends Sy{constructor(e){super(e),this.element=new qi}}const Oy=jy,{visitors:{document:{objects:{OAuthFlow:{$visitor:Py}}}}}=c;class Vy extends Py{constructor(e){super(e),this.element=new Ni}}const wy=Vy;class Ry extends f(F,h){constructor(e){super(e),this.element=new Mf,this.specPath=t=>J(t)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(Le).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),this.element.filter(Qe).forEach((s,i)=>{s.setMetaProperty("webhook-name",v(i))}),t}}const Ay=Ry,Fy={visitors:{value:c.visitors.value,document:{objects:{OpenApi:{$visitor:vv,fixedFields:{openapi:c.visitors.document.objects.OpenApi.fixedFields.openapi,info:{$ref:"#/visitors/document/objects/Info"},jsonSchemaDialect:Av,servers:c.visitors.document.objects.OpenApi.fixedFields.servers,paths:{$ref:"#/visitors/document/objects/Paths"},webhooks:Ay,components:{$ref:"#/visitors/document/objects/Components"},security:c.visitors.document.objects.OpenApi.fixedFields.security,tags:c.visitors.document.objects.OpenApi.fixedFields.tags,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:xv,fixedFields:{title:c.visitors.document.objects.Info.fixedFields.title,description:c.visitors.document.objects.Info.fixedFields.description,summary:{$ref:"#/visitors/value"},termsOfService:c.visitors.document.objects.Info.fixedFields.termsOfService,contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:c.visitors.document.objects.Info.fixedFields.version}},Contact:{$visitor:Ev,fixedFields:{name:c.visitors.document.objects.Contact.fixedFields.name,url:c.visitors.document.objects.Contact.fixedFields.url,email:c.visitors.document.objects.Contact.fixedFields.email}},License:{$visitor:Ov,fixedFields:{name:c.visitors.document.objects.License.fixedFields.name,identifier:{$ref:"#/visitors/value"},url:c.visitors.document.objects.License.fixedFields.url}},Server:{$visitor:Iv,fixedFields:{url:c.visitors.document.objects.Server.fixedFields.url,description:c.visitors.document.objects.Server.fixedFields.description,variables:c.visitors.document.objects.Server.fixedFields.variables}},ServerVariable:{$visitor:kv,fixedFields:{enum:c.visitors.document.objects.ServerVariable.fixedFields.enum,default:c.visitors.document.objects.ServerVariable.fixedFields.default,description:c.visitors.document.objects.ServerVariable.fixedFields.description}},Components:{$visitor:zv,fixedFields:{schemas:Jg,responses:c.visitors.document.objects.Components.fixedFields.responses,parameters:c.visitors.document.objects.Components.fixedFields.parameters,examples:c.visitors.document.objects.Components.fixedFields.examples,requestBodies:c.visitors.document.objects.Components.fixedFields.requestBodies,headers:c.visitors.document.objects.Components.fixedFields.headers,securitySchemes:c.visitors.document.objects.Components.fixedFields.securitySchemes,links:c.visitors.document.objects.Components.fixedFields.links,callbacks:c.visitors.document.objects.Components.fixedFields.callbacks,pathItems:Hg}},Paths:{$visitor:sy},PathItem:{$visitor:xy,fixedFields:{$ref:c.visitors.document.objects.PathItem.fixedFields.$ref,summary:c.visitors.document.objects.PathItem.fixedFields.summary,description:c.visitors.document.objects.PathItem.fixedFields.description,get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:c.visitors.document.objects.PathItem.fixedFields.servers,parameters:c.visitors.document.objects.PathItem.fixedFields.parameters}},Operation:{$visitor:vy,fixedFields:{tags:c.visitors.document.objects.Operation.fixedFields.tags,summary:c.visitors.document.objects.Operation.fixedFields.summary,description:c.visitors.document.objects.Operation.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:c.visitors.document.objects.Operation.fixedFields.operationId,parameters:c.visitors.document.objects.Operation.fixedFields.parameters,requestBody:c.visitors.document.objects.Operation.fixedFields.requestBody,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:c.visitors.document.objects.Operation.fixedFields.callbacks,deprecated:c.visitors.document.objects.Operation.fixedFields.deprecated,security:c.visitors.document.objects.Operation.fixedFields.security,servers:c.visitors.document.objects.Operation.fixedFields.servers}},ExternalDocumentation:{$visitor:Zg,fixedFields:{description:c.visitors.document.objects.ExternalDocumentation.fixedFields.description,url:c.visitors.document.objects.ExternalDocumentation.fixedFields.url}},Parameter:{$visitor:eg,fixedFields:{name:c.visitors.document.objects.Parameter.fixedFields.name,in:c.visitors.document.objects.Parameter.fixedFields.in,description:c.visitors.document.objects.Parameter.fixedFields.description,required:c.visitors.document.objects.Parameter.fixedFields.required,deprecated:c.visitors.document.objects.Parameter.fixedFields.deprecated,allowEmptyValue:c.visitors.document.objects.Parameter.fixedFields.allowEmptyValue,style:c.visitors.document.objects.Parameter.fixedFields.style,explode:c.visitors.document.objects.Parameter.fixedFields.explode,allowReserved:c.visitors.document.objects.Parameter.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.Parameter.fixedFields.example,examples:c.visitors.document.objects.Parameter.fixedFields.examples,content:c.visitors.document.objects.Parameter.fixedFields.content}},RequestBody:{$visitor:ny,fixedFields:{description:c.visitors.document.objects.RequestBody.fixedFields.description,content:c.visitors.document.objects.RequestBody.fixedFields.content,required:c.visitors.document.objects.RequestBody.fixedFields.required}},MediaType:{$visitor:qv,fixedFields:{schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.MediaType.fixedFields.example,examples:c.visitors.document.objects.MediaType.fixedFields.examples,encoding:c.visitors.document.objects.MediaType.fixedFields.encoding}},Encoding:{$visitor:_g,fixedFields:{contentType:c.visitors.document.objects.Encoding.fixedFields.contentType,headers:c.visitors.document.objects.Encoding.fixedFields.headers,style:c.visitors.document.objects.Encoding.fixedFields.style,explode:c.visitors.document.objects.Encoding.fixedFields.explode,allowReserved:c.visitors.document.objects.Encoding.fixedFields.allowReserved}},Responses:{$visitor:hy,fixedFields:{default:c.visitors.document.objects.Responses.fixedFields.default}},Response:{$visitor:uy,fixedFields:{description:c.visitors.document.objects.Response.fixedFields.description,headers:c.visitors.document.objects.Response.fixedFields.headers,content:c.visitors.document.objects.Response.fixedFields.content,links:c.visitors.document.objects.Response.fixedFields.links}},Callback:{$visitor:cy},Example:{$visitor:Xg,fixedFields:{summary:c.visitors.document.objects.Example.fixedFields.summary,description:c.visitors.document.objects.Example.fixedFields.description,value:c.visitors.document.objects.Example.fixedFields.value,externalValue:c.visitors.document.objects.Example.fixedFields.externalValue}},Link:{$visitor:wv,fixedFields:{operationRef:c.visitors.document.objects.Link.fixedFields.operationRef,operationId:c.visitors.document.objects.Link.fixedFields.operationId,parameters:c.visitors.document.objects.Link.fixedFields.parameters,requestBody:c.visitors.document.objects.Link.fixedFields.requestBody,description:c.visitors.document.objects.Link.fixedFields.description,server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:rg,fixedFields:{description:c.visitors.document.objects.Header.fixedFields.description,required:c.visitors.document.objects.Header.fixedFields.required,deprecated:c.visitors.document.objects.Header.fixedFields.deprecated,allowEmptyValue:c.visitors.document.objects.Header.fixedFields.allowEmptyValue,style:c.visitors.document.objects.Header.fixedFields.style,explode:c.visitors.document.objects.Header.fixedFields.explode,allowReserved:c.visitors.document.objects.Header.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.Header.fixedFields.example,examples:c.visitors.document.objects.Header.fixedFields.examples,content:c.visitors.document.objects.Header.fixedFields.content}},Tag:{$visitor:Kv,fixedFields:{name:c.visitors.document.objects.Tag.fixedFields.name,description:c.visitors.document.objects.Tag.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:Qv,fixedFields:{$ref:c.visitors.document.objects.Reference.fixedFields.$ref,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Schema:{$visitor:og,fixedFields:{$schema:{$ref:"#/visitors/value"},$vocabulary:ag,$id:{$ref:"#/visitors/value"},$anchor:{$ref:"#/visitors/value"},$dynamicAnchor:{$ref:"#/visitors/value"},$dynamicRef:{$ref:"#/visitors/value"},$ref:ug,$defs:pg,$comment:{$ref:"#/visitors/value"},allOf:mg,anyOf:vg,oneOf:yg,not:{$ref:"#/visitors/document/objects/Schema"},if:{$ref:"#/visitors/document/objects/Schema"},then:{$ref:"#/visitors/document/objects/Schema"},else:{$ref:"#/visitors/document/objects/Schema"},dependentSchemas:bg,prefixItems:Eg,items:{$ref:"#/visitors/document/objects/Schema"},contains:{$ref:"#/visitors/document/objects/Schema"},properties:jg,patternProperties:Pg,additionalProperties:{$ref:"#/visitors/document/objects/Schema"},propertyNames:{$ref:"#/visitors/document/objects/Schema"},unevaluatedItems:{$ref:"#/visitors/document/objects/Schema"},unevaluatedProperties:{$ref:"#/visitors/document/objects/Schema"},type:wg,enum:Ag,const:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxContains:{$ref:"#/visitors/value"},minContains:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},dependentRequired:Cg,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},readOnly:{$ref:"#/visitors/value"},writeOnly:{$ref:"#/visitors/value"},examples:Mg,format:{$ref:"#/visitors/value"},contentEncoding:{$ref:"#/visitors/value"},contentMediaType:{$ref:"#/visitors/value"},contentSchema:{$ref:"#/visitors/document/objects/Schema"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:Dg,fixedFields:{propertyName:c.visitors.document.objects.Discriminator.fixedFields.propertyName,mapping:c.visitors.document.objects.Discriminator.fixedFields.mapping}},XML:{$visitor:Lg,fixedFields:{name:c.visitors.document.objects.XML.fixedFields.name,namespace:c.visitors.document.objects.XML.fixedFields.namespace,prefix:c.visitors.document.objects.XML.fixedFields.prefix,attribute:c.visitors.document.objects.XML.fixedFields.attribute,wrapped:c.visitors.document.objects.XML.fixedFields.wrapped}},SecurityScheme:{$visitor:Ey,fixedFields:{type:c.visitors.document.objects.SecurityScheme.fixedFields.type,description:c.visitors.document.objects.SecurityScheme.fixedFields.description,name:c.visitors.document.objects.SecurityScheme.fixedFields.name,in:c.visitors.document.objects.SecurityScheme.fixedFields.in,scheme:c.visitors.document.objects.SecurityScheme.fixedFields.scheme,bearerFormat:c.visitors.document.objects.SecurityScheme.fixedFields.bearerFormat,flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:c.visitors.document.objects.SecurityScheme.fixedFields.openIdConnectUrl}},OAuthFlows:{$visitor:Oy,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:wy,fixedFields:{authorizationUrl:c.visitors.document.objects.OAuthFlow.fixedFields.authorizationUrl,tokenUrl:c.visitors.document.objects.OAuthFlow.fixedFields.tokenUrl,refreshUrl:c.visitors.document.objects.OAuthFlow.fixedFields.refreshUrl,scopes:c.visitors.document.objects.OAuthFlow.fixedFields.scopes}},SecurityRequirement:{$visitor:Jv}},extension:{$visitor:c.visitors.document.extension.$visitor}}}},Cy=Fy,Iy=(r,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:t=[]}={})=>{const s=xi(r),i=ks(Cy),n=ce(e,i),o=new n({specObj:i});return ie(s,o),it(o.element,t,{toolboxCreator:mv,visitorOptions:{keyMap:ze,nodeTypeGetter:He}})},T=r=>(e,t={})=>Iy(e,{specPath:r,...t});_s.refract=T(["visitors","document","objects","Callback","$visitor"]);er.refract=T(["visitors","document","objects","Components","$visitor"]);tr.refract=T(["visitors","document","objects","Contact","$visitor"]);sr.refract=T(["visitors","document","objects","Example","$visitor"]);ki.refract=T(["visitors","document","objects","Discriminator","$visitor"]);Di.refract=T(["visitors","document","objects","Encoding","$visitor"]);rr.refract=T(["visitors","document","objects","ExternalDocumentation","$visitor"]);ir.refract=T(["visitors","document","objects","Header","$visitor"]);nr.refract=T(["visitors","document","objects","Info","$visitor"]);Rt.refract=T(["visitors","document","objects","OpenApi","fixedFields","jsonSchemaDialect"]);or.refract=T(["visitors","document","objects","License","$visitor"]);cr.refract=T(["visitors","document","objects","Link","$visitor"]);ar.refract=T(["visitors","document","objects","MediaType","$visitor"]);Ni.refract=T(["visitors","document","objects","OAuthFlow","$visitor"]);qi.refract=T(["visitors","document","objects","OAuthFlows","$visitor"]);Li.refract=T(["visitors","document","objects","OpenApi","fixedFields","openapi"]);lr.refract=T(["visitors","document","objects","OpenApi","$visitor"]);At.refract=T(["visitors","document","objects","Operation","$visitor"]);ur.refract=T(["visitors","document","objects","Parameter","$visitor"]);Me.refract=T(["visitors","document","objects","PathItem","$visitor"]);dr.refract=T(["visitors","document","objects","Paths","$visitor"]);Ft.refract=T(["visitors","document","objects","Reference","$visitor"]);pr.refract=T(["visitors","document","objects","RequestBody","$visitor"]);hr.refract=T(["visitors","document","objects","Response","$visitor"]);mr.refract=T(["visitors","document","objects","Responses","$visitor"]);qe.refract=T(["visitors","document","objects","Schema","$visitor"]);fr.refract=T(["visitors","document","objects","SecurityRequirement","$visitor"]);vr.refract=T(["visitors","document","objects","SecurityScheme","$visitor"]);gr.refract=T(["visitors","document","objects","Server","$visitor"]);yr.refract=T(["visitors","document","objects","ServerVariable","$visitor"]);Ji.refract=T(["visitors","document","objects","Tag","$visitor"]);Ui.refract=T(["visitors","document","objects","XML","$visitor"]);class My extends oa{constructor(e){super({...e??{},name:"binary"})}canParse(e){return this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension)}parse(e){try{const t=unescape(encodeURIComponent(e.toString())),s=btoa(t),i=new Ce;if(s.length!==0){const n=new pe(s);n.classes.push("result"),i.push(n)}return i}catch(t){throw new Va(`Error parsing "${e.uri}"`,{cause:t})}}}const d$=My;class Ty extends da{constructor(e){super({...e??{},name:"openapi-3-1"})}canResolve(e,t){const s=t.dereference.strategies.find(i=>i.name==="openapi-3-1");return s===void 0?!1:s.canDereference(e,t)}async resolve(e,t){const s=t.dereference.strategies.find(o=>o.name==="openapi-3-1");if(s===void 0)throw new Jn('"openapi-3-1" dereference strategy is not available.');const i=new Pr,n=bn(t,{resolve:{internal:!1},dereference:{refSet:i}});return await s.dereference(e,n),i}}const p$=Ty,Hi=r=>/^[A-Za-z_][A-Za-z_0-9.-]*$/.test(r),Kt=r=>{const e=xn(r);return hi("#",e)},ky=r=>{if(!Hi(r))throw new Ea(r);return r},ao=(r,e)=>{const t=ky(r),s=Nn(i=>Te(i)&&v(i.$anchor)===t,e);if(Oe(s))throw new ga(`Evaluation failed on token: "${t}"`);return s},Dy=(r,e)=>{if(typeof e.$ref>"u")return;const t=xn(v(e.$ref)),s=v(e.meta.get("inherited$id"));return`${fn((n,o)=>Be(n,Is(K(o))),r,[...s,v(e.$ref)])}${t==="#"?"":t}`},Ny=(r,e)=>{if(typeof e.$id>"u")return;const t=v(e.meta.get("inherited$id"));return fn((s,i)=>Be(s,Is(K(i))),r,[...t,v(e.$id)])},We=r=>{if(We.cache.has(r))return We.cache.get(r);const e=qe.refract(r);return We.cache.set(r,e),e};We.cache=new WeakMap;const be=r=>Je(r)?We(r):r,zi=(r,e)=>{const{cache:t}=zi,s=K(r),i=p=>Te(p)&&typeof p.$id<"u";if(!t.has(e)){const p=Dc(i,e);t.set(e,Array.from(p))}const n=t.get(e).find(p=>Ny(s,p)===s);if(Oe(n))throw new Hn(`Evaluation failed on URI: "${r}"`);let o,l;return Hi(Kt(r))?(o=ao,l=Kt(r)):(o=Re,l=we(r)),o(l,n)};zi.cache=new WeakMap;const Er=ie[Symbol.for("nodejs.util.promisify.custom")],Z=new Dn,le=(r,e,t,s)=>{ve(s)?s.value=r:Array.isArray(s)&&(s[t]=r)};class Xe{constructor({reference:e,namespace:t,options:s,indirections:i=[],ancestors:n=new br,refractCache:o=new Map}){a(this,"indirections");a(this,"namespace");a(this,"reference");a(this,"options");a(this,"ancestors");a(this,"refractCache");this.indirections=i,this.namespace=t,this.reference=e,this.options=s,this.ancestors=new br(...n),this.refractCache=o}toBaseURI(e){return Be(this.reference.uri,Is(K(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new Oa(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const t=this.toBaseURI(e),{refSet:s}=this.reference;if(s.has(t))return s.find(vn(t,"uri"));const i=await cc(Pe(t),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),n=new Ue({uri:t,value:O(i),depth:this.reference.depth+1});if(s.add(n),this.options.dereference.immutable){const o=new Ue({uri:`immutable://${t}`,value:i,depth:this.reference.depth+1});s.add(o)}return n}toAncestorLineage(e){const t=new Set(e.filter(X));return[new br(...this.ancestors,t),t]}async ReferenceElement(e,t,s,i,n,o){if(this.indirections.includes(e))return!1;const[l,p]=this.toAncestorLineage([...n,s]),$=this.toBaseURI(v(e.$ref)),x=K(this.reference.uri)===$,g=!x;if(!this.options.resolve.internal&&x||!this.options.resolve.external&&g)return!1;const E=await this.toReference(v(e.$ref)),P=Be($,v(e.$ref));this.indirections.push(e);const w=we(P);let d=Re(w,E.value.result);if(d.id=Z.identify(d),Je(d)){const B=v(e.meta.get("referenced-element")),H=`${B}-${v(Z.identify(d))}`;this.refractCache.has(H)?d=this.refractCache.get(H):J(d)?(d=Ft.refract(d),d.setMetaProperty("referenced-element",B),this.refractCache.set(H,d)):(d=this.namespace.getElementClass(B).refract(d),this.refractCache.set(H,d))}if(e===d)throw new Y("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new $r(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(d)){if(E.refSet.circular=!0,this.options.dereference.circular==="error")throw new Y("Circular reference detected");if(this.options.dereference.circular==="replace"){var V,b;const B=new Ae(d.id,{type:"reference",uri:E.uri,$ref:v(e.$ref)}),A=((V=(b=this.options.dereference.strategyOpts["openapi-3-1"])===null||b===void 0?void 0:b.circularReplacer)!==null&&V!==void 0?V:this.options.dereference.circularReplacer)(B);return o.replaceWith(A,le),s?!1:A}}const u=K(E.refSet.rootRef.uri)!==E.uri,m=["error","replace"].includes(this.options.dereference.circular);if((g||u||Le(d)||m)&&!l.includesCycle(d)){p.add(e);const B=new Xe({reference:E,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l});d=await Er(d,B,{keyMap:ze,nodeTypeGetter:He}),p.delete(e)}this.indirections.pop();const j=re(d);return j.setMetaProperty("id",Z.generateId()),j.setMetaProperty("ref-fields",{$ref:v(e.$ref),description:v(e.description),summary:v(e.summary)}),j.setMetaProperty("ref-origin",E.uri),j.setMetaProperty("ref-referencing-element-id",O(Z.identify(e))),N(d)&&N(j)&&(e.hasKey("description")&&"description"in d&&(j.remove("description"),j.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in d&&(j.remove("summary"),j.set("summary",e.get("summary")))),o.replaceWith(j,le),s?!1:j}async PathItemElement(e,t,s,i,n,o){if(!I(e.$ref))return;if(this.indirections.includes(e))return!1;const[l,p]=this.toAncestorLineage([...n,s]),$=this.toBaseURI(v(e.$ref)),x=K(this.reference.uri)===$,g=!x;if(!this.options.resolve.internal&&x||!this.options.resolve.external&&g)return;const E=await this.toReference(v(e.$ref)),P=Be($,v(e.$ref));this.indirections.push(e);const w=we(P);let d=Re(w,E.value.result);if(d.id=Z.identify(d),Je(d)){const j=`path-item-${v(Z.identify(d))}`;this.refractCache.has(j)?d=this.refractCache.get(j):(d=Me.refract(d),this.refractCache.set(j,d))}if(e===d)throw new Y("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new $r(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(d)){if(E.refSet.circular=!0,this.options.dereference.circular==="error")throw new Y("Circular reference detected");if(this.options.dereference.circular==="replace"){var V,b;const j=new Ae(d.id,{type:"path-item",uri:E.uri,$ref:v(e.$ref)}),H=((V=(b=this.options.dereference.strategyOpts["openapi-3-1"])===null||b===void 0?void 0:b.circularReplacer)!==null&&V!==void 0?V:this.options.dereference.circularReplacer)(j);return o.replaceWith(H,le),s?!1:H}}const u=K(E.refSet.rootRef.uri)!==E.uri,m=["error","replace"].includes(this.options.dereference.circular);if((g||u||Qe(d)&&I(d.$ref)||m)&&!l.includesCycle(d)){p.add(e);const j=new Xe({reference:E,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l});d=await Er(d,j,{keyMap:ze,nodeTypeGetter:He}),p.delete(e)}if(this.indirections.pop(),Qe(d)){const j=new Me([...d.content],O(d.meta),O(d.attributes));j.setMetaProperty("id",Z.generateId()),e.forEach((B,H,A)=>{j.remove(v(H)),j.content.push(A)}),j.remove("$ref"),j.setMetaProperty("ref-fields",{$ref:v(e.$ref)}),j.setMetaProperty("ref-origin",E.uri),j.setMetaProperty("ref-referencing-element-id",O(Z.identify(e))),d=j}return o.replaceWith(d,le),s?void 0:d}async LinkElement(e,t,s,i,n,o){if(!I(e.operationRef)&&!I(e.operationId))return;if(I(e.operationRef)&&I(e.operationId))throw new Y("LinkElement operationRef and operationId fields are mutually exclusive.");let l;if(I(e.operationRef)){var p;const x=we(v(e.operationRef)),g=this.toBaseURI(v(e.operationRef)),E=K(this.reference.uri)===g,P=!E;if(!this.options.resolve.internal&&E||!this.options.resolve.external&&P)return;const w=await this.toReference(v(e.operationRef));if(l=Re(x,w.value.result),Je(l)){const V=`operation-${v(Z.identify(l))}`;this.refractCache.has(V)?l=this.refractCache.get(V):(l=At.refract(l),this.refractCache.set(V,l))}l=re(l),l.setMetaProperty("ref-origin",w.uri);const d=re(e);return(p=d.operationRef)===null||p===void 0||p.meta.set("operation",l),o.replaceWith(d,le),s?void 0:d}if(I(e.operationId)){var $;const x=v(e.operationId),g=await this.toReference(Pe(this.reference.uri));if(l=Nn(P=>oo(P)&&X(P.operationId)&&P.operationId.equals(x),g.value.result),Oe(l))throw new Y(`OperationElement(operationId=${x}) not found.`);const E=re(e);return($=E.operationId)===null||$===void 0||$.meta.set("operation",l),o.replaceWith(E,le),s?void 0:E}}async ExampleElement(e,t,s,i,n,o){if(!I(e.externalValue))return;if(e.hasKey("value")&&I(e.externalValue))throw new Y("ExampleElement value and externalValue fields are mutually exclusive.");const l=this.toBaseURI(v(e.externalValue)),p=K(this.reference.uri)===l,$=!p;if(!this.options.resolve.internal&&p||!this.options.resolve.external&&$)return;const x=await this.toReference(v(e.externalValue)),g=re(x.value.result);g.setMetaProperty("ref-origin",x.uri);const E=re(e);return E.value=g,o.replaceWith(E,le),s?void 0:E}async SchemaElement(e,t,s,i,n,o){if(!I(e.$ref))return;if(this.indirections.includes(e))return!1;const[l,p]=this.toAncestorLineage([...n,s]);let $=await this.toReference(Pe(this.reference.uri)),{uri:x}=$;const g=Dy(x,e),E=K(g),P=new Jt({uri:E}),w=Ao(A=>A.canRead(P),this.options.resolve.resolvers),d=!w;let V=K(this.reference.uri)===g,b=!V;this.indirections.push(e);let u;try{if(w||d){x=this.toBaseURI(g);const A=g,L=be($.value.result);if(u=zi(A,L),u=be(u),u.id=Z.identify(u),!this.options.resolve.internal&&V||!this.options.resolve.external&&b)return}else{if(x=this.toBaseURI(g),V=K(this.reference.uri)===x,b=!V,!this.options.resolve.internal&&V||!this.options.resolve.external&&b)return;$=await this.toReference(Pe(g));const A=we(g),L=be($.value.result);u=Re(A,L),u=be(u),u.id=Z.identify(u)}}catch(A){if(d&&A instanceof Hn)if(Hi(Kt(g))){if(V=K(this.reference.uri)===x,b=!V,!this.options.resolve.internal&&V||!this.options.resolve.external&&b)return;$=await this.toReference(Pe(g));const L=Kt(g),U=be($.value.result);u=ao(L,U),u=be(u),u.id=Z.identify(u)}else{if(x=this.toBaseURI(g),V=K(this.reference.uri)===x,b=!V,!this.options.resolve.internal&&V||!this.options.resolve.external&&b)return;$=await this.toReference(Pe(g));const L=we(g),U=be($.value.result);u=Re(L,U),u=be(u),u.id=Z.identify(u)}else throw A}if(e===u)throw new Y("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new $r(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(u)){if($.refSet.circular=!0,this.options.dereference.circular==="error")throw new Y("Circular reference detected");if(this.options.dereference.circular==="replace"){var m,j;const A=new Ae(u.id,{type:"json-schema",uri:$.uri,$ref:v(e.$ref)}),U=((m=(j=this.options.dereference.strategyOpts["openapi-3-1"])===null||j===void 0?void 0:j.circularReplacer)!==null&&m!==void 0?m:this.options.dereference.circularReplacer)(A);return o.replaceWith(U,le),s?!1:U}}const B=K($.refSet.rootRef.uri)!==$.uri,H=["error","replace"].includes(this.options.dereference.circular);if((b||B||Te(u)&&I(u.$ref)||H)&&!l.includesCycle(u)){p.add(e);const A=new Xe({reference:$,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l});u=await Er(u,A,{keyMap:ze,nodeTypeGetter:He}),p.delete(e)}if(this.indirections.pop(),co(u)){const A=O(u);return A.setMetaProperty("id",Z.generateId()),A.setMetaProperty("ref-fields",{$ref:v(e.$ref)}),A.setMetaProperty("ref-origin",$.uri),A.setMetaProperty("ref-referencing-element-id",O(Z.identify(e))),o.replaceWith(A,le),s?!1:A}if(Te(u)){const A=new qe([...u.content],O(u.meta),O(u.attributes));A.setMetaProperty("id",Z.generateId()),e.forEach((L,U,ne)=>{A.remove(v(U)),A.content.push(ne)}),A.remove("$ref"),A.setMetaProperty("ref-fields",{$ref:v(e.$ref)}),A.setMetaProperty("ref-origin",$.uri),A.setMetaProperty("ref-referencing-element-id",O(Z.identify(e))),u=A}return o.replaceWith(u,le),s?void 0:u}}const qy=Xe,Ly=ie[Symbol.for("nodejs.util.promisify.custom")];class By extends ha{constructor(e){super({...e??{},name:"openapi-3-1"})}canDereference(e){var t;return e.mediaType!=="text/plain"?Wa.includes(e.mediaType):no((t=e.parseResult)===null||t===void 0?void 0:t.result)}async dereference(e,t){var s;const i=Ms(ro),n=(s=t.dereference.refSet)!==null&&s!==void 0?s:new Pr,o=new Pr;let l=n,p;n.has(e.uri)?p=n.find(vn(e.uri,"uri")):(p=new Ue({uri:e.uri,value:e.parseResult}),n.add(p)),t.dereference.immutable&&(n.refs.map(g=>new Ue({...g,value:O(g.value)})).forEach(g=>o.add(g)),p=o.find(g=>g.uri===e.uri),l=o);const $=new qy({reference:p,namespace:i,options:t}),x=await Ly(l.rootRef.value,$,{keyMap:ze,nodeTypeGetter:He});return t.dereference.immutable&&o.refs.filter(g=>g.uri.startsWith("immutable://")).map(g=>new Ue({...g,uri:g.uri.replace(/^immutable:\/\//,"")})).forEach(g=>n.add(g)),t.dereference.refSet===null&&n.clean(),o.clean(),x}}const h$=By;export{Ue as $,Ee as A,O as B,I as C,Vi as D,Me as E,Qe as F,Pe as G,_y as H,Dn as I,Dy as J,Jt as K,be as L,$r as M,zi as N,Ha as O,oa as P,Hn as Q,sc as R,Hi as S,Kt as T,ao as U,co as V,qe as W,Ri as X,h$ as Y,Ms as Z,Pr as _,Va as a,ro as a0,Ho as a1,Ja as a2,tx as a3,p$ as a4,d$ as a5,Ko as a6,Qy as a7,Wi as a8,Mt as a9,a$ as aa,o$ as ab,c$ as ac,l$ as ad,u$ as ae,it as af,mv as ag,X as ah,Ce as b,lr as c,ve as d,oe as e,Yy as f,N as g,Te as h,Jo as i,me as j,qy as k,Re as l,Wa as m,Je as n,J as o,Ft as p,Y as q,Be as r,K as s,v as t,we as u,ie as v,Le as w,ze as x,He as y,re as z};
