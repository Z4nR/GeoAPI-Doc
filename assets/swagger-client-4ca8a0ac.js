import{i as q,r as R,O as ce,t as A,a as W,b as Ft,c as Vt,d as zt,e as Bt,f as Lt,g as Ht,h as qt,j as Jt,k as J,l as F,H as Wt,R as Kt,P as ue,m as I,n as G,o as rt,p as nt,q as K,s as ee,u as st,v as He,w as Gt,x as D,y as H,z as qe,A as Qt,B as Je,M as de,C as he,D as E,E as Yt,F as We,G as Xt,I as me,J as X,K as Zt,L as _t,N as er,Q as tr,S as Z,T as rr,U as nr,V as Ke,W as sr,X as be,Y as or,Z as ot,_ as it,$ as ir,a0 as ar,a1 as cr,a2 as at,a3 as ct,a4 as ur,a5 as lr,a6 as Ge,a7 as fr,a8 as pr,a9 as dr,aa as hr,ab as mr,ac as yr,ad as gr}from"./@swagger-api-d5548479.js";import{j as V,J as Oe}from"./js-yaml-80719af7.js";import{c as vr}from"./cookie-910bb9f2.js";import{i as ut}from"./is-plain-object-24dec1b5.js";import{q as xe}from"./qs-b7a93ff8.js";import{a as L,g as wr}from"./fast-json-patch-6f36fdbd.js";import{d as Pr}from"./deepmerge-43fec275.js";import{t as br}from"./traverse-8a8386a3.js";const P={add:xr,replace:te,remove:Ar,merge:Sr,mergeDeep:Cr,context:Tr,getIn:$r,applyPatch:Or,parentPathMatch:Rr,flatten:Q,fullyNormalizeArray:jr,normalizeArray:ft,isPromise:kr,forEachNew:Er,forEachNewPrimitive:Mr,isJsonPatch:ht,isContextPatch:Dr,isPatch:le,isMutation:mt,isAdditiveMutation:se,isGenerator:Nr,isFunction:dt,isObject:N,isError:Ir};function Or(e,t,r){if(r=r||{},t={...t,path:t.path&&Qe(t.path)},t.op==="merge"){const n=ye(e,t.path);Object.assign(n,t.value),L(e,[te(t.path,n)])}else if(t.op==="mergeDeep"){const n=ye(e,t.path),s=Pr(n,t.value);e=L(e,[te(t.path,s)]).newDocument}else if(t.op==="add"&&t.path===""&&N(t.value)){const n=Object.keys(t.value).reduce((s,o)=>(s.push({op:"add",path:`/${Qe(o)}`,value:t.value[o]}),s),[]);L(e,n)}else if(t.op==="replace"&&t.path===""){let{value:n}=t;r.allowMetaPatches&&t.meta&&se(t)&&(Array.isArray(t.value)||N(t.value))&&(n={...n,...t.meta}),e=n}else if(L(e,[t]),r.allowMetaPatches&&t.meta&&se(t)&&(Array.isArray(t.value)||N(t.value))){const s={...ye(e,t.path),...t.meta};L(e,[te(t.path,s)])}return e}function Qe(e){return Array.isArray(e)?e.length<1?"":`/${e.map(t=>(t+"").replace(/~/g,"~0").replace(/\//g,"~1")).join("/")}`:e}function xr(e,t){return{op:"add",path:e,value:t}}function te(e,t,r){return{op:"replace",path:e,value:t,meta:r}}function Ar(e){return{op:"remove",path:e}}function Sr(e,t){return{type:"mutation",op:"merge",path:e,value:t}}function Cr(e,t){return{type:"mutation",op:"mergeDeep",path:e,value:t}}function Tr(e,t){return{type:"context",path:e,value:t}}function Er(e,t){try{return lt(e,Se,t)}catch(r){return r}}function Mr(e,t){try{return lt(e,Ae,t)}catch(r){return r}}function lt(e,t,r){const n=e.filter(se).map(a=>t(a.value,r,a.path))||[],s=Q(n);return pt(s)}function Ae(e,t,r){return r=r||[],Array.isArray(e)?e.map((n,s)=>Ae(n,t,r.concat(s))):N(e)?Object.keys(e).map(n=>Ae(e[n],t,r.concat(n))):t(e,r[r.length-1],r)}function Se(e,t,r){r=r||[];let n=[];if(r.length>0){const s=t(e,r[r.length-1],r);s&&(n=n.concat(s))}if(Array.isArray(e)){const s=e.map((o,a)=>Se(o,t,r.concat(a)));s&&(n=n.concat(s))}else if(N(e)){const s=Object.keys(e).map(o=>Se(e[o],t,r.concat(o)));s&&(n=n.concat(s))}return n=Q(n),n}function Rr(e,t){if(!Array.isArray(t))return!1;for(let r=0,n=t.length;r<n;r+=1)if(t[r]!==e[r])return!1;return!0}function $r(e,t){return t.reduce((r,n)=>typeof n<"u"&&r?r[n]:r,e)}function jr(e){return pt(Q(ft(e)))}function ft(e){return Array.isArray(e)?e:[e]}function Q(e){return[].concat(...e.map(t=>Array.isArray(t)?Q(t):t))}function pt(e){return e.filter(t=>typeof t<"u")}function N(e){return e&&typeof e=="object"}function kr(e){return N(e)&&dt(e.then)}function dt(e){return e&&typeof e=="function"}function Ir(e){return e instanceof Error}function ht(e){if(le(e)){const{op:t}=e;return t==="add"||t==="remove"||t==="replace"}return!1}function Nr(e){return Object.prototype.toString.call(e)==="[object GeneratorFunction]"}function mt(e){return ht(e)||le(e)&&e.type==="mutation"}function se(e){return mt(e)&&(e.op==="add"||e.op==="replace"||e.op==="merge"||e.op==="mergeDeep")}function Dr(e){return le(e)&&e.type==="context"}function le(e){return e&&typeof e=="object"}function ye(e,t){try{return wr(e,t)}catch(r){return console.error(r),{}}}const{fetch:Ur,Response:Fr,Headers:Vr,Request:zr,FormData:Br,File:Lr,Blob:Hr}=globalThis;typeof globalThis.fetch>"u"&&(globalThis.fetch=Ur);typeof globalThis.Headers>"u"&&(globalThis.Headers=Vr);typeof globalThis.Request>"u"&&(globalThis.Request=zr);typeof globalThis.Response>"u"&&(globalThis.Response=Fr);typeof globalThis.FormData>"u"&&(globalThis.FormData=Br);typeof globalThis.File>"u"&&(globalThis.File=Lr);typeof globalThis.Blob>"u"&&(globalThis.Blob=Hr);function je(e,t){function r(){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];[this.message]=s,t&&t.apply(this,s)}return r.prototype=new Error,r.prototype.name=e,r.prototype.constructor=r,r}const yt="application/json, application/yaml",oe="https://swagger.io",qr=["properties"],Jr=["properties"],Wr=["definitions","parameters","responses","securityDefinitions","components/schemas","components/responses","components/parameters","components/securitySchemes"],Kr=["schema/example","items/example"];function gt(e){const t=e[e.length-1],r=e[e.length-2],n=e.join("/");return qr.indexOf(t)>-1&&Jr.indexOf(r)===-1||Wr.indexOf(n)>-1||Kr.some(s=>n.indexOf(s)>-1)}function Gr(e,t){let{specmap:r,getBaseUrlForNodePath:n=a=>r.getContext([...t,...a]).baseDoc,targetKeys:s=["$ref","$$ref"]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=[];return br(e).forEach(function(){if(s.includes(this.key)&&typeof this.node=="string"){const i=this.path,c=t.concat(this.path),u=Ce(this.node,n(i));o.push(r.replace(c,u))}}),o}function Ce(e,t){const[r,n]=e.split("#"),s=t??"",o=r??"";let a;if(q(s))a=R(s,o);else{const i=R(oe,s),u=R(i,o).replace(oe,"");a=o.startsWith("/")?u:u.substring(1)}return n?`${a}#${n}`:a}const Qr=/^([a-z]+:\/\/|\/\/)/i,z=je("JSONRefError",function(t,r,n){this.originalError=n,Object.assign(this,r||{})}),k={},Ye=new WeakMap,Yr=[e=>e[0]==="paths"&&e[3]==="responses"&&e[5]==="examples",e=>e[0]==="paths"&&e[3]==="responses"&&e[5]==="content"&&e[7]==="example",e=>e[0]==="paths"&&e[3]==="responses"&&e[5]==="content"&&e[7]==="examples"&&e[9]==="value",e=>e[0]==="paths"&&e[3]==="requestBody"&&e[4]==="content"&&e[6]==="example",e=>e[0]==="paths"&&e[3]==="requestBody"&&e[4]==="content"&&e[6]==="examples"&&e[8]==="value",e=>e[0]==="paths"&&e[2]==="parameters"&&e[4]==="example",e=>e[0]==="paths"&&e[3]==="parameters"&&e[5]==="example",e=>e[0]==="paths"&&e[2]==="parameters"&&e[4]==="examples"&&e[6]==="value",e=>e[0]==="paths"&&e[3]==="parameters"&&e[5]==="examples"&&e[7]==="value",e=>e[0]==="paths"&&e[2]==="parameters"&&e[4]==="content"&&e[6]==="example",e=>e[0]==="paths"&&e[2]==="parameters"&&e[4]==="content"&&e[6]==="examples"&&e[8]==="value",e=>e[0]==="paths"&&e[3]==="parameters"&&e[4]==="content"&&e[7]==="example",e=>e[0]==="paths"&&e[3]==="parameters"&&e[5]==="content"&&e[7]==="examples"&&e[9]==="value"],Xr=e=>Yr.some(t=>t(e)),Zr={key:"$ref",plugin:(e,t,r,n)=>{const s=n.getInstance(),o=r.slice(0,-1);if(gt(o)||Xr(o))return;const{baseDoc:a}=n.getContext(r);if(typeof e!="string")return new z("$ref: must be a string (JSON-Ref)",{$ref:e,baseDoc:a,fullPath:r});const i=wt(e),c=i[0],u=i[1]||"";let f;try{f=a||c?vt(c,a):null}catch(d){return Te(d,{pointer:u,$ref:e,basePath:f,fullPath:r})}let l,h;if(nn(u,f,o,n)&&!s.useCircularStructures){const d=Ce(e,f);return e===d?null:P.replace(r,d)}if(f==null?(h=Ie(u),l=n.get(h),typeof l>"u"&&(l=new z(`Could not resolve reference: ${e}`,{pointer:u,$ref:e,baseDoc:a,fullPath:r}))):(l=Pt(f,u),l.__value!=null?l=l.__value:l=l.catch(d=>{throw Te(d,{pointer:u,$ref:e,baseDoc:a,fullPath:r})})),l instanceof Error)return[P.remove(r),l];const p=Ce(e,f),m=P.replace(o,l,{$$ref:p});if(f&&f!==a)return[m,P.context(o,{baseDoc:f})];try{if(!sn(n.state,m)||s.useCircularStructures)return m}catch{return null}}},ke=Object.assign(Zr,{docCache:k,absoluteify:vt,clearCache:_r,JSONRefError:z,wrapError:Te,getDoc:bt,split:wt,extractFromDoc:Pt,fetchJSON:en,extract:Ee,jsonPointerToArray:Ie,unescapeJsonPointerToken:Ot});function vt(e,t){if(!Qr.test(e)){if(!t)throw new z(`Tried to resolve a relative URL, without having a basePath. path: '${e}' basePath: '${t}'`);return R(t,e)}return e}function Te(e,t){let r;return e&&e.response&&e.response.body?r=`${e.response.body.code} ${e.response.body.message}`:r=e.message,new z(`Could not resolve reference: ${r}`,t,e)}function wt(e){return(e+"").split("#")}function Pt(e,t){const r=k[e];if(r&&!P.isPromise(r))try{const n=Ee(t,r);return Object.assign(Promise.resolve(n),{__value:n})}catch(n){return Promise.reject(n)}return bt(e).then(n=>Ee(t,n))}function _r(e){typeof e<"u"?delete k[e]:Object.keys(k).forEach(t=>{delete k[t]})}function bt(e){const t=k[e];return t?P.isPromise(t)?t:Promise.resolve(t):(k[e]=ke.fetchJSON(e).then(r=>(k[e]=r,r)),k[e])}function en(e){return fetch(e,{headers:{Accept:yt},loadSpec:!0}).then(t=>t.text()).then(t=>V.load(t))}function Ee(e,t){const r=Ie(e);if(r.length<1)return t;const n=P.getIn(t,r);if(typeof n>"u")throw new z(`Could not resolve pointer: ${e} does not exist in document`,{pointer:e});return n}function Ie(e){if(typeof e!="string")throw new TypeError(`Expected a string, got a ${typeof e}`);return e[0]==="/"&&(e=e.substr(1)),e===""?[]:e.split("/").map(Ot)}function Ot(e){return typeof e!="string"?e:new URLSearchParams(`=${e.replace(/~1/g,"/").replace(/~0/g,"~")}`).get("")}function xt(e){return new URLSearchParams([["",e.replace(/~/g,"~0").replace(/\//g,"~1")]]).toString().slice(1)}function tn(e){return e.length===0?"":`/${e.map(xt).join("/")}`}const rn=e=>!e||e==="/"||e==="#";function ge(e,t){if(rn(t))return!0;const r=e.charAt(t.length),n=t.slice(-1);return e.indexOf(t)===0&&(!r||r==="/"||r==="#")&&n!=="#"}function nn(e,t,r,n){let s=Ye.get(n);s||(s={},Ye.set(n,s));const o=tn(r),a=`${t||"<specmap-base>"}#${e}`,i=o.replace(/allOf\/\d+\/?/g,""),c=n.contextTree.get([]).baseDoc;if(t===c&&ge(i,e))return!0;let u="";if(r.some(l=>(u=`${u}/${xt(l)}`,s[u]&&s[u].some(h=>ge(h,a)||ge(a,h)))))return!0;s[i]=(s[i]||[]).concat(a)}function sn(e,t){const r=[e];return t.path.reduce((s,o)=>(r.push(s[o]),s[o]),e),n(t.value);function n(s){return P.isObject(s)&&(r.indexOf(s)>=0||Object.keys(s).some(o=>n(s[o])))}}const on={key:"allOf",plugin:(e,t,r,n,s)=>{if(s.meta&&s.meta.$$ref)return;const o=r.slice(0,-1);if(gt(o))return;if(!Array.isArray(e)){const u=new TypeError("allOf must be an array");return u.fullPath=r,u}let a=!1,i=s.value;if(o.forEach(u=>{i&&(i=i[u])}),i={...i},Object.keys(i).length===0)return;delete i.allOf;const c=[];return c.push(n.replace(o,{})),e.forEach((u,f)=>{if(!n.isObject(u)){if(a)return null;a=!0;const p=new TypeError("Elements in allOf must be objects");return p.fullPath=r,c.push(p)}c.push(n.mergeDeep(o,u));const l=r.slice(0,-1),h=Gr(u,l,{getBaseUrlForNodePath:p=>n.getContext([...r,f,...p]).baseDoc,specmap:n});c.push(...h)}),i.example&&c.push(n.remove([].concat(o,"example"))),c.push(n.mergeDeep(o,i)),i.$$ref||c.push(n.remove([].concat(o,"$$ref"))),c}},an={key:"parameters",plugin:(e,t,r,n)=>{if(Array.isArray(e)&&e.length){const s=Object.assign([],e),o=r.slice(0,-1),a={...P.getIn(n.spec,o)};for(let i=0;i<e.length;i+=1){const c=e[i];try{s[i].default=n.parameterMacro(a,c)}catch(u){const f=new Error(u);return f.fullPath=r,f}}return P.replace(r,s)}return P.replace(r,e)}},cn={key:"properties",plugin:(e,t,r,n)=>{const s={...e};for(const a in e)try{s[a].default=n.modelPropertyMacro(s[a])}catch(i){const c=new Error(i);return c.fullPath=r,c}return P.replace(r,s)}};class un{constructor(t){this.root=ve(t||{})}set(t,r){const n=this.getParent(t,!0);if(!n){ie(this.root,r,null);return}const s=t[t.length-1],{children:o}=n;if(o[s]){ie(o[s],r,n);return}o[s]=ve(r,n)}get(t){if(t=t||[],t.length<1)return this.root.value;let r=this.root,n,s;for(let o=0;o<t.length&&(s=t[o],n=r.children,!!n[s]);o+=1)r=n[s];return r&&r.protoValue}getParent(t,r){return!t||t.length<1?null:t.length<2?this.root:t.slice(0,-1).reduce((n,s)=>{if(!n)return n;const{children:o}=n;return!o[s]&&r&&(o[s]=ve(null,n)),o[s]},this.root)}}function ve(e,t){return ie({children:{}},e,t)}function ie(e,t,r){return e.value=t||{},e.protoValue=r?{...r.protoValue,...e.value}:e.value,Object.keys(e.children).forEach(n=>{const s=e.children[n];e.children[n]=ie(s,s.value,e)}),e}const Xe=100,Ze=()=>{};class ln{static getPluginName(t){return t.pluginName}static getPatchesOfType(t,r){return t.filter(r)}constructor(t){Object.assign(this,{spec:"",debugLevel:"info",plugins:[],pluginHistory:{},errors:[],mutations:[],promisedPatches:[],state:{},patches:[],context:{},contextTree:new un,showDebug:!1,allPatches:[],pluginProp:"specMap",libMethods:Object.assign(Object.create(this),P,{getInstance:()=>this}),allowMetaPatches:!1},t),this.get=this._get.bind(this),this.getContext=this._getContext.bind(this),this.hasRun=this._hasRun.bind(this),this.wrappedPlugins=this.plugins.map(this.wrapPlugin.bind(this)).filter(P.isFunction),this.patches.push(P.add([],this.spec)),this.patches.push(P.context([],this.context)),this.updatePatches(this.patches)}debug(t){if(this.debugLevel===t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];console.log(...n)}}verbose(t){if(this.debugLevel==="verbose"){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];console.log(`[${t}]   `,...n)}}wrapPlugin(t,r){const{pathDiscriminator:n}=this;let s=null,o;return t[this.pluginProp]?(s=t,o=t[this.pluginProp]):P.isFunction(t)?o=t:P.isObject(t)&&(o=a(t)),Object.assign(o.bind(s),{pluginName:t.name||r,isGenerator:P.isGenerator(o)});function a(i){const c=(u,f)=>Array.isArray(u)?u.every((l,h)=>l===f[h]):!0;return function*(f,l){const h={};for(const m of f.filter(P.isAdditiveMutation))yield*p(m.value,m.path,m);function*p(m,d,v){if(!P.isObject(m))i.key===d[d.length-1]&&(yield i.plugin(m,i.key,d,l));else{const y=d.length-1,O=d[y],g=d.indexOf("properties"),S=O==="properties"&&y===g,C=l.allowMetaPatches&&h[m.$$ref];for(const b of Object.keys(m)){const x=m[b],j=d.concat(b),w=P.isObject(x),M=m.$$ref;if(C||w&&(l.allowMetaPatches&&M&&(h[M]=!0),yield*p(x,j,v)),!S&&b===i.key){const T=c(n,d);(!n||T)&&(yield i.plugin(x,b,j,l,v))}}}}}}}nextPlugin(){return this.wrappedPlugins.find(t=>this.getMutationsForPlugin(t).length>0)}nextPromisedPatch(){if(this.promisedPatches.length>0)return Promise.race(this.promisedPatches.map(t=>t.value))}getPluginHistory(t){const r=this.constructor.getPluginName(t);return this.pluginHistory[r]||[]}getPluginRunCount(t){return this.getPluginHistory(t).length}getPluginHistoryTip(t){const r=this.getPluginHistory(t);return r&&r[r.length-1]||{}}getPluginMutationIndex(t){const r=this.getPluginHistoryTip(t).mutationIndex;return typeof r!="number"?-1:r}updatePluginHistory(t,r){const n=this.constructor.getPluginName(t);this.pluginHistory[n]=this.pluginHistory[n]||[],this.pluginHistory[n].push(r)}updatePatches(t){P.normalizeArray(t).forEach(r=>{if(r instanceof Error){this.errors.push(r);return}try{if(!P.isObject(r)){this.debug("updatePatches","Got a non-object patch",r);return}if(this.showDebug&&this.allPatches.push(r),P.isPromise(r.value)){this.promisedPatches.push(r),this.promisedPatchThen(r);return}if(P.isContextPatch(r)){this.setContext(r.path,r.value);return}P.isMutation(r)&&this.updateMutations(r)}catch(n){console.error(n),this.errors.push(n)}})}updateMutations(t){typeof t.value=="object"&&!Array.isArray(t.value)&&this.allowMetaPatches&&(t.value={...t.value});const r=P.applyPatch(this.state,t,{allowMetaPatches:this.allowMetaPatches});r&&(this.mutations.push(t),this.state=r)}removePromisedPatch(t){const r=this.promisedPatches.indexOf(t);if(r<0){this.debug("Tried to remove a promisedPatch that isn't there!");return}this.promisedPatches.splice(r,1)}promisedPatchThen(t){return t.value=t.value.then(r=>{const n={...t,value:r};this.removePromisedPatch(t),this.updatePatches(n)}).catch(r=>{this.removePromisedPatch(t),this.updatePatches(r)}),t.value}getMutations(t,r){return t=t||0,typeof r!="number"&&(r=this.mutations.length),this.mutations.slice(t,r)}getCurrentMutations(){return this.getMutationsForPlugin(this.getCurrentPlugin())}getMutationsForPlugin(t){const r=this.getPluginMutationIndex(t);return this.getMutations(r+1)}getCurrentPlugin(){return this.currentPlugin}getLib(){return this.libMethods}_get(t){return P.getIn(this.state,t)}_getContext(t){return this.contextTree.get(t)}setContext(t,r){return this.contextTree.set(t,r)}_hasRun(t){return this.getPluginRunCount(this.getCurrentPlugin())>(t||0)}dispatch(){const t=this,r=this.nextPlugin();if(!r){const o=this.nextPromisedPatch();if(o)return o.then(()=>this.dispatch()).catch(()=>this.dispatch());const a={spec:this.state,errors:this.errors};return this.showDebug&&(a.patches=this.allPatches),Promise.resolve(a)}if(t.pluginCount=t.pluginCount||{},t.pluginCount[r]=(t.pluginCount[r]||0)+1,t.pluginCount[r]>Xe)return Promise.resolve({spec:t.state,errors:t.errors.concat(new Error(`We've reached a hard limit of ${Xe} plugin runs`))});if(r!==this.currentPlugin&&this.promisedPatches.length){const o=this.promisedPatches.map(a=>a.value);return Promise.all(o.map(a=>a.then(Ze,Ze))).then(()=>this.dispatch())}return n();function n(){t.currentPlugin=r;const o=t.getCurrentMutations(),a=t.mutations.length-1;try{if(r.isGenerator)for(const i of r(o,t.getLib()))s(i);else{const i=r(o,t.getLib());s(i)}}catch(i){console.error(i),s([Object.assign(Object.create(i),{plugin:r})])}finally{t.updatePluginHistory(r,{mutationIndex:a})}return t.dispatch()}function s(o){o&&(o=P.fullyNormalizeArray(o),t.updatePatches(o,r))}}}function fn(e){return new ln(e).dispatch()}const U={refs:ke,allOf:on,parameters:an,properties:cn},At=e=>e.replace(/\W/gi,"_");function pn(e,t){let{v2OperationIdCompatibilityMode:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r){let n=`${t.toLowerCase()}_${e}`.replace(/[\s!@#$%^&*()_+=[{\]};:<>|./?,\\'""-]/g,"_");return n=n||`${e.substring(1)}_${t}`,n.replace(/((_){2,})/g,"_").replace(/^(_)*/g,"").replace(/([_])*$/g,"")}return`${t.toLowerCase()}${At(e)}`}function Ne(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",{v2OperationIdCompatibilityMode:n}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return!e||typeof e!="object"?null:(e.operationId||"").replace(/\s/g,"").length?At(e.operationId):pn(t,r,{v2OperationIdCompatibilityMode:n})}function fe(e){const{spec:t}=e,{paths:r}=t,n={};if(!r||t.$$normalized)return e;for(const s in r){const o=r[s];if(o==null||!["object","function"].includes(typeof o))continue;const a=o.parameters;for(const i in o){const c=o[i];if(c==null||!["object","function"].includes(typeof c))continue;const u=Ne(c,s,i);if(u){n[u]?n[u].push(c):n[u]=[c];const f=n[u];if(f.length>1)f.forEach((l,h)=>{l.__originalOperationId=l.__originalOperationId||l.operationId,l.operationId=`${u}${h+1}`});else if(typeof c.operationId<"u"){const l=f[0];l.__originalOperationId=l.__originalOperationId||c.operationId,l.operationId=u}}if(i!=="parameters"){const f=[],l={};for(const h in t)(h==="produces"||h==="consumes"||h==="security")&&(l[h]=t[h],f.push(l));if(a&&(l.parameters=a,f.push(l)),f.length){for(const h of f)for(const p in h)if(!c[p])c[p]=h[p];else if(p==="parameters")for(const m of h[p])c[p].some(v=>v.name&&v.name===m.name||v.$ref&&v.$ref===m.$ref||v.$$ref&&v.$$ref===m.$$ref||v===m)||c[p].push(m)}}}}return t.$$normalized=!0,e}function St(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{requestInterceptor:r,responseInterceptor:n}=t,s=e.withCredentials?"include":"same-origin";return o=>e({url:o,loadSpec:!0,requestInterceptor:r,responseInterceptor:n,headers:{Accept:yt},credentials:s}).then(a=>a.body)}const dn=e=>":/?#[]@!$&'()*+,;=".indexOf(e)>-1,hn=e=>/^[a-z0-9\-._~]+$/i.test(e);function B(e){let{escape:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return typeof e=="number"&&(e=e.toString()),typeof e!="string"||!e.length||!t?e:r?JSON.parse(e):[...e].map(n=>{if(hn(n)||dn(n)&&t==="unsafe")return n;const s=new TextEncoder;return Array.from(s.encode(n)).map(a=>`0${a.toString(16).toUpperCase()}`.slice(-2)).map(a=>`%${a}`).join("")}).join("")}function De(e){const{value:t}=e;return Array.isArray(t)?mn(e):typeof t=="object"?yn(e):gn(e)}function mn(e){let{key:t,value:r,style:n,explode:s,escape:o}=e;const a=i=>B(i,{escape:o});if(n==="simple")return r.map(i=>a(i)).join(",");if(n==="label")return`.${r.map(i=>a(i)).join(".")}`;if(n==="matrix")return r.map(i=>a(i)).reduce((i,c)=>!i||s?`${i||""};${t}=${c}`:`${i},${c}`,"");if(n==="form"){const i=s?`&${t}=`:",";return r.map(c=>a(c)).join(i)}if(n==="spaceDelimited"){const i=s?`${t}=`:"";return r.map(c=>a(c)).join(` ${i}`)}if(n==="pipeDelimited"){const i=s?`${t}=`:"";return r.map(c=>a(c)).join(`|${i}`)}}function yn(e){let{key:t,value:r,style:n,explode:s,escape:o}=e;const a=c=>B(c,{escape:o}),i=Object.keys(r);if(n==="simple")return i.reduce((c,u)=>{const f=a(r[u]),l=s?"=":",";return`${c?`${c},`:""}${u}${l}${f}`},"");if(n==="label")return i.reduce((c,u)=>{const f=a(r[u]),l=s?"=":".";return`${c?`${c}.`:"."}${u}${l}${f}`},"");if(n==="matrix"&&s)return i.reduce((c,u)=>{const f=a(r[u]);return`${c?`${c};`:";"}${u}=${f}`},"");if(n==="matrix")return i.reduce((c,u)=>{const f=a(r[u]);return`${c?`${c},`:`;${t}=`}${u},${f}`},"");if(n==="form")return i.reduce((c,u)=>{const f=a(r[u]);return`${c?`${c}${s?"&":","}`:""}${u}${s?"=":","}${f}`},"")}function gn(e){let{key:t,value:r,style:n,escape:s}=e;const o=a=>B(a,{escape:s});if(n==="simple")return o(r);if(n==="label")return`.${o(r)}`;if(n==="matrix")return`;${t}=${o(r)}`;if(n==="form"||n==="deepObject")return o(r)}const Me={serializeRes:Pn,mergeInQueryOrForm:Et};async function Ue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="object"&&(t=e,e=t.url),t.headers=t.headers||{},Me.mergeInQueryOrForm(t),t.headers&&Object.keys(t.headers).forEach(s=>{const o=t.headers[s];typeof o=="string"&&(t.headers[s]=o.replace(/\n+/g," "))}),t.requestInterceptor&&(t=await t.requestInterceptor(t)||t);const r=t.headers["content-type"]||t.headers["Content-Type"];/multipart\/form-data/i.test(r)&&(delete t.headers["content-type"],delete t.headers["Content-Type"]);let n;try{n=await(t.userFetch||fetch)(t.url,t),n=await Me.serializeRes(n,e,t),t.responseInterceptor&&(n=await t.responseInterceptor(n)||n)}catch(s){if(!n)throw s;const o=new Error(n.statusText||`response status is ${n.status}`);throw o.status=n.status,o.statusCode=n.status,o.responseError=s,o}if(!n.ok){const s=new Error(n.statusText||`response status is ${n.status}`);throw s.status=n.status,s.statusCode=n.status,s.response=n,s}return n}const vn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return/(json|xml|yaml|text)\b/.test(e)};function wn(e,t){return t&&(t.indexOf("application/json")===0||t.indexOf("+json")>0)?JSON.parse(e):V.load(e)}function Pn(e,t){let{loadSpec:r=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n={ok:e.ok,url:e.url||t,status:e.status,statusText:e.statusText,headers:On(e.headers)},s=n.headers["content-type"],o=r||vn(s);return(o?e.text:e.blob||e.buffer).call(e).then(i=>{if(n.text=i,n.data=i,o)try{const c=wn(i,s);n.body=c,n.obj=c}catch(c){n.parseError=c}return n})}function bn(e){return e.includes(", ")?e.split(", "):e}function On(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return typeof e.entries!="function"?{}:Array.from(e.entries()).reduce((t,r)=>{let[n,s]=r;return t[n]=bn(s),t},{})}function Fe(e,t){return!t&&typeof navigator<"u"&&(t=navigator),t&&t.product==="ReactNative"?!!(e&&typeof e=="object"&&typeof e.uri=="string"):typeof File<"u"&&e instanceof File||typeof Blob<"u"&&e instanceof Blob||ArrayBuffer.isView(e)?!0:e!==null&&typeof e=="object"&&typeof e.pipe=="function"}function Ct(e,t){return Array.isArray(e)&&e.some(r=>Fe(r,t))}const xn={form:",",spaceDelimited:"%20",pipeDelimited:"|"},An={csv:",",ssv:"%20",tsv:"%09",pipes:"|"};class Re extends File{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super([t],r,n),this.data=t}valueOf(){return this.data}toString(){return this.valueOf()}}function Tt(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{collectionFormat:n,allowEmptyValue:s,serializationOption:o,encoding:a}=t,i=typeof t=="object"&&!Array.isArray(t)?t.value:t,c=r?f=>f.toString():f=>encodeURIComponent(f),u=c(e);if(typeof i>"u"&&s)return[[u,""]];if(Fe(i)||Ct(i))return[[u,i]];if(o)return _e(e,i,r,o);if(a){if([typeof a.style,typeof a.explode,typeof a.allowReserved].some(f=>f!=="undefined")){const{style:f,explode:l,allowReserved:h}=a;return _e(e,i,r,{style:f,explode:l,allowReserved:h})}if(typeof a.contentType=="string"){if(a.contentType.startsWith("application/json")){const h=typeof i=="string"?i:JSON.stringify(i),p=c(h),m=new Re(p,"blob",{type:a.contentType});return[[u,m]]}const f=c(String(i)),l=new Re(f,"blob",{type:a.contentType});return[[u,l]]}return typeof i!="object"?[[u,c(i)]]:Array.isArray(i)&&i.every(f=>typeof f!="object")?[[u,i.map(c).join(",")]]:[[u,c(JSON.stringify(i))]]}return typeof i!="object"?[[u,c(i)]]:Array.isArray(i)?n==="multi"?[[u,i.map(c)]]:[[u,i.map(c).join(An[n||"csv"])]]:[[u,""]]}function _e(e,t,r,n){const s=n.style||"form",o=typeof n.explode>"u"?s==="form":n.explode,a=r?!1:n&&n.allowReserved?"unsafe":"reserved",i=u=>B(u,{escape:a}),c=r?u=>u:u=>B(u,{escape:a});return typeof t!="object"?[[c(e),i(t)]]:Array.isArray(t)?o?[[c(e),t.map(i)]]:[[c(e),t.map(i).join(xn[s])]]:s==="deepObject"?Object.keys(t).map(u=>[c(`${e}[${u}]`),i(t[u])]):o?Object.keys(t).map(u=>[c(u),i(t[u])]):[[c(e),Object.keys(t).map(u=>[`${c(u)},${i(t[u])}`]).join(",")]]}function Sn(e){return Object.entries(e).reduce((t,r)=>{let[n,s]=r;for(const[o,a]of Tt(n,s,!0))if(Array.isArray(a))for(const i of a)if(ArrayBuffer.isView(i)){const c=new Blob([i]);t.append(o,c)}else t.append(o,i);else if(ArrayBuffer.isView(a)){const i=new Blob([a]);t.append(o,i)}else t.append(o,a);return t},new FormData)}function et(e){const t=Object.keys(e).reduce((r,n)=>{for(const[s,o]of Tt(n,e[n]))o instanceof Re?r[s]=o.valueOf():r[s]=o;return r},{});return xe.stringify(t,{encode:!1,indices:!1})||""}function Et(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{url:t="",query:r,form:n}=e,s=function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];const c=a.filter(u=>u).join("&");return c?`?${c}`:""};if(n){const o=Object.keys(n).some(i=>{const{value:c}=n[i];return Fe(c)||Ct(c)}),a=e.headers["content-type"]||e.headers["Content-Type"];if(o||/multipart\/form-data/i.test(a)){const i=Sn(e.form);e.formdata=i,e.body=i}else e.body=et(n);delete e.form}if(r){const[o,a]=t.split("?");let i="";if(a){const u=xe.parse(a);Object.keys(r).forEach(l=>delete u[l]),i=xe.stringify(u,{encode:!0})}const c=s(i,et(r));e.url=o+c,delete e.query}return e}function Is(e,t,r){return r=r||(n=>n),t=t||(n=>n),n=>(typeof n=="string"&&(n={url:n}),Me.mergeInQueryOrForm(n),n=t(n),r(e(n)))}const Ve=e=>{var t,r;const{baseDoc:n,url:s}=e,o=(t=n??s)!==null&&t!==void 0?t:"";return typeof((r=globalThis.document)===null||r===void 0?void 0:r.baseURI)=="string"?String(new URL(o,globalThis.document.baseURI)):o},Mt=e=>{const{fetch:t,http:r}=e;return t||r||Ue};async function ze(e){const{spec:t,mode:r,allowMetaPatches:n=!0,pathDiscriminator:s,modelPropertyMacro:o,parameterMacro:a,requestInterceptor:i,responseInterceptor:c,skipNormalization:u,useCircularStructures:f}=e,l=Ve(e),h=Mt(e);return p(t);function p(m){l&&(U.refs.docCache[l]=m),U.refs.fetchJSON=St(h,{requestInterceptor:i,responseInterceptor:c});const d=[U.refs];return typeof a=="function"&&d.push(U.parameters),typeof o=="function"&&d.push(U.properties),r!=="strict"&&d.push(U.allOf),fn({spec:m,context:{baseDoc:l},plugins:d,allowMetaPatches:n,pathDiscriminator:s,parameterMacro:a,modelPropertyMacro:o,useCircularStructures:f}).then(u?async v=>v:fe)}}const Cn={name:"generic",match(){return!0},normalize(e){let{spec:t}=e;const{spec:r}=fe({spec:t});return r},async resolve(e){return ze(e)}};async function Tn(e){return ze(e)}const En=e=>{try{const{swagger:t}=e;return t==="2.0"}catch{return!1}},Rt=e=>{try{const{openapi:t}=e;return typeof t=="string"&&/^3\.0\.([0123])(?:-rc[012])?$/.test(t)}catch{return!1}},$t=e=>{try{const{openapi:t}=e;return typeof t=="string"&&/^3\.1\.(?:[1-9]\d*|0)$/.test(t)}catch{return!1}},jt=e=>Rt(e)||$t(e),Mn={name:"openapi-2",match(e){let{spec:t}=e;return En(t)},normalize(e){let{spec:t}=e;const{spec:r}=fe({spec:t});return r},async resolve(e){return Tn(e)}};async function Rn(e){return ze(e)}const $n={name:"openapi-3-0",match(e){let{spec:t}=e;return Rt(t)},normalize(e){let{spec:t}=e;const{spec:r}=fe({spec:t});return r},async resolve(e){return Rn(e)}},kt=e=>{if(!W(e)||e.hasKey("$$normalized"))return e;const t=[Ft({operationIdNormalizer:(n,s,o)=>Ne({operationId:n},s,o,{v2OperationIdCompatibilityMode:!1})}),Vt(),zt(),Bt(),Lt(),Ht()],r=qt(e,t,{toolboxCreator:Jt,visitorOptions:{keyMap:J,nodeTypeGetter:F}});return r.set("$$normalized",!0),r},ae=e=>t=>{if(t!=null&&t.$$normalized||ae.cache.has(t))return t;const r=ce.refract(t),n=e(r),s=A(n);return ae.cache.set(t,s),s};ae.cache=new WeakMap;const{AbortController:jn,AbortSignal:kn}=globalThis;typeof globalThis.AbortController>"u"&&(globalThis.AbortController=jn);typeof globalThis.AbortSignal>"u"&&(globalThis.AbortSignal=kn);const In=Wt.compose({props:{name:"http-swagger-client",swaggerHTTPClient:Ue,swaggerHTTPClientConfig:{}},init(){let{swaggerHTTPClient:e=this.swaggerHTTPClient}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.swaggerHTTPClient=e},methods:{getHttpClient(){return this.swaggerHTTPClient},async read(e){const t=this.getHttpClient(),r=new AbortController,{signal:n}=r,s=setTimeout(()=>{r.abort()},this.timeout),o=this.getHttpClient().withCredentials||this.withCredentials?"include":"same-origin",a=this.redirects===0?"error":"follow",i=this.redirects>0?this.redirects:void 0;try{return(await t({url:e.uri,signal:n,userFetch:async(u,f)=>{let l=await fetch(u,f);try{l.headers.delete("Content-Type")}catch{l=new Response(l.body,{...l,headers:new Headers(l.headers)}),l.headers.delete("Content-Type")}return l},credentials:o,redirect:a,follow:i,...this.swaggerHTTPClientConfig})).text.arrayBuffer()}catch(c){throw new Kt(`Error downloading "${e.uri}"`,{cause:c})}finally{clearTimeout(s)}}}}),Nn=ue.compose({props:{name:"json-swagger-client",fileExtensions:[".json"],mediaTypes:["application/json"]},methods:{async canParse(e){const t=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{return JSON.parse(e.toString()),!0}catch{return!1}return!1},async parse(e){if(this.sourceMap)throw new I("json-swagger-client parser plugin doesn't support sourceMaps option");const t=new G,r=e.toString();if(this.allowEmpty&&r.trim()==="")return t;try{const n=rt(JSON.parse(r));return n.classes.push("result"),t.push(n),t}catch(n){throw new I(`Error parsing "${e.uri}"`,{cause:n})}}}}),Dn=ue.compose({props:{name:"yaml-1-2-swagger-client",fileExtensions:[".yaml",".yml"],mediaTypes:["text/yaml","application/yaml"]},methods:{async canParse(e){const t=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{return V.load(e.toString(),{schema:Oe}),!0}catch{return!1}return!1},async parse(e){if(this.sourceMap)throw new I("yaml-1-2-swagger-client parser plugin doesn't support sourceMaps option");const t=new G,r=e.toString();try{const n=V.load(r,{schema:Oe});if(this.allowEmpty&&typeof n>"u")return t;const s=rt(n);return s.classes.push("result"),t.push(s),t}catch(n){throw new I(`Error parsing "${e.uri}"`,{cause:n})}}}}),Un=ue.compose({props:{name:"openapi-json-3-1-swagger-client",fileExtensions:[".json"],mediaTypes:new nt(...K.filterByFormat("generic"),...K.filterByFormat("json")),detectionRegExp:/"openapi"\s*:\s*"(?<version_json>3\.1\.(?:[1-9]\d*|0))"/},methods:{async canParse(e){const t=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{const n=e.toString();return JSON.parse(n),this.detectionRegExp.test(n)}catch{return!1}return!1},async parse(e){if(this.sourceMap)throw new I("openapi-json-3-1-swagger-client parser plugin doesn't support sourceMaps option");const t=new G,r=e.toString();if(this.allowEmpty&&r.trim()==="")return t;try{const n=JSON.parse(r),s=ce.refract(n,this.refractorOpts);return s.classes.push("result"),t.push(s),t}catch(n){throw new I(`Error parsing "${e.uri}"`,{cause:n})}}}}),Fn=ue.compose({props:{name:"openapi-yaml-3-1-swagger-client",fileExtensions:[".yaml",".yml"],mediaTypes:new nt(...K.filterByFormat("generic"),...K.filterByFormat("yaml")),detectionRegExp:/(?<YAML>^(["']?)openapi\2\s*:\s*(["']?)(?<version_yaml>3\.1\.(?:[1-9]\d*|0))\3(?:\s+|$))|(?<JSON>"openapi"\s*:\s*"(?<version_json>3\.1\.(?:[1-9]\d*|0))")/m},methods:{async canParse(e){const t=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{const n=e.toString();return V.load(n),this.detectionRegExp.test(n)}catch{return!1}return!1},async parse(e){if(this.sourceMap)throw new I("openapi-yaml-3-1-swagger-client parser plugin doesn't support sourceMaps option");const t=new G,r=e.toString();try{const n=V.load(r,{schema:Oe});if(this.allowEmpty&&typeof n>"u")return t;const s=ce.refract(n,this.refractorOpts);return s.classes.push("result"),t.push(s),t}catch(n){throw new I(`Error parsing "${e.uri}"`,{cause:n})}}}}),Vn=e=>e.slice(2),$=e=>{const t=Vn(e);return t.reduce((r,n,s)=>{if(ee(n)){const o=String(A(n.key));r.push(o)}else if(st(t[s-2])){const o=t[s-2].content.indexOf(n);r.push(o)}return r},[])},_=e=>{if(e.cause==null)return e;let{cause:t}=e;for(;t.cause!=null;)t=t.cause;return t},zn=je("SchemaRefError",function(t,r,n){this.originalError=n,Object.assign(this,r||{})}),{wrapError:we}=ke,Pe=ot[Symbol.for("nodejs.util.promisify.custom")],re=He.compose({props:{useCircularStructures:!0,allowMetaPatches:!1,basePath:null},init(e){let{allowMetaPatches:t=this.allowMetaPatches,useCircularStructures:r=this.useCircularStructures,basePath:n=this.basePath}=e;this.allowMetaPatches=t,this.useCircularStructures=r,this.basePath=n},methods:{async ReferenceElement(e,t,r,n,s){try{var o;const[u,f]=this.toAncestorLineage([...s,r]);if(u.includesCycle(e)||!this.options.resolve.external&&Gt(e))return!1;const l=await this.toReference(A(e.$ref)),{uri:h}=l,p=R(h,A(e.$ref));this.indirections.push(e);const m=D(p);let d=H(m,l.value.result);if(qe(d)){const O=A(e.meta.get("referenced-element"));Qt(d)?(d=Je.refract(d),d.setMetaProperty("referenced-element",O)):d=this.namespace.getElementClass(O).refract(d)}if(this.indirections.includes(d))throw new Error("Recursive JSON Pointer detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new de(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(!this.useCircularStructures&&u.includes(d))return q(h)||he(h)?new Je({$ref:p},E(e.meta),E(e.attributes)):!1;f.add(e);const v=re({reference:l,namespace:this.namespace,indirections:[...this.indirections],options:this.options,ancestors:u,allowMetaPatches:this.allowMetaPatches,useCircularStructures:this.useCircularStructures,basePath:(o=this.basePath)!==null&&o!==void 0?o:[...$([...s,r,e]),"$ref"]});d=await Pe(d,v,{keyMap:J,nodeTypeGetter:F}),f.delete(e),this.indirections.pop();const y=O=>{const g=Yt(O);if(g.setMetaProperty("ref-fields",{$ref:A(e.$ref),description:A(e.description),summary:A(e.summary)}),g.setMetaProperty("ref-origin",l.uri),W(O)&&(e.hasKey("description")&&"description"in O&&(g.remove("description"),g.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in O&&(g.remove("summary"),g.set("summary",e.get("summary")))),this.allowMetaPatches&&W(g)&&!g.hasKey("$$ref")){const S=R(h,p);g.set("$$ref",S)}return g};return u.includes(d)?(ee(r)?r.value=y(d):Array.isArray(r)&&(r[t]=y(d)),!1):y(d)}catch(u){var a,i,c;const f=_(u),l=we(f,{baseDoc:this.reference.uri,$ref:A(e.$ref),pointer:D(A(e.$ref)),fullPath:(a=this.basePath)!==null&&a!==void 0?a:[...$([...s,r,e]),"$ref"]});(i=this.options.dereference.dereferenceOpts)===null||i===void 0||(i=i.errors)===null||i===void 0||(c=i.push)===null||c===void 0||c.call(i,l);return}},async PathItemElement(e,t,r,n,s){try{var o;const[u,f]=this.toAncestorLineage([...s,r]);if(!We(e.$ref))return;if(u.includesCycle(e))return!1;if(!this.options.resolve.external&&Xt(e))return;const l=await this.toReference(A(e.$ref)),{uri:h}=l,p=R(h,A(e.$ref));this.indirections.push(e);const m=D(p);let d=H(m,l.value.result);if(qe(d)&&(d=me.refract(d)),this.indirections.includes(d))throw new Error("Recursive JSON Pointer detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new de(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(!this.useCircularStructures&&u.includes(d))return q(h)||he(h)?new me({$ref:p},E(e.meta),E(e.attributes)):!1;f.add(e);const v=re({reference:l,namespace:this.namespace,indirections:[...this.indirections],options:this.options,ancestors:u,allowMetaPatches:this.allowMetaPatches,useCircularStructures:this.useCircularStructures,basePath:(o=this.basePath)!==null&&o!==void 0?o:[...$([...s,r,e]),"$ref"]});d=await Pe(d,v,{keyMap:J,nodeTypeGetter:F}),f.delete(e),this.indirections.pop();const y=O=>{const g=new me([...O.content],E(O.meta),E(O.attributes));if(e.forEach((S,C,b)=>{g.remove(A(C)),g.content.push(b)}),g.remove("$ref"),g.setMetaProperty("ref-fields",{$ref:A(e.$ref)}),g.setMetaProperty("ref-origin",l.uri),this.allowMetaPatches&&typeof g.get("$$ref")>"u"){const S=R(h,p);g.set("$$ref",S)}return g};return u.includes(d)?(ee(r)?r.value=y(d):Array.isArray(r)&&(r[t]=y(d)),!1):y(d)}catch(u){var a,i,c;const f=_(u),l=we(f,{baseDoc:this.reference.uri,$ref:A(e.$ref),pointer:D(A(e.$ref)),fullPath:(a=this.basePath)!==null&&a!==void 0?a:[...$([...s,r,e]),"$ref"]});(i=this.options.dereference.dereferenceOpts)===null||i===void 0||(i=i.errors)===null||i===void 0||(c=i.push)===null||c===void 0||c.call(i,l);return}},async SchemaElement(e,t,r,n,s){try{var o;const[u,f]=this.toAncestorLineage([...s,r]);if(!We(e.$ref))return;if(u.includesCycle(e))return!1;let l=await this.toReference(X(this.reference.uri)),{uri:h}=l;const p=Zt(h,e),m=_t(p),d=er({uri:m}),v=!this.options.resolve.resolvers.some(b=>b.canRead(d)),y=!v,O=y&&h!==m;if(!this.options.resolve.external&&O)return;this.indirections.push(e);let g;try{if(v||y)g=tr(p,Z(l.value.result));else{l=await this.toReference(X(p)),h=l.uri;const b=D(p);g=Z(H(b,l.value.result))}}catch(b){if(y&&b instanceof rr)if(nr(Ke(p))){l=await this.toReference(X(p)),h=l.uri;const x=Ke(p);g=sr(x,Z(l.value.result))}else{l=await this.toReference(X(p)),h=l.uri;const x=D(p);g=Z(H(x,l.value.result))}else throw b}if(this.indirections.includes(g))throw new Error("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new de(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(!this.useCircularStructures&&u.some(x=>x.has(g))){if(q(h)||he(h)){const x=R(h,p);return new be({$ref:x},E(e.meta),E(e.attributes))}return!1}f.add(e);const S=re({reference:l,namespace:this.namespace,indirections:[...this.indirections],options:this.options,useCircularStructures:this.useCircularStructures,allowMetaPatches:this.allowMetaPatches,ancestors:u,basePath:(o=this.basePath)!==null&&o!==void 0?o:[...$([...s,r,e]),"$ref"]});if(g=await Pe(g,S,{keyMap:J,nodeTypeGetter:F}),f.delete(e),this.indirections.pop(),or(g)){const b=E(g);return b.setMetaProperty("ref-fields",{$ref:A(e.$ref)}),b.setMetaProperty("ref-origin",l.uri),b}const C=b=>{const x=new be([...b.content],E(b.meta),E(b.attributes));if(e.forEach((j,w,M)=>{x.remove(A(w)),x.content.push(M)}),x.remove("$ref"),x.setMetaProperty("ref-fields",{$ref:A(e.$ref)}),x.setMetaProperty("ref-origin",l.uri),this.allowMetaPatches&&typeof x.get("$$ref")>"u"){const j=R(h,p);x.set("$$ref",j)}return x};return u.includes(g)?(ee(r)?r.value=C(g):Array.isArray(r)&&(r[t]=C(g)),!1):C(g)}catch(u){var a,i,c;const f=_(u),l=new zn(`Could not resolve reference: ${f.message}`,{baseDoc:this.reference.uri,$ref:A(e.$ref),fullPath:(a=this.basePath)!==null&&a!==void 0?a:[...$([...s,r,e]),"$ref"]},f);(i=this.options.dereference.dereferenceOpts)===null||i===void 0||(i=i.errors)===null||i===void 0||(c=i.push)===null||c===void 0||c.call(i,l);return}},async LinkElement(){},async ExampleElement(e,t,r,n,s){try{return await He.compose.methods.ExampleElement.call(this,e,t,r,n,s)}catch(c){var o,a,i;const u=_(c),f=we(u,{baseDoc:this.reference.uri,externalValue:A(e.externalValue),fullPath:(o=this.basePath)!==null&&o!==void 0?o:[...$([...s,r,e]),"externalValue"]});(a=this.options.dereference.dereferenceOpts)===null||a===void 0||(a=a.errors)===null||a===void 0||(i=a.push)===null||i===void 0||i.call(a,f);return}}}}),Be=it.compose.bind(),Bn=Be({init(e){let{parameterMacro:t,options:r}=e;this.parameterMacro=t,this.options=r},props:{parameterMacro:null,options:null,macroOperation:null,OperationElement:{enter(e){this.macroOperation=e},leave(){this.macroOperation=null}},ParameterElement:{leave(e,t,r,n,s){const o=this.macroOperation===null?null:A(this.macroOperation),a=A(e);try{const u=this.parameterMacro(o,a);e.set("default",u)}catch(u){var i,c;const f=new Error(u,{cause:u});f.fullPath=$([...s,r]),(i=this.options.dereference.dereferenceOpts)===null||i===void 0||(i=i.errors)===null||i===void 0||(c=i.push)===null||c===void 0||c.call(i,f)}}}}}),Ln=Be({init(e){let{modelPropertyMacro:t,options:r}=e;this.modelPropertyMacro=t,this.options=r},props:{modelPropertyMacro:null,options:null,SchemaElement:{leave(e,t,r,n,s){typeof e.properties>"u"||W(e.properties)&&e.properties.forEach(o=>{if(W(o))try{const c=this.modelPropertyMacro(A(o));o.set("default",c)}catch(c){var a,i;const u=new Error(c,{cause:c});u.fullPath=[...$([...s,r,e]),"properties"],(a=this.options.dereference.dereferenceOpts)===null||a===void 0||(a=a.errors)===null||a===void 0||(i=a.push)===null||i===void 0||i.call(a,u)}})}}}}),Hn=Be({init(e){let{options:t}=e;this.options=t},props:{options:null,SchemaElement:{leave(e,t,r,n,s){if(typeof e.allOf>"u")return;if(!st(e.allOf)){var o,a;const l=new TypeError("allOf must be an array");l.fullPath=[...$([...s,r,e]),"allOf"],(o=this.options.dereference.dereferenceOpts)===null||o===void 0||(o=o.errors)===null||o===void 0||(a=o.push)===null||a===void 0||a.call(o,l);return}if(e.allOf.isEmpty)return new be(e.content.filter(l=>A(l.key)!=="allOf"),E(e.meta),E(e.attributes));if(!e.allOf.content.every(ir)){var c,u;const l=new TypeError("Elements in allOf must be objects");l.fullPath=[...$([...s,r,e]),"allOf"],(c=this.options.dereference.dereferenceOpts)===null||c===void 0||(c=c.errors)===null||c===void 0||(u=c.push)===null||u===void 0||u.call(c,l);return}const f=ar.all([...e.allOf.content,e]);if(e.hasKey("$$ref")||f.remove("$$ref"),e.hasKey("example")){const l=f.getMember("example");l.value=e.get("example")}if(e.hasKey("examples")){const l=f.getMember("examples");l.value=e.get("examples")}return f.remove("allOf"),f}}}}),qn=ot[Symbol.for("nodejs.util.promisify.custom")],Jn=it.compose({props:{useCircularStructures:!0,allowMetaPatches:!1,parameterMacro:null,modelPropertyMacro:null,mode:"non-strict",ancestors:null},init(){let{useCircularStructures:e=this.useCircularStructures,allowMetaPatches:t=this.allowMetaPatches,parameterMacro:r=this.parameterMacro,modelPropertyMacro:n=this.modelPropertyMacro,mode:s=this.mode,ancestors:o=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.name="openapi-3-1-swagger-client",this.useCircularStructures=e,this.allowMetaPatches=t,this.parameterMacro=r,this.modelPropertyMacro=n,this.mode=s,this.ancestors=[...o]},methods:{async dereference(e,t){var r;const n=[],s=cr(lr),o=(r=t.dereference.refSet)!==null&&r!==void 0?r:at();let a;o.has(e.uri)?a=o.find(f=>f.uri===e.uri):(a=ct({uri:e.uri,value:e.parseResult}),o.add(a));const i=re({reference:a,namespace:s,options:t,useCircularStructures:this.useCircularStructures,allowMetaPatches:this.allowMetaPatches,ancestors:this.ancestors});if(n.push(i),typeof this.parameterMacro=="function"){const f=Bn({parameterMacro:this.parameterMacro,options:t});n.push(f)}if(typeof this.modelPropertyMacro=="function"){const f=Ln({modelPropertyMacro:this.modelPropertyMacro,options:t});n.push(f)}if(this.mode!=="strict"){const f=Hn({options:t});n.push(f)}const c=ur(n,{nodeTypeGetter:F}),u=await qn(o.rootRef.value,c,{keyMap:J,nodeTypeGetter:F});return t.dereference.refSet===null&&o.clean(),u}}}),Le=async e=>{const{spec:t,timeout:r,redirects:n,requestInterceptor:s,responseInterceptor:o,pathDiscriminator:a=[],allowMetaPatches:i=!1,useCircularStructures:c=!1,skipNormalization:u=!1,parameterMacro:f=null,modelPropertyMacro:l=null,mode:h="non-strict"}=e;try{const{cache:p}=Le,m=q(Ge())?Ge():oe,d=Ve(e),v=R(m,d);let y;p.has(t)?y=p.get(t):(y=ce.refract(t),y.classes.push("result"),p.set(t,y));const O=new G([y]),g=fr(a),S=g===""?"":`#${g}`,C=H(g,y),b=ct({uri:v,value:O}),x=at({refs:[b]});g!==""&&(x.rootRef=null);const j=[new WeakSet([C])],w=[],M=await pr(C,{resolve:{baseURI:`${v}${S}`,resolvers:[In({timeout:r||1e4,redirects:n||10})],resolverOpts:{swaggerHTTPClientConfig:{requestInterceptor:s,responseInterceptor:o}},strategies:[dr()]},parse:{mediaType:K.latest(),parsers:[Un({allowEmpty:!1,sourceMap:!1}),Fn({allowEmpty:!1,sourceMap:!1}),Nn({allowEmpty:!1,sourceMap:!1}),Dn({allowEmpty:!1,sourceMap:!1}),hr({allowEmpty:!1,sourceMap:!1})]},dereference:{maxDepth:100,strategies:[Jn({allowMetaPatches:i,useCircularStructures:c,parameterMacro:f,modelPropertyMacro:l,mode:h,ancestors:j})],refSet:x,dereferenceOpts:{errors:w}}}),T=mr(C,M,y),Y=u?T:kt(T);return{spec:A(Y),errors:w}}catch(p){if(p instanceof yr||p instanceof gr)return{spec:null,errors:[]};throw p}};Le.cache=new WeakMap;const Ns={name:"openapi-3-1-apidom",match(e){let{spec:t}=e;return $t(t)},normalize(e){let{spec:t}=e;return ae(kt)(t)},async resolve(e){return Le(e)}},Wn=async e=>{const{spec:t,requestInterceptor:r,responseInterceptor:n}=e,s=Ve(e),o=Mt(e),a=t||await St(o,{requestInterceptor:r,responseInterceptor:n})(s),i={...e,spec:a};return e.strategies.find(u=>u.match(i)).resolve(i)},Kn=e=>async t=>{const r={...e,...t};return Wn(r)},Gn=Kn({strategies:[$n,Mn,Cn]}),Qn={body:Yn,header:Zn,query:es,path:_n,formData:Xn};function Yn(e){let{req:t,value:r}=e;t.body=r}function Xn(e){let{req:t,value:r,parameter:n}=e;(r||n.allowEmptyValue)&&(t.form=t.form||{},t.form[n.name]={value:r,allowEmptyValue:n.allowEmptyValue,collectionFormat:n.collectionFormat})}function Zn(e){let{req:t,parameter:r,value:n}=e;t.headers=t.headers||{},typeof n<"u"&&(t.headers[r.name]=n)}function _n(e){let{req:t,value:r,parameter:n}=e;t.url=t.url.split(`{${n.name}}`).join(encodeURIComponent(r))}function es(e){let{req:t,value:r,parameter:n}=e;if(t.query=t.query||{},r===!1&&n.type==="boolean"&&(r="false"),r===0&&["number","integer"].indexOf(n.type)>-1&&(r="0"),r)t.query[n.name]={collectionFormat:n.collectionFormat,value:r};else if(n.allowEmptyValue&&r!==void 0){const s=n.name;t.query[s]=t.query[s]||{},t.query[s].allowEmptyValue=!0}}function pe(e,t){return t.includes("application/json")?typeof e=="string"?e:JSON.stringify(e):e.toString()}function ts(e){let{req:t,value:r,parameter:n}=e;const{name:s,style:o,explode:a,content:i}=n;if(i){const u=Object.keys(i)[0];t.url=t.url.split(`{${s}}`).join(B(pe(r,u),{escape:!0}));return}const c=De({key:n.name,value:r,style:o||"simple",explode:a||!1,escape:!0});t.url=t.url.split(`{${s}}`).join(c)}function rs(e){let{req:t,value:r,parameter:n}=e;if(t.query=t.query||{},n.content){const s=Object.keys(n.content)[0],o=pe(r,s);if(o)t.query[n.name]=o;else if(n.allowEmptyValue&&r!==void 0){const a=n.name;t.query[a]=t.query[a]||{},t.query[a].allowEmptyValue=!0}return}if(r===!1&&(r="false"),r===0&&(r="0"),r){const{style:s,explode:o,allowReserved:a}=n;t.query[n.name]={value:r,serializationOption:{style:s,explode:o,allowReserved:a}}}else if(n.allowEmptyValue&&r!==void 0){const s=n.name;t.query[s]=t.query[s]||{},t.query[s].allowEmptyValue=!0}}const ns=["accept","authorization","content-type"];function ss(e){let{req:t,parameter:r,value:n}=e;if(t.headers=t.headers||{},!(ns.indexOf(r.name.toLowerCase())>-1)){if(r.content){const s=Object.keys(r.content)[0];t.headers[r.name]=pe(n,s);return}typeof n<"u"&&(t.headers[r.name]=De({key:r.name,value:n,style:r.style||"simple",explode:typeof r.explode>"u"?!1:r.explode,escape:!1}))}}function os(e){let{req:t,parameter:r,value:n}=e;t.headers=t.headers||{};const s=typeof n;if(r.content){const o=Object.keys(r.content)[0];t.headers.Cookie=`${r.name}=${pe(n,o)}`;return}if(s!=="undefined"){const o=s==="object"&&!Array.isArray(n)&&r.explode?"":`${r.name}=`;t.headers.Cookie=o+De({key:r.name,value:n,escape:!1,style:r.style||"form",explode:typeof r.explode>"u"?!1:r.explode})}}const is=Object.freeze(Object.defineProperty({__proto__:null,cookie:os,header:ss,path:ts,query:rs},Symbol.toStringTag,{value:"Module"})),as=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:window)(),{btoa:It}=as;function cs(e,t){const{operation:r,requestBody:n,securities:s,spec:o,attachContentTypeForEmptyPayload:a}=e;let{requestContentType:i}=e;t=us({request:t,securities:s,operation:r,spec:o});const c=r.requestBody||{},u=Object.keys(c.content||{}),f=i&&u.indexOf(i)>-1;if(n||a){if(i&&f)t.headers["Content-Type"]=i;else if(!i){const p=u[0];p&&(t.headers["Content-Type"]=p,i=p)}}else i&&f&&(t.headers["Content-Type"]=i);if(!e.responseContentType&&r.responses){const p=Object.entries(r.responses).filter(m=>{let[d,v]=m;const y=parseInt(d,10);return y>=200&&y<300&&ut(v.content)}).reduce((m,d)=>{let[,v]=d;return m.concat(Object.keys(v.content))},[]);p.length>0&&(t.headers.accept=p.join(", "))}if(n)if(i){if(u.indexOf(i)>-1)if(i==="application/x-www-form-urlencoded"||i==="multipart/form-data")if(typeof n=="object"){var l,h;const p=(l=(h=c.content[i])===null||h===void 0?void 0:h.encoding)!==null&&l!==void 0?l:{};t.form={},Object.keys(n).forEach(m=>{t.form[m]={value:n[m],encoding:p[m]||{}}})}else t.form=n;else t.body=n}else t.body=n;return t}function us(e){var t;let{request:r,securities:n={},operation:s={},spec:o}=e;const a={...r},{authorized:i={}}=n,c=s.security||o.security||[],u=i&&!!Object.keys(i).length,f=(o==null||(t=o.components)===null||t===void 0?void 0:t.securitySchemes)||{};return a.headers=a.headers||{},a.query=a.query||{},!Object.keys(n).length||!u||!c||Array.isArray(s.security)&&!s.security.length?r:(c.forEach(l=>{Object.keys(l).forEach(h=>{const p=i[h],m=f[h];if(!p)return;const d=p.value||p,{type:v}=m;if(p){if(v==="apiKey")m.in==="query"&&(a.query[m.name]=d),m.in==="header"&&(a.headers[m.name]=d),m.in==="cookie"&&(a.cookies[m.name]=d);else if(v==="http"){if(/^basic$/i.test(m.scheme)){const y=d.username||"",O=d.password||"",g=It(`${y}:${O}`);a.headers.Authorization=`Basic ${g}`}/^bearer$/i.test(m.scheme)&&(a.headers.Authorization=`Bearer ${d}`)}else if(v==="oauth2"||v==="openIdConnect"){const y=p.token||{},O=m["x-tokenName"]||"access_token",g=y[O];let S=y.token_type;(!S||S.toLowerCase()==="bearer")&&(S="Bearer"),a.headers.Authorization=`${S} ${g}`}}})}),a)}function ls(e,t){const{spec:r,operation:n,securities:s,requestContentType:o,responseContentType:a,attachContentTypeForEmptyPayload:i}=e;if(t=fs({request:t,securities:s,operation:n,spec:r}),t.body||t.form||i)o?t.headers["Content-Type"]=o:Array.isArray(n.consumes)?[t.headers["Content-Type"]]=n.consumes:Array.isArray(r.consumes)?[t.headers["Content-Type"]]=r.consumes:n.parameters&&n.parameters.filter(c=>c.type==="file").length?t.headers["Content-Type"]="multipart/form-data":n.parameters&&n.parameters.filter(c=>c.in==="formData").length&&(t.headers["Content-Type"]="application/x-www-form-urlencoded");else if(o){const c=n.parameters&&n.parameters.filter(f=>f.in==="body").length>0,u=n.parameters&&n.parameters.filter(f=>f.in==="formData").length>0;(c||u)&&(t.headers["Content-Type"]=o)}return!a&&Array.isArray(n.produces)&&n.produces.length>0&&(t.headers.accept=n.produces.join(", ")),t}function fs(e){let{request:t,securities:r={},operation:n={},spec:s}=e;const o={...t},{authorized:a={},specSecurity:i=[]}=r,c=n.security||i,u=a&&!!Object.keys(a).length,f=s.securityDefinitions;return o.headers=o.headers||{},o.query=o.query||{},!Object.keys(r).length||!u||!c||Array.isArray(n.security)&&!n.security.length?t:(c.forEach(l=>{Object.keys(l).forEach(h=>{const p=a[h];if(!p)return;const{token:m}=p,d=p.value||p,v=f[h],{type:y}=v,O=v["x-tokenName"]||"access_token",g=m&&m[O];let S=m&&m.token_type;if(p)if(y==="apiKey"){const C=v.in==="query"?"query":"headers";o[C]=o[C]||{},o[C][v.name]=d}else if(y==="basic")if(d.header)o.headers.authorization=d.header;else{const C=d.username||"",b=d.password||"";d.base64=It(`${C}:${b}`),o.headers.authorization=`Basic ${d.base64}`}else y==="oauth2"&&g&&(S=!S||S.toLowerCase()==="bearer"?"Bearer":S,o.headers.authorization=`${S} ${g}`)})}),o)}function ps(e,t,r){if(!e||typeof e!="object"||!e.paths||typeof e.paths!="object")return null;const{paths:n}=e;for(const s in n)for(const o in n[s]){if(o.toUpperCase()==="PARAMETERS")continue;const a=n[s][o];if(!a||typeof a!="object")continue;const i={spec:e,pathName:s,method:o.toUpperCase(),operation:a},c=t(i);if(r&&c)return i}}function ds(e,t){return ps(e,t,!0)||null}function Nt(e,t){return`${t.toLowerCase()}-${e}`}function hs(e,t){return!e||!e.paths?null:ds(e,r=>{let{pathName:n,method:s,operation:o}=r;if(!o||typeof o!="object")return!1;const a=o.operationId,i=Ne(o,n,s),c=Nt(n,s);return[i,c,a].some(u=>u&&u===t)})}const tt=e=>Array.isArray(e)?e:[],ne=e=>{try{return new URL(e)}catch{const t=new URL(e,oe),r=String(e).startsWith("/")?t.pathname:t.pathname.substring(1);return{hash:t.hash,host:"",hostname:"",href:"",origin:"",password:"",pathname:r,port:"",protocol:"",search:t.search,searchParams:t.searchParams}}},ms=je("OperationNotFoundError",function(t,r,n){this.originalError=n,Object.assign(this,r||{})}),ys=(e,t)=>t.filter(r=>r.name===e),gs=e=>{const t={};e.forEach(n=>{t[n.in]||(t[n.in]={}),t[n.in][n.name]=n});const r=[];return Object.keys(t).forEach(n=>{Object.keys(t[n]).forEach(s=>{r.push(t[n][s])})}),r},vs={buildRequest:ws};function Ds(e){let{http:t,fetch:r,spec:n,operationId:s,pathName:o,method:a,parameters:i,securities:c,...u}=e;const f=t||r||Ue;o&&a&&!s&&(s=Nt(o,a));const l=vs.buildRequest({spec:n,operationId:s,parameters:i,securities:c,http:f,...u});return l.body&&(ut(l.body)||Array.isArray(l.body))&&(l.body=JSON.stringify(l.body)),f(l)}function ws(e){const{spec:t,operationId:r,responseContentType:n,scheme:s,requestInterceptor:o,responseInterceptor:a,contextUrl:i,userFetch:c,server:u,serverVariables:f,http:l,signal:h}=e;let{parameters:p,parameterBuilders:m}=e;const d=jt(t);m||(d?m=is:m=Qn);let y={url:"",credentials:l&&l.withCredentials?"include":"same-origin",headers:{},cookies:{}};h&&(y.signal=h),o&&(y.requestInterceptor=o),a&&(y.responseInterceptor=a),c&&(y.userFetch=c);const O=hs(t,r);if(!O)throw new ms(`Operation ${r} not found`);const{operation:g={},method:S,pathName:C}=O;if(y.url+=Ps({spec:t,scheme:s,contextUrl:i,server:u,serverVariables:f,pathName:C,method:S}),!r)return delete y.cookies,y;y.url+=C,y.method=`${S}`.toUpperCase(),p=p||{};const b=t.paths[C]||{};n&&(y.headers.accept=n);const x=gs([].concat(tt(g.parameters)).concat(tt(b.parameters)));x.forEach(w=>{const M=m[w.in];let T;if(w.in==="body"&&w.schema&&w.schema.properties&&(T=p),T=w&&w.name&&p[w.name],typeof T>"u"?T=w&&w.name&&p[`${w.in}.${w.name}`]:ys(w.name,x).length>1&&console.warn(`Parameter '${w.name}' is ambiguous because the defined spec has more than one parameter with the name: '${w.name}' and the passed-in parameter values did not define an 'in' value.`),T!==null){if(typeof w.default<"u"&&typeof T>"u"&&(T=w.default),typeof T>"u"&&w.required&&!w.allowEmptyValue)throw new Error(`Required parameter ${w.name} is not provided`);if(d&&w.schema&&w.schema.type==="object"&&typeof T=="string")try{T=JSON.parse(T)}catch{throw new Error("Could not parse object parameter value string as JSON")}M&&M({req:y,parameter:w,value:T,operation:g,spec:t})}});const j={...e,operation:g};if(d?y=cs(j,y):y=ls(j,y),y.cookies&&Object.keys(y.cookies).length){const w=Object.keys(y.cookies).reduce((M,T)=>{const Y=y.cookies[T],Dt=M?"&":"",Ut=vr.serialize(T,Y);return M+Dt+Ut},"");y.headers.Cookie=w}return y.cookies&&delete y.cookies,Et(y),y}const $e=e=>e?e.replace(/\W/g,""):null;function Ps(e){return jt(e.spec)?bs(e):As(e)}function bs(e){var t,r;let{spec:n,pathName:s,method:o,server:a,contextUrl:i,serverVariables:c={}}=e;const u=(n==null||(t=n.paths)===null||t===void 0||(t=t[s])===null||t===void 0||(t=t[(o||"").toLowerCase()])===null||t===void 0?void 0:t.servers)||(n==null||(r=n.paths)===null||r===void 0||(r=r[s])===null||r===void 0?void 0:r.servers)||(n==null?void 0:n.servers);let f="",l=null;if(a&&u&&u.length){const h=u.map(p=>p.url);h.indexOf(a)>-1&&(f=a,l=u[h.indexOf(a)])}return!f&&u&&u.length&&(f=u[0].url,[l]=u),f.includes("{")&&xs(f).forEach(p=>{if(l.variables&&l.variables[p]){const m=l.variables[p],d=c[p]||m.default,v=new RegExp(`{${p}}`,"g");f=f.replace(v,d)}}),Os(f,i)}function Os(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=ne(e&&t?R(t,e):e),n=ne(t),s=$e(r.protocol)||$e(n.protocol),o=r.host||n.host,a=r.pathname;let i;return s&&o?i=`${s}://${o+a}`:i=a,i[i.length-1]==="/"?i.slice(0,-1):i}function xs(e){const t=[],r=/{([^}]+)}/g;let n;for(;n=r.exec(e);)t.push(n[1]);return t}function As(e){let{spec:t,scheme:r,contextUrl:n=""}=e;const s=ne(n),o=Array.isArray(t.schemes)?t.schemes[0]:null,a=r||o||$e(s.protocol)||"http",i=t.host||s.host||"",c=t.basePath||"";let u;return a&&i?u=`${a}://${i+c}`:u=c,u[u.length-1]==="/"?u.slice(0,-1):u}const Ss=async function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{returnEntireTree:n,baseDoc:s,requestInterceptor:o,responseInterceptor:a,parameterMacro:i,modelPropertyMacro:c,useCircularStructures:u,strategies:f}=r,l={spec:e,pathDiscriminator:t,baseDoc:s,requestInterceptor:o,responseInterceptor:a,parameterMacro:i,modelPropertyMacro:c,useCircularStructures:u,strategies:f},p=f.find(d=>d.match(l)).normalize(l),m=await Gn({...l,spec:p,allowMetaPatches:!0,skipNormalization:!0});return!n&&Array.isArray(t)&&t.length&&(m.spec=t.reduce((d,v)=>d==null?void 0:d[v],m.spec)||null),m},Us=e=>async function(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s={...e,...n};return Ss(t,r,s)};export{$n as a,Ns as b,ws as c,Is as d,Ds as e,Us as f,Cn as g,Ue as h,Ne as i,Kn as m,Mn as o,Pn as s};
