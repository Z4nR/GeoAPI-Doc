import{i as q,r as R,O as ce,t as A,a as W,b as Vt,c as zt,d as Bt,e as Lt,f as Ht,g as qt,h as Jt,j as Wt,k as J,l as F,H as Kt,R as Gt,P as ue,m as I,n as G,o as nt,p as st,q as K,s as ee,u as ot,v as qe,w as Qt,x as D,y as H,z as Je,A as Yt,B as We,M as de,C as he,D as E,E as Xt,F as Ke,G as Zt,I as me,J as X,K as _t,L as er,N as tr,Q as rr,S as Z,T as nr,U as sr,V as Ge,W as or,X as Oe,Y as ir,Z as it,_ as at,$ as ar,a0 as cr,a1 as ur,a2 as ct,a3 as ut,a4 as lr,a5 as fr,a6 as Qe,a7 as pr,a8 as dr,a9 as hr,aa as mr,ab as yr,ac as gr,ad as vr}from"./@swagger-api-3eb73fb9.js";import{j as V,J as xe}from"./js-yaml-80719af7.js";import{c as wr}from"./cookie-910bb9f2.js";import{i as lt}from"./is-plain-object-24dec1b5.js";import{q as Ae}from"./qs-83e20221.js";import{a as L,g as Pr}from"./fast-json-patch-6f36fdbd.js";import{d as br}from"./deepmerge-879efe2f.js";import{t as Or}from"./traverse-a071f747.js";const b={add:Ar,replace:te,remove:Sr,merge:Cr,mergeDeep:Tr,context:Er,getIn:jr,applyPatch:xr,parentPathMatch:$r,flatten:Q,fullyNormalizeArray:kr,normalizeArray:pt,isPromise:Ir,forEachNew:Mr,forEachNewPrimitive:Rr,isJsonPatch:mt,isContextPatch:Ur,isPatch:le,isMutation:yt,isAdditiveMutation:se,isGenerator:Dr,isFunction:ht,isObject:N,isError:Nr};function xr(e,t,r){if(r=r||{},t={...t,path:t.path&&Ye(t.path)},t.op==="merge"){const n=ye(e,t.path);Object.assign(n,t.value),L(e,[te(t.path,n)])}else if(t.op==="mergeDeep"){const n=ye(e,t.path),s=br(n,t.value);e=L(e,[te(t.path,s)]).newDocument}else if(t.op==="add"&&t.path===""&&N(t.value)){const n=Object.keys(t.value).reduce((s,o)=>(s.push({op:"add",path:`/${Ye(o)}`,value:t.value[o]}),s),[]);L(e,n)}else if(t.op==="replace"&&t.path===""){let{value:n}=t;r.allowMetaPatches&&t.meta&&se(t)&&(Array.isArray(t.value)||N(t.value))&&(n={...n,...t.meta}),e=n}else if(L(e,[t]),r.allowMetaPatches&&t.meta&&se(t)&&(Array.isArray(t.value)||N(t.value))){const s={...ye(e,t.path),...t.meta};L(e,[te(t.path,s)])}return e}function Ye(e){return Array.isArray(e)?e.length<1?"":`/${e.map(t=>(t+"").replace(/~/g,"~0").replace(/\//g,"~1")).join("/")}`:e}function Ar(e,t){return{op:"add",path:e,value:t}}function te(e,t,r){return{op:"replace",path:e,value:t,meta:r}}function Sr(e){return{op:"remove",path:e}}function Cr(e,t){return{type:"mutation",op:"merge",path:e,value:t}}function Tr(e,t){return{type:"mutation",op:"mergeDeep",path:e,value:t}}function Er(e,t){return{type:"context",path:e,value:t}}function Mr(e,t){try{return ft(e,Ce,t)}catch(r){return r}}function Rr(e,t){try{return ft(e,Se,t)}catch(r){return r}}function ft(e,t,r){const n=e.filter(se).map(a=>t(a.value,r,a.path))||[],s=Q(n);return dt(s)}function Se(e,t,r){return r=r||[],Array.isArray(e)?e.map((n,s)=>Se(n,t,r.concat(s))):N(e)?Object.keys(e).map(n=>Se(e[n],t,r.concat(n))):t(e,r[r.length-1],r)}function Ce(e,t,r){r=r||[];let n=[];if(r.length>0){const s=t(e,r[r.length-1],r);s&&(n=n.concat(s))}if(Array.isArray(e)){const s=e.map((o,a)=>Ce(o,t,r.concat(a)));s&&(n=n.concat(s))}else if(N(e)){const s=Object.keys(e).map(o=>Ce(e[o],t,r.concat(o)));s&&(n=n.concat(s))}return n=Q(n),n}function $r(e,t){if(!Array.isArray(t))return!1;for(let r=0,n=t.length;r<n;r+=1)if(t[r]!==e[r])return!1;return!0}function jr(e,t){return t.reduce((r,n)=>typeof n<"u"&&r?r[n]:r,e)}function kr(e){return dt(Q(pt(e)))}function pt(e){return Array.isArray(e)?e:[e]}function Q(e){return[].concat(...e.map(t=>Array.isArray(t)?Q(t):t))}function dt(e){return e.filter(t=>typeof t<"u")}function N(e){return e&&typeof e=="object"}function Ir(e){return N(e)&&ht(e.then)}function ht(e){return e&&typeof e=="function"}function Nr(e){return e instanceof Error}function mt(e){if(le(e)){const{op:t}=e;return t==="add"||t==="remove"||t==="replace"}return!1}function Dr(e){return Object.prototype.toString.call(e)==="[object GeneratorFunction]"}function yt(e){return mt(e)||le(e)&&e.type==="mutation"}function se(e){return yt(e)&&(e.op==="add"||e.op==="replace"||e.op==="merge"||e.op==="mergeDeep")}function Ur(e){return le(e)&&e.type==="context"}function le(e){return e&&typeof e=="object"}function ye(e,t){try{return Pr(e,t)}catch(r){return console.error(r),{}}}const{fetch:Fr,Response:Vr,Headers:zr,Request:Br,FormData:Lr,File:Hr,Blob:qr}=globalThis;typeof globalThis.fetch>"u"&&(globalThis.fetch=Fr);typeof globalThis.Headers>"u"&&(globalThis.Headers=zr);typeof globalThis.Request>"u"&&(globalThis.Request=Br);typeof globalThis.Response>"u"&&(globalThis.Response=Vr);typeof globalThis.FormData>"u"&&(globalThis.FormData=Lr);typeof globalThis.File>"u"&&(globalThis.File=Hr);typeof globalThis.Blob>"u"&&(globalThis.Blob=qr);function ke(e,t){function r(){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];[this.message]=s,t&&t.apply(this,s)}return r.prototype=new Error,r.prototype.name=e,r.prototype.constructor=r,r}const gt="application/json, application/yaml",oe="https://swagger.io",Jr=Object.freeze({url:"/"}),Wr=["properties"],Kr=["properties"],Gr=["definitions","parameters","responses","securityDefinitions","components/schemas","components/responses","components/parameters","components/securitySchemes"],Qr=["schema/example","items/example"];function vt(e){const t=e[e.length-1],r=e[e.length-2],n=e.join("/");return Wr.indexOf(t)>-1&&Kr.indexOf(r)===-1||Gr.indexOf(n)>-1||Qr.some(s=>n.indexOf(s)>-1)}function Yr(e,t){let{specmap:r,getBaseUrlForNodePath:n=a=>r.getContext([...t,...a]).baseDoc,targetKeys:s=["$ref","$$ref"]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=[];return Or(e).forEach(function(){if(s.includes(this.key)&&typeof this.node=="string"){const i=this.path,c=t.concat(this.path),u=Te(this.node,n(i));o.push(r.replace(c,u))}}),o}function Te(e,t){const[r,n]=e.split("#"),s=t??"",o=r??"";let a;if(q(s))a=R(s,o);else{const i=R(oe,s),u=R(i,o).replace(oe,"");a=o.startsWith("/")?u:u.substring(1)}return n?`${a}#${n}`:a}const Xr=/^([a-z]+:\/\/|\/\/)/i,z=ke("JSONRefError",function(t,r,n){this.originalError=n,Object.assign(this,r||{})}),k={},Xe=new WeakMap,Zr=[e=>e[0]==="paths"&&e[3]==="responses"&&e[5]==="examples",e=>e[0]==="paths"&&e[3]==="responses"&&e[5]==="content"&&e[7]==="example",e=>e[0]==="paths"&&e[3]==="responses"&&e[5]==="content"&&e[7]==="examples"&&e[9]==="value",e=>e[0]==="paths"&&e[3]==="requestBody"&&e[4]==="content"&&e[6]==="example",e=>e[0]==="paths"&&e[3]==="requestBody"&&e[4]==="content"&&e[6]==="examples"&&e[8]==="value",e=>e[0]==="paths"&&e[2]==="parameters"&&e[4]==="example",e=>e[0]==="paths"&&e[3]==="parameters"&&e[5]==="example",e=>e[0]==="paths"&&e[2]==="parameters"&&e[4]==="examples"&&e[6]==="value",e=>e[0]==="paths"&&e[3]==="parameters"&&e[5]==="examples"&&e[7]==="value",e=>e[0]==="paths"&&e[2]==="parameters"&&e[4]==="content"&&e[6]==="example",e=>e[0]==="paths"&&e[2]==="parameters"&&e[4]==="content"&&e[6]==="examples"&&e[8]==="value",e=>e[0]==="paths"&&e[3]==="parameters"&&e[4]==="content"&&e[7]==="example",e=>e[0]==="paths"&&e[3]==="parameters"&&e[5]==="content"&&e[7]==="examples"&&e[9]==="value"],_r=e=>Zr.some(t=>t(e)),en={key:"$ref",plugin:(e,t,r,n)=>{const s=n.getInstance(),o=r.slice(0,-1);if(vt(o)||_r(o))return;const{baseDoc:a}=n.getContext(r);if(typeof e!="string")return new z("$ref: must be a string (JSON-Ref)",{$ref:e,baseDoc:a,fullPath:r});const i=Pt(e),c=i[0],u=i[1]||"";let f;try{f=a||c?wt(c,a):null}catch(p){return Ee(p,{pointer:u,$ref:e,basePath:f,fullPath:r})}let l,h;if(on(u,f,o,n)&&!s.useCircularStructures){const p=Te(e,f);return e===p?null:b.replace(r,p)}if(f==null?(h=Ne(u),l=n.get(h),typeof l>"u"&&(l=new z(`Could not resolve reference: ${e}`,{pointer:u,$ref:e,baseDoc:a,fullPath:r}))):(l=bt(f,u),l.__value!=null?l=l.__value:l=l.catch(p=>{throw Ee(p,{pointer:u,$ref:e,baseDoc:a,fullPath:r})})),l instanceof Error)return[b.remove(r),l];const d=Te(e,f),m=b.replace(o,l,{$$ref:d});if(f&&f!==a)return[m,b.context(o,{baseDoc:f})];try{if(!an(n.state,m)||s.useCircularStructures)return m}catch{return null}}},Ie=Object.assign(en,{docCache:k,absoluteify:wt,clearCache:tn,JSONRefError:z,wrapError:Ee,getDoc:Ot,split:Pt,extractFromDoc:bt,fetchJSON:rn,extract:Me,jsonPointerToArray:Ne,unescapeJsonPointerToken:xt});function wt(e,t){if(!Xr.test(e)){if(!t)throw new z(`Tried to resolve a relative URL, without having a basePath. path: '${e}' basePath: '${t}'`);return R(t,e)}return e}function Ee(e,t){let r;return e&&e.response&&e.response.body?r=`${e.response.body.code} ${e.response.body.message}`:r=e.message,new z(`Could not resolve reference: ${r}`,t,e)}function Pt(e){return(e+"").split("#")}function bt(e,t){const r=k[e];if(r&&!b.isPromise(r))try{const n=Me(t,r);return Object.assign(Promise.resolve(n),{__value:n})}catch(n){return Promise.reject(n)}return Ot(e).then(n=>Me(t,n))}function tn(e){typeof e<"u"?delete k[e]:Object.keys(k).forEach(t=>{delete k[t]})}function Ot(e){const t=k[e];return t?b.isPromise(t)?t:Promise.resolve(t):(k[e]=Ie.fetchJSON(e).then(r=>(k[e]=r,r)),k[e])}function rn(e){return fetch(e,{headers:{Accept:gt},loadSpec:!0}).then(t=>t.text()).then(t=>V.load(t))}function Me(e,t){const r=Ne(e);if(r.length<1)return t;const n=b.getIn(t,r);if(typeof n>"u")throw new z(`Could not resolve pointer: ${e} does not exist in document`,{pointer:e});return n}function Ne(e){if(typeof e!="string")throw new TypeError(`Expected a string, got a ${typeof e}`);return e[0]==="/"&&(e=e.substr(1)),e===""?[]:e.split("/").map(xt)}function xt(e){return typeof e!="string"?e:new URLSearchParams(`=${e.replace(/~1/g,"/").replace(/~0/g,"~")}`).get("")}function At(e){return new URLSearchParams([["",e.replace(/~/g,"~0").replace(/\//g,"~1")]]).toString().slice(1)}function nn(e){return e.length===0?"":`/${e.map(At).join("/")}`}const sn=e=>!e||e==="/"||e==="#";function ge(e,t){if(sn(t))return!0;const r=e.charAt(t.length),n=t.slice(-1);return e.indexOf(t)===0&&(!r||r==="/"||r==="#")&&n!=="#"}function on(e,t,r,n){let s=Xe.get(n);s||(s={},Xe.set(n,s));const o=nn(r),a=`${t||"<specmap-base>"}#${e}`,i=o.replace(/allOf\/\d+\/?/g,""),c=n.contextTree.get([]).baseDoc;if(t===c&&ge(i,e))return!0;let u="";if(r.some(l=>(u=`${u}/${At(l)}`,s[u]&&s[u].some(h=>ge(h,a)||ge(a,h)))))return!0;s[i]=(s[i]||[]).concat(a)}function an(e,t){const r=[e];return t.path.reduce((s,o)=>(r.push(s[o]),s[o]),e),n(t.value);function n(s){return b.isObject(s)&&(r.indexOf(s)>=0||Object.keys(s).some(o=>n(s[o])))}}const cn={key:"allOf",plugin:(e,t,r,n,s)=>{if(s.meta&&s.meta.$$ref)return;const o=r.slice(0,-1);if(vt(o))return;if(!Array.isArray(e)){const u=new TypeError("allOf must be an array");return u.fullPath=r,u}let a=!1,i=s.value;if(o.forEach(u=>{i&&(i=i[u])}),i={...i},Object.keys(i).length===0)return;delete i.allOf;const c=[];return c.push(n.replace(o,{})),e.forEach((u,f)=>{if(!n.isObject(u)){if(a)return null;a=!0;const d=new TypeError("Elements in allOf must be objects");return d.fullPath=r,c.push(d)}c.push(n.mergeDeep(o,u));const l=r.slice(0,-1),h=Yr(u,l,{getBaseUrlForNodePath:d=>n.getContext([...r,f,...d]).baseDoc,specmap:n});c.push(...h)}),i.example&&c.push(n.remove([].concat(o,"example"))),c.push(n.mergeDeep(o,i)),i.$$ref||c.push(n.remove([].concat(o,"$$ref"))),c}},un={key:"parameters",plugin:(e,t,r,n)=>{if(Array.isArray(e)&&e.length){const s=Object.assign([],e),o=r.slice(0,-1),a={...b.getIn(n.spec,o)};for(let i=0;i<e.length;i+=1){const c=e[i];try{s[i].default=n.parameterMacro(a,c)}catch(u){const f=new Error(u);return f.fullPath=r,f}}return b.replace(r,s)}return b.replace(r,e)}},ln={key:"properties",plugin:(e,t,r,n)=>{const s={...e};for(const a in e)try{s[a].default=n.modelPropertyMacro(s[a])}catch(i){const c=new Error(i);return c.fullPath=r,c}return b.replace(r,s)}};class fn{constructor(t){this.root=ve(t||{})}set(t,r){const n=this.getParent(t,!0);if(!n){ie(this.root,r,null);return}const s=t[t.length-1],{children:o}=n;if(o[s]){ie(o[s],r,n);return}o[s]=ve(r,n)}get(t){if(t=t||[],t.length<1)return this.root.value;let r=this.root,n,s;for(let o=0;o<t.length&&(s=t[o],n=r.children,!!n[s]);o+=1)r=n[s];return r&&r.protoValue}getParent(t,r){return!t||t.length<1?null:t.length<2?this.root:t.slice(0,-1).reduce((n,s)=>{if(!n)return n;const{children:o}=n;return!o[s]&&r&&(o[s]=ve(null,n)),o[s]},this.root)}}function ve(e,t){return ie({children:{}},e,t)}function ie(e,t,r){return e.value=t||{},e.protoValue=r?{...r.protoValue,...e.value}:e.value,Object.keys(e.children).forEach(n=>{const s=e.children[n];e.children[n]=ie(s,s.value,e)}),e}const Ze=100,_e=()=>{};class pn{static getPluginName(t){return t.pluginName}static getPatchesOfType(t,r){return t.filter(r)}constructor(t){Object.assign(this,{spec:"",debugLevel:"info",plugins:[],pluginHistory:{},errors:[],mutations:[],promisedPatches:[],state:{},patches:[],context:{},contextTree:new fn,showDebug:!1,allPatches:[],pluginProp:"specMap",libMethods:Object.assign(Object.create(this),b,{getInstance:()=>this}),allowMetaPatches:!1},t),this.get=this._get.bind(this),this.getContext=this._getContext.bind(this),this.hasRun=this._hasRun.bind(this),this.wrappedPlugins=this.plugins.map(this.wrapPlugin.bind(this)).filter(b.isFunction),this.patches.push(b.add([],this.spec)),this.patches.push(b.context([],this.context)),this.updatePatches(this.patches)}debug(t){if(this.debugLevel===t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];console.log(...n)}}verbose(t){if(this.debugLevel==="verbose"){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];console.log(`[${t}]   `,...n)}}wrapPlugin(t,r){const{pathDiscriminator:n}=this;let s=null,o;return t[this.pluginProp]?(s=t,o=t[this.pluginProp]):b.isFunction(t)?o=t:b.isObject(t)&&(o=a(t)),Object.assign(o.bind(s),{pluginName:t.name||r,isGenerator:b.isGenerator(o)});function a(i){const c=(u,f)=>Array.isArray(u)?u.every((l,h)=>l===f[h]):!0;return function*(f,l){const h={};for(const m of f.filter(b.isAdditiveMutation))yield*d(m.value,m.path,m);function*d(m,p,v){if(!b.isObject(m))i.key===p[p.length-1]&&(yield i.plugin(m,i.key,p,l));else{const y=p.length-1,P=p[y],g=p.indexOf("properties"),S=P==="properties"&&y===g,C=l.allowMetaPatches&&h[m.$$ref];for(const O of Object.keys(m)){const x=m[O],j=p.concat(O),w=b.isObject(x),M=m.$$ref;if(C||w&&(l.allowMetaPatches&&M&&(h[M]=!0),yield*d(x,j,v)),!S&&O===i.key){const T=c(n,p);(!n||T)&&(yield i.plugin(x,O,j,l,v))}}}}}}}nextPlugin(){return this.wrappedPlugins.find(t=>this.getMutationsForPlugin(t).length>0)}nextPromisedPatch(){if(this.promisedPatches.length>0)return Promise.race(this.promisedPatches.map(t=>t.value))}getPluginHistory(t){const r=this.constructor.getPluginName(t);return this.pluginHistory[r]||[]}getPluginRunCount(t){return this.getPluginHistory(t).length}getPluginHistoryTip(t){const r=this.getPluginHistory(t);return r&&r[r.length-1]||{}}getPluginMutationIndex(t){const r=this.getPluginHistoryTip(t).mutationIndex;return typeof r!="number"?-1:r}updatePluginHistory(t,r){const n=this.constructor.getPluginName(t);this.pluginHistory[n]=this.pluginHistory[n]||[],this.pluginHistory[n].push(r)}updatePatches(t){b.normalizeArray(t).forEach(r=>{if(r instanceof Error){this.errors.push(r);return}try{if(!b.isObject(r)){this.debug("updatePatches","Got a non-object patch",r);return}if(this.showDebug&&this.allPatches.push(r),b.isPromise(r.value)){this.promisedPatches.push(r),this.promisedPatchThen(r);return}if(b.isContextPatch(r)){this.setContext(r.path,r.value);return}b.isMutation(r)&&this.updateMutations(r)}catch(n){console.error(n),this.errors.push(n)}})}updateMutations(t){typeof t.value=="object"&&!Array.isArray(t.value)&&this.allowMetaPatches&&(t.value={...t.value});const r=b.applyPatch(this.state,t,{allowMetaPatches:this.allowMetaPatches});r&&(this.mutations.push(t),this.state=r)}removePromisedPatch(t){const r=this.promisedPatches.indexOf(t);if(r<0){this.debug("Tried to remove a promisedPatch that isn't there!");return}this.promisedPatches.splice(r,1)}promisedPatchThen(t){return t.value=t.value.then(r=>{const n={...t,value:r};this.removePromisedPatch(t),this.updatePatches(n)}).catch(r=>{this.removePromisedPatch(t),this.updatePatches(r)}),t.value}getMutations(t,r){return t=t||0,typeof r!="number"&&(r=this.mutations.length),this.mutations.slice(t,r)}getCurrentMutations(){return this.getMutationsForPlugin(this.getCurrentPlugin())}getMutationsForPlugin(t){const r=this.getPluginMutationIndex(t);return this.getMutations(r+1)}getCurrentPlugin(){return this.currentPlugin}getLib(){return this.libMethods}_get(t){return b.getIn(this.state,t)}_getContext(t){return this.contextTree.get(t)}setContext(t,r){return this.contextTree.set(t,r)}_hasRun(t){return this.getPluginRunCount(this.getCurrentPlugin())>(t||0)}dispatch(){const t=this,r=this.nextPlugin();if(!r){const o=this.nextPromisedPatch();if(o)return o.then(()=>this.dispatch()).catch(()=>this.dispatch());const a={spec:this.state,errors:this.errors};return this.showDebug&&(a.patches=this.allPatches),Promise.resolve(a)}if(t.pluginCount=t.pluginCount||{},t.pluginCount[r]=(t.pluginCount[r]||0)+1,t.pluginCount[r]>Ze)return Promise.resolve({spec:t.state,errors:t.errors.concat(new Error(`We've reached a hard limit of ${Ze} plugin runs`))});if(r!==this.currentPlugin&&this.promisedPatches.length){const o=this.promisedPatches.map(a=>a.value);return Promise.all(o.map(a=>a.then(_e,_e))).then(()=>this.dispatch())}return n();function n(){t.currentPlugin=r;const o=t.getCurrentMutations(),a=t.mutations.length-1;try{if(r.isGenerator)for(const i of r(o,t.getLib()))s(i);else{const i=r(o,t.getLib());s(i)}}catch(i){console.error(i),s([Object.assign(Object.create(i),{plugin:r})])}finally{t.updatePluginHistory(r,{mutationIndex:a})}return t.dispatch()}function s(o){o&&(o=b.fullyNormalizeArray(o),t.updatePatches(o,r))}}}function dn(e){return new pn(e).dispatch()}const U={refs:Ie,allOf:cn,parameters:un,properties:ln},St=e=>e.replace(/\W/gi,"_");function hn(e,t){let{v2OperationIdCompatibilityMode:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r){let n=`${t.toLowerCase()}_${e}`.replace(/[\s!@#$%^&*()_+=[{\]};:<>|./?,\\'""-]/g,"_");return n=n||`${e.substring(1)}_${t}`,n.replace(/((_){2,})/g,"_").replace(/^(_)*/g,"").replace(/([_])*$/g,"")}return`${t.toLowerCase()}${St(e)}`}function De(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",{v2OperationIdCompatibilityMode:n}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return!e||typeof e!="object"?null:(e.operationId||"").replace(/\s/g,"").length?St(e.operationId):hn(t,r,{v2OperationIdCompatibilityMode:n})}function fe(e){const{spec:t}=e,{paths:r}=t,n={};if(!r||t.$$normalized)return e;for(const s in r){const o=r[s];if(o==null||!["object","function"].includes(typeof o))continue;const a=o.parameters;for(const i in o){const c=o[i];if(c==null||!["object","function"].includes(typeof c))continue;const u=De(c,s,i);if(u){n[u]?n[u].push(c):n[u]=[c];const f=n[u];if(f.length>1)f.forEach((l,h)=>{l.__originalOperationId=l.__originalOperationId||l.operationId,l.operationId=`${u}${h+1}`});else if(typeof c.operationId<"u"){const l=f[0];l.__originalOperationId=l.__originalOperationId||c.operationId,l.operationId=u}}if(i!=="parameters"){const f=[],l={};for(const h in t)(h==="produces"||h==="consumes"||h==="security")&&(l[h]=t[h],f.push(l));if(a&&(l.parameters=a,f.push(l)),f.length){for(const h of f)for(const d in h)if(!c[d])c[d]=h[d];else if(d==="parameters")for(const m of h[d])c[d].some(v=>v.name&&v.name===m.name||v.$ref&&v.$ref===m.$ref||v.$$ref&&v.$$ref===m.$$ref||v===m)||c[d].push(m)}}}}return t.$$normalized=!0,e}function Ct(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{requestInterceptor:r,responseInterceptor:n}=t,s=e.withCredentials?"include":"same-origin";return o=>e({url:o,loadSpec:!0,requestInterceptor:r,responseInterceptor:n,headers:{Accept:gt},credentials:s}).then(a=>a.body)}const mn=e=>":/?#[]@!$&'()*+,;=".indexOf(e)>-1,yn=e=>/^[a-z0-9\-._~]+$/i.test(e);function B(e){let{escape:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return typeof e=="number"&&(e=e.toString()),typeof e!="string"||!e.length||!t?e:r?JSON.parse(e):[...e].map(n=>{if(yn(n)||mn(n)&&t==="unsafe")return n;const s=new TextEncoder;return Array.from(s.encode(n)).map(a=>`0${a.toString(16).toUpperCase()}`.slice(-2)).map(a=>`%${a}`).join("")}).join("")}function Ue(e){const{value:t}=e;return Array.isArray(t)?gn(e):typeof t=="object"?vn(e):wn(e)}function gn(e){let{key:t,value:r,style:n,explode:s,escape:o}=e;const a=i=>B(i,{escape:o});if(n==="simple")return r.map(i=>a(i)).join(",");if(n==="label")return`.${r.map(i=>a(i)).join(".")}`;if(n==="matrix")return r.map(i=>a(i)).reduce((i,c)=>!i||s?`${i||""};${t}=${c}`:`${i},${c}`,"");if(n==="form"){const i=s?`&${t}=`:",";return r.map(c=>a(c)).join(i)}if(n==="spaceDelimited"){const i=s?`${t}=`:"";return r.map(c=>a(c)).join(` ${i}`)}if(n==="pipeDelimited"){const i=s?`${t}=`:"";return r.map(c=>a(c)).join(`|${i}`)}}function vn(e){let{key:t,value:r,style:n,explode:s,escape:o}=e;const a=c=>B(c,{escape:o}),i=Object.keys(r);if(n==="simple")return i.reduce((c,u)=>{const f=a(r[u]),l=s?"=":",";return`${c?`${c},`:""}${u}${l}${f}`},"");if(n==="label")return i.reduce((c,u)=>{const f=a(r[u]),l=s?"=":".";return`${c?`${c}.`:"."}${u}${l}${f}`},"");if(n==="matrix"&&s)return i.reduce((c,u)=>{const f=a(r[u]);return`${c?`${c};`:";"}${u}=${f}`},"");if(n==="matrix")return i.reduce((c,u)=>{const f=a(r[u]);return`${c?`${c},`:`;${t}=`}${u},${f}`},"");if(n==="form")return i.reduce((c,u)=>{const f=a(r[u]);return`${c?`${c}${s?"&":","}`:""}${u}${s?"=":","}${f}`},"")}function wn(e){let{key:t,value:r,style:n,escape:s}=e;const o=a=>B(a,{escape:s});if(n==="simple")return o(r);if(n==="label")return`.${o(r)}`;if(n==="matrix")return`;${t}=${o(r)}`;if(n==="form"||n==="deepObject")return o(r)}const Re={serializeRes:On,mergeInQueryOrForm:Mt};async function Fe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="object"&&(t=e,e=t.url),t.headers=t.headers||{},Re.mergeInQueryOrForm(t),t.headers&&Object.keys(t.headers).forEach(s=>{const o=t.headers[s];typeof o=="string"&&(t.headers[s]=o.replace(/\n+/g," "))}),t.requestInterceptor&&(t=await t.requestInterceptor(t)||t);const r=t.headers["content-type"]||t.headers["Content-Type"];/multipart\/form-data/i.test(r)&&(delete t.headers["content-type"],delete t.headers["Content-Type"]);let n;try{n=await(t.userFetch||fetch)(t.url,t),n=await Re.serializeRes(n,e,t),t.responseInterceptor&&(n=await t.responseInterceptor(n)||n)}catch(s){if(!n)throw s;const o=new Error(n.statusText||`response status is ${n.status}`);throw o.status=n.status,o.statusCode=n.status,o.responseError=s,o}if(!n.ok){const s=new Error(n.statusText||`response status is ${n.status}`);throw s.status=n.status,s.statusCode=n.status,s.response=n,s}return n}const Pn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return/(json|xml|yaml|text)\b/.test(e)};function bn(e,t){return t&&(t.indexOf("application/json")===0||t.indexOf("+json")>0)?JSON.parse(e):V.load(e)}function On(e,t){let{loadSpec:r=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n={ok:e.ok,url:e.url||t,status:e.status,statusText:e.statusText,headers:An(e.headers)},s=n.headers["content-type"],o=r||Pn(s);return(o?e.text:e.blob||e.buffer).call(e).then(i=>{if(n.text=i,n.data=i,o)try{const c=bn(i,s);n.body=c,n.obj=c}catch(c){n.parseError=c}return n})}function xn(e){return e.includes(", ")?e.split(", "):e}function An(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return typeof e.entries!="function"?{}:Array.from(e.entries()).reduce((t,r)=>{let[n,s]=r;return t[n]=xn(s),t},{})}function Ve(e,t){return!t&&typeof navigator<"u"&&(t=navigator),t&&t.product==="ReactNative"?!!(e&&typeof e=="object"&&typeof e.uri=="string"):typeof File<"u"&&e instanceof File||typeof Blob<"u"&&e instanceof Blob||ArrayBuffer.isView(e)?!0:e!==null&&typeof e=="object"&&typeof e.pipe=="function"}function Tt(e,t){return Array.isArray(e)&&e.some(r=>Ve(r,t))}const Sn={form:",",spaceDelimited:"%20",pipeDelimited:"|"},Cn={csv:",",ssv:"%20",tsv:"%09",pipes:"|"};class $e extends File{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super([t],r,n),this.data=t}valueOf(){return this.data}toString(){return this.valueOf()}}function Et(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{collectionFormat:n,allowEmptyValue:s,serializationOption:o,encoding:a}=t,i=typeof t=="object"&&!Array.isArray(t)?t.value:t,c=r?f=>f.toString():f=>encodeURIComponent(f),u=c(e);if(typeof i>"u"&&s)return[[u,""]];if(Ve(i)||Tt(i))return[[u,i]];if(o)return et(e,i,r,o);if(a){if([typeof a.style,typeof a.explode,typeof a.allowReserved].some(f=>f!=="undefined")){const{style:f,explode:l,allowReserved:h}=a;return et(e,i,r,{style:f,explode:l,allowReserved:h})}if(typeof a.contentType=="string"){if(a.contentType.startsWith("application/json")){const h=typeof i=="string"?i:JSON.stringify(i),d=c(h),m=new $e(d,"blob",{type:a.contentType});return[[u,m]]}const f=c(String(i)),l=new $e(f,"blob",{type:a.contentType});return[[u,l]]}return typeof i!="object"?[[u,c(i)]]:Array.isArray(i)&&i.every(f=>typeof f!="object")?[[u,i.map(c).join(",")]]:[[u,c(JSON.stringify(i))]]}return typeof i!="object"?[[u,c(i)]]:Array.isArray(i)?n==="multi"?[[u,i.map(c)]]:[[u,i.map(c).join(Cn[n||"csv"])]]:[[u,""]]}function et(e,t,r,n){const s=n.style||"form",o=typeof n.explode>"u"?s==="form":n.explode,a=r?!1:n&&n.allowReserved?"unsafe":"reserved",i=u=>B(u,{escape:a}),c=r?u=>u:u=>B(u,{escape:a});return typeof t!="object"?[[c(e),i(t)]]:Array.isArray(t)?o?[[c(e),t.map(i)]]:[[c(e),t.map(i).join(Sn[s])]]:s==="deepObject"?Object.keys(t).map(u=>[c(`${e}[${u}]`),i(t[u])]):o?Object.keys(t).map(u=>[c(u),i(t[u])]):[[c(e),Object.keys(t).map(u=>[`${c(u)},${i(t[u])}`]).join(",")]]}function Tn(e){return Object.entries(e).reduce((t,r)=>{let[n,s]=r;for(const[o,a]of Et(n,s,!0))if(Array.isArray(a))for(const i of a)if(ArrayBuffer.isView(i)){const c=new Blob([i]);t.append(o,c)}else t.append(o,i);else if(ArrayBuffer.isView(a)){const i=new Blob([a]);t.append(o,i)}else t.append(o,a);return t},new FormData)}function tt(e){const t=Object.keys(e).reduce((r,n)=>{for(const[s,o]of Et(n,e[n]))o instanceof $e?r[s]=o.valueOf():r[s]=o;return r},{});return Ae.stringify(t,{encode:!1,indices:!1})||""}function Mt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{url:t="",query:r,form:n}=e,s=function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];const c=a.filter(u=>u).join("&");return c?`?${c}`:""};if(n){const o=Object.keys(n).some(i=>{const{value:c}=n[i];return Ve(c)||Tt(c)}),a=e.headers["content-type"]||e.headers["Content-Type"];if(o||/multipart\/form-data/i.test(a)){const i=Tn(e.form);e.formdata=i,e.body=i}else e.body=tt(n);delete e.form}if(r){const[o,a]=t.split("?");let i="";if(a){const u=Ae.parse(a);Object.keys(r).forEach(l=>delete u[l]),i=Ae.stringify(u,{encode:!0})}const c=s(i,tt(r));e.url=o+c,delete e.query}return e}function Ds(e,t,r){return r=r||(n=>n),t=t||(n=>n),n=>(typeof n=="string"&&(n={url:n}),Re.mergeInQueryOrForm(n),n=t(n),r(e(n)))}const ze=e=>{var t,r;const{baseDoc:n,url:s}=e,o=(t=n??s)!==null&&t!==void 0?t:"";return typeof((r=globalThis.document)===null||r===void 0?void 0:r.baseURI)=="string"?String(new URL(o,globalThis.document.baseURI)):o},Rt=e=>{const{fetch:t,http:r}=e;return t||r||Fe};async function Be(e){const{spec:t,mode:r,allowMetaPatches:n=!0,pathDiscriminator:s,modelPropertyMacro:o,parameterMacro:a,requestInterceptor:i,responseInterceptor:c,skipNormalization:u,useCircularStructures:f}=e,l=ze(e),h=Rt(e);return d(t);function d(m){l&&(U.refs.docCache[l]=m),U.refs.fetchJSON=Ct(h,{requestInterceptor:i,responseInterceptor:c});const p=[U.refs];return typeof a=="function"&&p.push(U.parameters),typeof o=="function"&&p.push(U.properties),r!=="strict"&&p.push(U.allOf),dn({spec:m,context:{baseDoc:l},plugins:p,allowMetaPatches:n,pathDiscriminator:s,parameterMacro:a,modelPropertyMacro:o,useCircularStructures:f}).then(u?async v=>v:fe)}}const En={name:"generic",match(){return!0},normalize(e){let{spec:t}=e;const{spec:r}=fe({spec:t});return r},async resolve(e){return Be(e)}};async function Mn(e){return Be(e)}const Rn=e=>{try{const{swagger:t}=e;return t==="2.0"}catch{return!1}},$t=e=>{try{const{openapi:t}=e;return typeof t=="string"&&/^3\.0\.([0123])(?:-rc[012])?$/.test(t)}catch{return!1}},jt=e=>{try{const{openapi:t}=e;return typeof t=="string"&&/^3\.1\.(?:[1-9]\d*|0)$/.test(t)}catch{return!1}},kt=e=>$t(e)||jt(e),$n={name:"openapi-2",match(e){let{spec:t}=e;return Rn(t)},normalize(e){let{spec:t}=e;const{spec:r}=fe({spec:t});return r},async resolve(e){return Mn(e)}};async function jn(e){return Be(e)}const kn={name:"openapi-3-0",match(e){let{spec:t}=e;return $t(t)},normalize(e){let{spec:t}=e;const{spec:r}=fe({spec:t});return r},async resolve(e){return jn(e)}},It=e=>{if(!W(e)||e.hasKey("$$normalized"))return e;const t=[Vt({operationIdNormalizer:(n,s,o)=>De({operationId:n},s,o,{v2OperationIdCompatibilityMode:!1})}),zt(),Bt(),Lt(),Ht(),qt()],r=Jt(e,t,{toolboxCreator:Wt,visitorOptions:{keyMap:J,nodeTypeGetter:F}});return r.set("$$normalized",!0),r},ae=e=>t=>{if(t!=null&&t.$$normalized||ae.cache.has(t))return t;const r=ce.refract(t),n=e(r),s=A(n);return ae.cache.set(t,s),s};ae.cache=new WeakMap;const{AbortController:In,AbortSignal:Nn}=globalThis;typeof globalThis.AbortController>"u"&&(globalThis.AbortController=In);typeof globalThis.AbortSignal>"u"&&(globalThis.AbortSignal=Nn);const Dn=Kt.compose({props:{name:"http-swagger-client",swaggerHTTPClient:Fe,swaggerHTTPClientConfig:{}},init(){let{swaggerHTTPClient:e=this.swaggerHTTPClient}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.swaggerHTTPClient=e},methods:{getHttpClient(){return this.swaggerHTTPClient},async read(e){const t=this.getHttpClient(),r=new AbortController,{signal:n}=r,s=setTimeout(()=>{r.abort()},this.timeout),o=this.getHttpClient().withCredentials||this.withCredentials?"include":"same-origin",a=this.redirects===0?"error":"follow",i=this.redirects>0?this.redirects:void 0;try{return(await t({url:e.uri,signal:n,userFetch:async(u,f)=>{let l=await fetch(u,f);try{l.headers.delete("Content-Type")}catch{l=new Response(l.body,{...l,headers:new Headers(l.headers)}),l.headers.delete("Content-Type")}return l},credentials:o,redirect:a,follow:i,...this.swaggerHTTPClientConfig})).text.arrayBuffer()}catch(c){throw new Gt(`Error downloading "${e.uri}"`,{cause:c})}finally{clearTimeout(s)}}}}),Un=ue.compose({props:{name:"json-swagger-client",fileExtensions:[".json"],mediaTypes:["application/json"]},methods:{async canParse(e){const t=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{return JSON.parse(e.toString()),!0}catch{return!1}return!1},async parse(e){if(this.sourceMap)throw new I("json-swagger-client parser plugin doesn't support sourceMaps option");const t=new G,r=e.toString();if(this.allowEmpty&&r.trim()==="")return t;try{const n=nt(JSON.parse(r));return n.classes.push("result"),t.push(n),t}catch(n){throw new I(`Error parsing "${e.uri}"`,{cause:n})}}}}),Fn=ue.compose({props:{name:"yaml-1-2-swagger-client",fileExtensions:[".yaml",".yml"],mediaTypes:["text/yaml","application/yaml"]},methods:{async canParse(e){const t=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{return V.load(e.toString(),{schema:xe}),!0}catch{return!1}return!1},async parse(e){if(this.sourceMap)throw new I("yaml-1-2-swagger-client parser plugin doesn't support sourceMaps option");const t=new G,r=e.toString();try{const n=V.load(r,{schema:xe});if(this.allowEmpty&&typeof n>"u")return t;const s=nt(n);return s.classes.push("result"),t.push(s),t}catch(n){throw new I(`Error parsing "${e.uri}"`,{cause:n})}}}}),Vn=ue.compose({props:{name:"openapi-json-3-1-swagger-client",fileExtensions:[".json"],mediaTypes:new st(...K.filterByFormat("generic"),...K.filterByFormat("json")),detectionRegExp:/"openapi"\s*:\s*"(?<version_json>3\.1\.(?:[1-9]\d*|0))"/},methods:{async canParse(e){const t=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{const n=e.toString();return JSON.parse(n),this.detectionRegExp.test(n)}catch{return!1}return!1},async parse(e){if(this.sourceMap)throw new I("openapi-json-3-1-swagger-client parser plugin doesn't support sourceMaps option");const t=new G,r=e.toString();if(this.allowEmpty&&r.trim()==="")return t;try{const n=JSON.parse(r),s=ce.refract(n,this.refractorOpts);return s.classes.push("result"),t.push(s),t}catch(n){throw new I(`Error parsing "${e.uri}"`,{cause:n})}}}}),zn=ue.compose({props:{name:"openapi-yaml-3-1-swagger-client",fileExtensions:[".yaml",".yml"],mediaTypes:new st(...K.filterByFormat("generic"),...K.filterByFormat("yaml")),detectionRegExp:/(?<YAML>^(["']?)openapi\2\s*:\s*(["']?)(?<version_yaml>3\.1\.(?:[1-9]\d*|0))\3(?:\s+|$))|(?<JSON>"openapi"\s*:\s*"(?<version_json>3\.1\.(?:[1-9]\d*|0))")/m},methods:{async canParse(e){const t=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{const n=e.toString();return V.load(n),this.detectionRegExp.test(n)}catch{return!1}return!1},async parse(e){if(this.sourceMap)throw new I("openapi-yaml-3-1-swagger-client parser plugin doesn't support sourceMaps option");const t=new G,r=e.toString();try{const n=V.load(r,{schema:xe});if(this.allowEmpty&&typeof n>"u")return t;const s=ce.refract(n,this.refractorOpts);return s.classes.push("result"),t.push(s),t}catch(n){throw new I(`Error parsing "${e.uri}"`,{cause:n})}}}}),Bn=e=>e.slice(2),$=e=>{const t=Bn(e);return t.reduce((r,n,s)=>{if(ee(n)){const o=String(A(n.key));r.push(o)}else if(ot(t[s-2])){const o=t[s-2].content.indexOf(n);r.push(o)}return r},[])},_=e=>{if(e.cause==null)return e;let{cause:t}=e;for(;t.cause!=null;)t=t.cause;return t},Ln=ke("SchemaRefError",function(t,r,n){this.originalError=n,Object.assign(this,r||{})}),{wrapError:we}=Ie,Pe=it[Symbol.for("nodejs.util.promisify.custom")],re=qe.compose({props:{useCircularStructures:!0,allowMetaPatches:!1,basePath:null},init(e){let{allowMetaPatches:t=this.allowMetaPatches,useCircularStructures:r=this.useCircularStructures,basePath:n=this.basePath}=e;this.allowMetaPatches=t,this.useCircularStructures=r,this.basePath=n},methods:{async ReferenceElement(e,t,r,n,s){try{var o;const[u,f]=this.toAncestorLineage([...s,r]);if(u.includesCycle(e)||!this.options.resolve.external&&Qt(e))return!1;const l=await this.toReference(A(e.$ref)),{uri:h}=l,d=R(h,A(e.$ref));this.indirections.push(e);const m=D(d);let p=H(m,l.value.result);if(Je(p)){const P=A(e.meta.get("referenced-element"));Yt(p)?(p=We.refract(p),p.setMetaProperty("referenced-element",P)):p=this.namespace.getElementClass(P).refract(p)}if(this.indirections.includes(p))throw new Error("Recursive JSON Pointer detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new de(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(!this.useCircularStructures&&u.includes(p))return q(h)||he(h)?new We({$ref:d},E(e.meta),E(e.attributes)):!1;f.add(e);const v=re({reference:l,namespace:this.namespace,indirections:[...this.indirections],options:this.options,ancestors:u,allowMetaPatches:this.allowMetaPatches,useCircularStructures:this.useCircularStructures,basePath:(o=this.basePath)!==null&&o!==void 0?o:[...$([...s,r,e]),"$ref"]});p=await Pe(p,v,{keyMap:J,nodeTypeGetter:F}),f.delete(e),this.indirections.pop();const y=P=>{const g=Xt(P);if(g.setMetaProperty("ref-fields",{$ref:A(e.$ref),description:A(e.description),summary:A(e.summary)}),g.setMetaProperty("ref-origin",l.uri),W(P)&&(e.hasKey("description")&&"description"in P&&(g.remove("description"),g.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in P&&(g.remove("summary"),g.set("summary",e.get("summary")))),this.allowMetaPatches&&W(g)&&!g.hasKey("$$ref")){const S=R(h,d);g.set("$$ref",S)}return g};return u.includes(p)?(ee(r)?r.value=y(p):Array.isArray(r)&&(r[t]=y(p)),!1):y(p)}catch(u){var a,i,c;const f=_(u),l=we(f,{baseDoc:this.reference.uri,$ref:A(e.$ref),pointer:D(A(e.$ref)),fullPath:(a=this.basePath)!==null&&a!==void 0?a:[...$([...s,r,e]),"$ref"]});(i=this.options.dereference.dereferenceOpts)===null||i===void 0||(i=i.errors)===null||i===void 0||(c=i.push)===null||c===void 0||c.call(i,l);return}},async PathItemElement(e,t,r,n,s){try{var o;const[u,f]=this.toAncestorLineage([...s,r]);if(!Ke(e.$ref))return;if(u.includesCycle(e))return!1;if(!this.options.resolve.external&&Zt(e))return;const l=await this.toReference(A(e.$ref)),{uri:h}=l,d=R(h,A(e.$ref));this.indirections.push(e);const m=D(d);let p=H(m,l.value.result);if(Je(p)&&(p=me.refract(p)),this.indirections.includes(p))throw new Error("Recursive JSON Pointer detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new de(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(!this.useCircularStructures&&u.includes(p))return q(h)||he(h)?new me({$ref:d},E(e.meta),E(e.attributes)):!1;f.add(e);const v=re({reference:l,namespace:this.namespace,indirections:[...this.indirections],options:this.options,ancestors:u,allowMetaPatches:this.allowMetaPatches,useCircularStructures:this.useCircularStructures,basePath:(o=this.basePath)!==null&&o!==void 0?o:[...$([...s,r,e]),"$ref"]});p=await Pe(p,v,{keyMap:J,nodeTypeGetter:F}),f.delete(e),this.indirections.pop();const y=P=>{const g=new me([...P.content],E(P.meta),E(P.attributes));if(e.forEach((S,C,O)=>{g.remove(A(C)),g.content.push(O)}),g.remove("$ref"),g.setMetaProperty("ref-fields",{$ref:A(e.$ref)}),g.setMetaProperty("ref-origin",l.uri),this.allowMetaPatches&&typeof g.get("$$ref")>"u"){const S=R(h,d);g.set("$$ref",S)}return g};return u.includes(p)?(ee(r)?r.value=y(p):Array.isArray(r)&&(r[t]=y(p)),!1):y(p)}catch(u){var a,i,c;const f=_(u),l=we(f,{baseDoc:this.reference.uri,$ref:A(e.$ref),pointer:D(A(e.$ref)),fullPath:(a=this.basePath)!==null&&a!==void 0?a:[...$([...s,r,e]),"$ref"]});(i=this.options.dereference.dereferenceOpts)===null||i===void 0||(i=i.errors)===null||i===void 0||(c=i.push)===null||c===void 0||c.call(i,l);return}},async SchemaElement(e,t,r,n,s){try{var o;const[u,f]=this.toAncestorLineage([...s,r]);if(!Ke(e.$ref))return;if(u.includesCycle(e))return!1;let l=await this.toReference(X(this.reference.uri)),{uri:h}=l;const d=_t(h,e),m=er(d),p=tr({uri:m}),v=!this.options.resolve.resolvers.some(O=>O.canRead(p)),y=!v,P=y&&h!==m;if(!this.options.resolve.external&&P)return;this.indirections.push(e);let g;try{if(v||y)g=rr(d,Z(l.value.result));else{l=await this.toReference(X(d)),h=l.uri;const O=D(d);g=Z(H(O,l.value.result))}}catch(O){if(y&&O instanceof nr)if(sr(Ge(d))){l=await this.toReference(X(d)),h=l.uri;const x=Ge(d);g=or(x,Z(l.value.result))}else{l=await this.toReference(X(d)),h=l.uri;const x=D(d);g=Z(H(x,l.value.result))}else throw O}if(this.indirections.includes(g))throw new Error("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new de(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(!this.useCircularStructures&&u.some(x=>x.has(g))){if(q(h)||he(h)){const x=R(h,d);return new Oe({$ref:x},E(e.meta),E(e.attributes))}return!1}f.add(e);const S=re({reference:l,namespace:this.namespace,indirections:[...this.indirections],options:this.options,useCircularStructures:this.useCircularStructures,allowMetaPatches:this.allowMetaPatches,ancestors:u,basePath:(o=this.basePath)!==null&&o!==void 0?o:[...$([...s,r,e]),"$ref"]});if(g=await Pe(g,S,{keyMap:J,nodeTypeGetter:F}),f.delete(e),this.indirections.pop(),ir(g)){const O=E(g);return O.setMetaProperty("ref-fields",{$ref:A(e.$ref)}),O.setMetaProperty("ref-origin",l.uri),O}const C=O=>{const x=new Oe([...O.content],E(O.meta),E(O.attributes));if(e.forEach((j,w,M)=>{x.remove(A(w)),x.content.push(M)}),x.remove("$ref"),x.setMetaProperty("ref-fields",{$ref:A(e.$ref)}),x.setMetaProperty("ref-origin",l.uri),this.allowMetaPatches&&typeof x.get("$$ref")>"u"){const j=R(h,d);x.set("$$ref",j)}return x};return u.includes(g)?(ee(r)?r.value=C(g):Array.isArray(r)&&(r[t]=C(g)),!1):C(g)}catch(u){var a,i,c;const f=_(u),l=new Ln(`Could not resolve reference: ${f.message}`,{baseDoc:this.reference.uri,$ref:A(e.$ref),fullPath:(a=this.basePath)!==null&&a!==void 0?a:[...$([...s,r,e]),"$ref"]},f);(i=this.options.dereference.dereferenceOpts)===null||i===void 0||(i=i.errors)===null||i===void 0||(c=i.push)===null||c===void 0||c.call(i,l);return}},async LinkElement(){},async ExampleElement(e,t,r,n,s){try{return await qe.compose.methods.ExampleElement.call(this,e,t,r,n,s)}catch(c){var o,a,i;const u=_(c),f=we(u,{baseDoc:this.reference.uri,externalValue:A(e.externalValue),fullPath:(o=this.basePath)!==null&&o!==void 0?o:[...$([...s,r,e]),"externalValue"]});(a=this.options.dereference.dereferenceOpts)===null||a===void 0||(a=a.errors)===null||a===void 0||(i=a.push)===null||i===void 0||i.call(a,f);return}}}}),Le=at.compose.bind(),Hn=Le({init(e){let{parameterMacro:t,options:r}=e;this.parameterMacro=t,this.options=r},props:{parameterMacro:null,options:null,macroOperation:null,OperationElement:{enter(e){this.macroOperation=e},leave(){this.macroOperation=null}},ParameterElement:{leave(e,t,r,n,s){const o=this.macroOperation===null?null:A(this.macroOperation),a=A(e);try{const u=this.parameterMacro(o,a);e.set("default",u)}catch(u){var i,c;const f=new Error(u,{cause:u});f.fullPath=$([...s,r]),(i=this.options.dereference.dereferenceOpts)===null||i===void 0||(i=i.errors)===null||i===void 0||(c=i.push)===null||c===void 0||c.call(i,f)}}}}}),qn=Le({init(e){let{modelPropertyMacro:t,options:r}=e;this.modelPropertyMacro=t,this.options=r},props:{modelPropertyMacro:null,options:null,SchemaElement:{leave(e,t,r,n,s){typeof e.properties>"u"||W(e.properties)&&e.properties.forEach(o=>{if(W(o))try{const c=this.modelPropertyMacro(A(o));o.set("default",c)}catch(c){var a,i;const u=new Error(c,{cause:c});u.fullPath=[...$([...s,r,e]),"properties"],(a=this.options.dereference.dereferenceOpts)===null||a===void 0||(a=a.errors)===null||a===void 0||(i=a.push)===null||i===void 0||i.call(a,u)}})}}}}),Jn=Le({init(e){let{options:t}=e;this.options=t},props:{options:null,SchemaElement:{leave(e,t,r,n,s){if(typeof e.allOf>"u")return;if(!ot(e.allOf)){var o,a;const l=new TypeError("allOf must be an array");l.fullPath=[...$([...s,r,e]),"allOf"],(o=this.options.dereference.dereferenceOpts)===null||o===void 0||(o=o.errors)===null||o===void 0||(a=o.push)===null||a===void 0||a.call(o,l);return}if(e.allOf.isEmpty)return new Oe(e.content.filter(l=>A(l.key)!=="allOf"),E(e.meta),E(e.attributes));if(!e.allOf.content.every(ar)){var c,u;const l=new TypeError("Elements in allOf must be objects");l.fullPath=[...$([...s,r,e]),"allOf"],(c=this.options.dereference.dereferenceOpts)===null||c===void 0||(c=c.errors)===null||c===void 0||(u=c.push)===null||u===void 0||u.call(c,l);return}const f=cr.all([...e.allOf.content,e]);if(e.hasKey("$$ref")||f.remove("$$ref"),e.hasKey("example")){const l=f.getMember("example");l.value=e.get("example")}if(e.hasKey("examples")){const l=f.getMember("examples");l.value=e.get("examples")}return f.remove("allOf"),f}}}}),Wn=it[Symbol.for("nodejs.util.promisify.custom")],Kn=at.compose({props:{useCircularStructures:!0,allowMetaPatches:!1,parameterMacro:null,modelPropertyMacro:null,mode:"non-strict",ancestors:null},init(){let{useCircularStructures:e=this.useCircularStructures,allowMetaPatches:t=this.allowMetaPatches,parameterMacro:r=this.parameterMacro,modelPropertyMacro:n=this.modelPropertyMacro,mode:s=this.mode,ancestors:o=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.name="openapi-3-1-swagger-client",this.useCircularStructures=e,this.allowMetaPatches=t,this.parameterMacro=r,this.modelPropertyMacro=n,this.mode=s,this.ancestors=[...o]},methods:{async dereference(e,t){var r;const n=[],s=ur(fr),o=(r=t.dereference.refSet)!==null&&r!==void 0?r:ct();let a;o.has(e.uri)?a=o.find(f=>f.uri===e.uri):(a=ut({uri:e.uri,value:e.parseResult}),o.add(a));const i=re({reference:a,namespace:s,options:t,useCircularStructures:this.useCircularStructures,allowMetaPatches:this.allowMetaPatches,ancestors:this.ancestors});if(n.push(i),typeof this.parameterMacro=="function"){const f=Hn({parameterMacro:this.parameterMacro,options:t});n.push(f)}if(typeof this.modelPropertyMacro=="function"){const f=qn({modelPropertyMacro:this.modelPropertyMacro,options:t});n.push(f)}if(this.mode!=="strict"){const f=Jn({options:t});n.push(f)}const c=lr(n,{nodeTypeGetter:F}),u=await Wn(o.rootRef.value,c,{keyMap:J,nodeTypeGetter:F});return t.dereference.refSet===null&&o.clean(),u}}}),He=async e=>{const{spec:t,timeout:r,redirects:n,requestInterceptor:s,responseInterceptor:o,pathDiscriminator:a=[],allowMetaPatches:i=!1,useCircularStructures:c=!1,skipNormalization:u=!1,parameterMacro:f=null,modelPropertyMacro:l=null,mode:h="non-strict"}=e;try{const{cache:d}=He,m=q(Qe())?Qe():oe,p=ze(e),v=R(m,p);let y;d.has(t)?y=d.get(t):(y=ce.refract(t),y.classes.push("result"),d.set(t,y));const P=new G([y]),g=pr(a),S=g===""?"":`#${g}`,C=H(g,y),O=ut({uri:v,value:P}),x=ct({refs:[O]});g!==""&&(x.rootRef=null);const j=[new WeakSet([C])],w=[],M=await dr(C,{resolve:{baseURI:`${v}${S}`,resolvers:[Dn({timeout:r||1e4,redirects:n||10})],resolverOpts:{swaggerHTTPClientConfig:{requestInterceptor:s,responseInterceptor:o}},strategies:[hr()]},parse:{mediaType:K.latest(),parsers:[Vn({allowEmpty:!1,sourceMap:!1}),zn({allowEmpty:!1,sourceMap:!1}),Un({allowEmpty:!1,sourceMap:!1}),Fn({allowEmpty:!1,sourceMap:!1}),mr({allowEmpty:!1,sourceMap:!1})]},dereference:{maxDepth:100,strategies:[Kn({allowMetaPatches:i,useCircularStructures:c,parameterMacro:f,modelPropertyMacro:l,mode:h,ancestors:j})],refSet:x,dereferenceOpts:{errors:w}}}),T=yr(C,M,y),Y=u?T:It(T);return{spec:A(Y),errors:w}}catch(d){if(d instanceof gr||d instanceof vr)return{spec:null,errors:[]};throw d}};He.cache=new WeakMap;const Us={name:"openapi-3-1-apidom",match(e){let{spec:t}=e;return jt(t)},normalize(e){let{spec:t}=e;return ae(It)(t)},async resolve(e){return He(e)}},Gn=async e=>{const{spec:t,requestInterceptor:r,responseInterceptor:n}=e,s=ze(e),o=Rt(e),a=t||await Ct(o,{requestInterceptor:r,responseInterceptor:n})(s),i={...e,spec:a};return e.strategies.find(u=>u.match(i)).resolve(i)},Qn=e=>async t=>{const r={...e,...t};return Gn(r)},Yn=Qn({strategies:[kn,$n,En]}),Xn={body:Zn,header:es,query:rs,path:ts,formData:_n};function Zn(e){let{req:t,value:r}=e;t.body=r}function _n(e){let{req:t,value:r,parameter:n}=e;(r||n.allowEmptyValue)&&(t.form=t.form||{},t.form[n.name]={value:r,allowEmptyValue:n.allowEmptyValue,collectionFormat:n.collectionFormat})}function es(e){let{req:t,parameter:r,value:n}=e;t.headers=t.headers||{},typeof n<"u"&&(t.headers[r.name]=n)}function ts(e){let{req:t,value:r,parameter:n}=e;t.url=t.url.split(`{${n.name}}`).join(encodeURIComponent(r))}function rs(e){let{req:t,value:r,parameter:n}=e;if(t.query=t.query||{},r===!1&&n.type==="boolean"&&(r="false"),r===0&&["number","integer"].indexOf(n.type)>-1&&(r="0"),r)t.query[n.name]={collectionFormat:n.collectionFormat,value:r};else if(n.allowEmptyValue&&r!==void 0){const s=n.name;t.query[s]=t.query[s]||{},t.query[s].allowEmptyValue=!0}}function pe(e,t){return t.includes("application/json")?typeof e=="string"?e:JSON.stringify(e):e.toString()}function ns(e){let{req:t,value:r,parameter:n}=e;const{name:s,style:o,explode:a,content:i}=n;if(i){const u=Object.keys(i)[0];t.url=t.url.split(`{${s}}`).join(B(pe(r,u),{escape:!0}));return}const c=Ue({key:n.name,value:r,style:o||"simple",explode:a||!1,escape:!0});t.url=t.url.split(`{${s}}`).join(c)}function ss(e){let{req:t,value:r,parameter:n}=e;if(t.query=t.query||{},n.content){const s=Object.keys(n.content)[0],o=pe(r,s);if(o)t.query[n.name]=o;else if(n.allowEmptyValue&&r!==void 0){const a=n.name;t.query[a]=t.query[a]||{},t.query[a].allowEmptyValue=!0}return}if(r===!1&&(r="false"),r===0&&(r="0"),r){const{style:s,explode:o,allowReserved:a}=n;t.query[n.name]={value:r,serializationOption:{style:s,explode:o,allowReserved:a}}}else if(n.allowEmptyValue&&r!==void 0){const s=n.name;t.query[s]=t.query[s]||{},t.query[s].allowEmptyValue=!0}}const os=["accept","authorization","content-type"];function is(e){let{req:t,parameter:r,value:n}=e;if(t.headers=t.headers||{},!(os.indexOf(r.name.toLowerCase())>-1)){if(r.content){const s=Object.keys(r.content)[0];t.headers[r.name]=pe(n,s);return}typeof n<"u"&&(t.headers[r.name]=Ue({key:r.name,value:n,style:r.style||"simple",explode:typeof r.explode>"u"?!1:r.explode,escape:!1}))}}function as(e){let{req:t,parameter:r,value:n}=e;t.headers=t.headers||{};const s=typeof n;if(r.content){const o=Object.keys(r.content)[0];t.headers.Cookie=`${r.name}=${pe(n,o)}`;return}if(s!=="undefined"){const o=s==="object"&&!Array.isArray(n)&&r.explode?"":`${r.name}=`;t.headers.Cookie=o+Ue({key:r.name,value:n,escape:!1,style:r.style||"form",explode:typeof r.explode>"u"?!1:r.explode})}}const cs=Object.freeze(Object.defineProperty({__proto__:null,cookie:as,header:is,path:ns,query:ss},Symbol.toStringTag,{value:"Module"})),us=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:window)(),{btoa:Nt}=us;function ls(e,t){const{operation:r,requestBody:n,securities:s,spec:o,attachContentTypeForEmptyPayload:a}=e;let{requestContentType:i}=e;t=fs({request:t,securities:s,operation:r,spec:o});const c=r.requestBody||{},u=Object.keys(c.content||{}),f=i&&u.indexOf(i)>-1;if(n||a){if(i&&f)t.headers["Content-Type"]=i;else if(!i){const d=u[0];d&&(t.headers["Content-Type"]=d,i=d)}}else i&&f&&(t.headers["Content-Type"]=i);if(!e.responseContentType&&r.responses){const d=Object.entries(r.responses).filter(m=>{let[p,v]=m;const y=parseInt(p,10);return y>=200&&y<300&&lt(v.content)}).reduce((m,p)=>{let[,v]=p;return m.concat(Object.keys(v.content))},[]);d.length>0&&(t.headers.accept=d.join(", "))}if(n)if(i){if(u.indexOf(i)>-1)if(i==="application/x-www-form-urlencoded"||i==="multipart/form-data")if(typeof n=="object"){var l,h;const d=(l=(h=c.content[i])===null||h===void 0?void 0:h.encoding)!==null&&l!==void 0?l:{};t.form={},Object.keys(n).forEach(m=>{t.form[m]={value:n[m],encoding:d[m]||{}}})}else t.form=n;else t.body=n}else t.body=n;return t}function fs(e){var t;let{request:r,securities:n={},operation:s={},spec:o}=e;const a={...r},{authorized:i={}}=n,c=s.security||o.security||[],u=i&&!!Object.keys(i).length,f=(o==null||(t=o.components)===null||t===void 0?void 0:t.securitySchemes)||{};return a.headers=a.headers||{},a.query=a.query||{},!Object.keys(n).length||!u||!c||Array.isArray(s.security)&&!s.security.length?r:(c.forEach(l=>{Object.keys(l).forEach(h=>{const d=i[h],m=f[h];if(!d)return;const p=d.value||d,{type:v}=m;if(d){if(v==="apiKey")m.in==="query"&&(a.query[m.name]=p),m.in==="header"&&(a.headers[m.name]=p),m.in==="cookie"&&(a.cookies[m.name]=p);else if(v==="http"){if(/^basic$/i.test(m.scheme)){const y=p.username||"",P=p.password||"",g=Nt(`${y}:${P}`);a.headers.Authorization=`Basic ${g}`}/^bearer$/i.test(m.scheme)&&(a.headers.Authorization=`Bearer ${p}`)}else if(v==="oauth2"||v==="openIdConnect"){const y=d.token||{},P=m["x-tokenName"]||"access_token",g=y[P];let S=y.token_type;(!S||S.toLowerCase()==="bearer")&&(S="Bearer"),a.headers.Authorization=`${S} ${g}`}}})}),a)}function ps(e,t){const{spec:r,operation:n,securities:s,requestContentType:o,responseContentType:a,attachContentTypeForEmptyPayload:i}=e;if(t=ds({request:t,securities:s,operation:n,spec:r}),t.body||t.form||i)o?t.headers["Content-Type"]=o:Array.isArray(n.consumes)?[t.headers["Content-Type"]]=n.consumes:Array.isArray(r.consumes)?[t.headers["Content-Type"]]=r.consumes:n.parameters&&n.parameters.filter(c=>c.type==="file").length?t.headers["Content-Type"]="multipart/form-data":n.parameters&&n.parameters.filter(c=>c.in==="formData").length&&(t.headers["Content-Type"]="application/x-www-form-urlencoded");else if(o){const c=n.parameters&&n.parameters.filter(f=>f.in==="body").length>0,u=n.parameters&&n.parameters.filter(f=>f.in==="formData").length>0;(c||u)&&(t.headers["Content-Type"]=o)}return!a&&Array.isArray(n.produces)&&n.produces.length>0&&(t.headers.accept=n.produces.join(", ")),t}function ds(e){let{request:t,securities:r={},operation:n={},spec:s}=e;const o={...t},{authorized:a={},specSecurity:i=[]}=r,c=n.security||i,u=a&&!!Object.keys(a).length,f=s.securityDefinitions;return o.headers=o.headers||{},o.query=o.query||{},!Object.keys(r).length||!u||!c||Array.isArray(n.security)&&!n.security.length?t:(c.forEach(l=>{Object.keys(l).forEach(h=>{const d=a[h];if(!d)return;const{token:m}=d,p=d.value||d,v=f[h],{type:y}=v,P=v["x-tokenName"]||"access_token",g=m&&m[P];let S=m&&m.token_type;if(d)if(y==="apiKey"){const C=v.in==="query"?"query":"headers";o[C]=o[C]||{},o[C][v.name]=p}else if(y==="basic")if(p.header)o.headers.authorization=p.header;else{const C=p.username||"",O=p.password||"";p.base64=Nt(`${C}:${O}`),o.headers.authorization=`Basic ${p.base64}`}else y==="oauth2"&&g&&(S=!S||S.toLowerCase()==="bearer"?"Bearer":S,o.headers.authorization=`${S} ${g}`)})}),o)}function hs(e,t,r){if(!e||typeof e!="object"||!e.paths||typeof e.paths!="object")return null;const{paths:n}=e;for(const s in n)for(const o in n[s]){if(o.toUpperCase()==="PARAMETERS")continue;const a=n[s][o];if(!a||typeof a!="object")continue;const i={spec:e,pathName:s,method:o.toUpperCase(),operation:a},c=t(i);if(r&&c)return i}}function ms(e,t){return hs(e,t,!0)||null}function Dt(e,t){return`${t.toLowerCase()}-${e}`}function ys(e,t){return!e||!e.paths?null:ms(e,r=>{let{pathName:n,method:s,operation:o}=r;if(!o||typeof o!="object")return!1;const a=o.operationId,i=De(o,n,s),c=Dt(n,s);return[i,c,a].some(u=>u&&u===t)})}const rt=e=>Array.isArray(e)?e:[],ne=e=>{try{return new URL(e)}catch{const t=new URL(e,oe),r=String(e).startsWith("/")?t.pathname:t.pathname.substring(1);return{hash:t.hash,host:"",hostname:"",href:"",origin:"",password:"",pathname:r,port:"",protocol:"",search:t.search,searchParams:t.searchParams}}},gs=ke("OperationNotFoundError",function(t,r,n){this.originalError=n,Object.assign(this,r||{})}),vs=(e,t)=>t.filter(r=>r.name===e),ws=e=>{const t={};e.forEach(n=>{t[n.in]||(t[n.in]={}),t[n.in][n.name]=n});const r=[];return Object.keys(t).forEach(n=>{Object.keys(t[n]).forEach(s=>{r.push(t[n][s])})}),r},Ps={buildRequest:bs};function Fs(e){let{http:t,fetch:r,spec:n,operationId:s,pathName:o,method:a,parameters:i,securities:c,...u}=e;const f=t||r||Fe;o&&a&&!s&&(s=Dt(o,a));const l=Ps.buildRequest({spec:n,operationId:s,parameters:i,securities:c,http:f,...u});return l.body&&(lt(l.body)||Array.isArray(l.body))&&(l.body=JSON.stringify(l.body)),f(l)}function bs(e){const{spec:t,operationId:r,responseContentType:n,scheme:s,requestInterceptor:o,responseInterceptor:a,contextUrl:i,userFetch:c,server:u,serverVariables:f,http:l,signal:h}=e;let{parameters:d,parameterBuilders:m}=e;const p=kt(t);m||(p?m=cs:m=Xn);let y={url:"",credentials:l&&l.withCredentials?"include":"same-origin",headers:{},cookies:{}};h&&(y.signal=h),o&&(y.requestInterceptor=o),a&&(y.responseInterceptor=a),c&&(y.userFetch=c);const P=ys(t,r);if(!P)throw new gs(`Operation ${r} not found`);const{operation:g={},method:S,pathName:C}=P;if(y.url+=Os({spec:t,scheme:s,contextUrl:i,server:u,serverVariables:f,pathName:C,method:S}),!r)return delete y.cookies,y;y.url+=C,y.method=`${S}`.toUpperCase(),d=d||{};const O=t.paths[C]||{};n&&(y.headers.accept=n);const x=ws([].concat(rt(g.parameters)).concat(rt(O.parameters)));x.forEach(w=>{const M=m[w.in];let T;if(w.in==="body"&&w.schema&&w.schema.properties&&(T=d),T=w&&w.name&&d[w.name],typeof T>"u"?T=w&&w.name&&d[`${w.in}.${w.name}`]:vs(w.name,x).length>1&&console.warn(`Parameter '${w.name}' is ambiguous because the defined spec has more than one parameter with the name: '${w.name}' and the passed-in parameter values did not define an 'in' value.`),T!==null){if(typeof w.default<"u"&&typeof T>"u"&&(T=w.default),typeof T>"u"&&w.required&&!w.allowEmptyValue)throw new Error(`Required parameter ${w.name} is not provided`);if(p&&w.schema&&w.schema.type==="object"&&typeof T=="string")try{T=JSON.parse(T)}catch{throw new Error("Could not parse object parameter value string as JSON")}M&&M({req:y,parameter:w,value:T,operation:g,spec:t})}});const j={...e,operation:g};if(p?y=ls(j,y):y=ps(j,y),y.cookies&&Object.keys(y.cookies).length){const w=Object.keys(y.cookies).reduce((M,T)=>{const Y=y.cookies[T],Ut=M?"&":"",Ft=wr.serialize(T,Y);return M+Ut+Ft},"");y.headers.Cookie=w}return y.cookies&&delete y.cookies,Mt(y),y}const je=e=>e?e.replace(/\W/g,""):null;function Os(e){return kt(e.spec)?xs(e):Cs(e)}const be=e=>Array.isArray(e)&&e.length>0;function xs(e){var t,r;let{spec:n,pathName:s,method:o,server:a,contextUrl:i,serverVariables:c={}}=e,u=[],f="",l;const h=n==null||(t=n.paths)===null||t===void 0||(t=t[s])===null||t===void 0||(t=t[(o||"").toLowerCase()])===null||t===void 0?void 0:t.servers,d=n==null||(r=n.paths)===null||r===void 0||(r=r[s])===null||r===void 0?void 0:r.servers,m=n==null?void 0:n.servers;return u=be(h)?h:be(d)?d:be(m)?m:[Jr],a&&(l=u.find(p=>p.url===a),l&&(f=a)),f||([l]=u,f=l.url),f.includes("{")&&Ss(f).forEach(v=>{if(l.variables&&l.variables[v]){const y=l.variables[v],P=c[v]||y.default,g=new RegExp(`{${v}}`,"g");f=f.replace(g,P)}}),As(f,i)}function As(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=ne(e&&t?R(t,e):e),n=ne(t),s=je(r.protocol)||je(n.protocol),o=r.host||n.host,a=r.pathname;let i;return s&&o?i=`${s}://${o+a}`:i=a,i[i.length-1]==="/"?i.slice(0,-1):i}function Ss(e){const t=[],r=/{([^}]+)}/g;let n;for(;n=r.exec(e);)t.push(n[1]);return t}function Cs(e){let{spec:t,scheme:r,contextUrl:n=""}=e;const s=ne(n),o=Array.isArray(t.schemes)?t.schemes[0]:null,a=r||o||je(s.protocol)||"http",i=t.host||s.host||"",c=t.basePath||"";let u;return a&&i?u=`${a}://${i+c}`:u=c,u[u.length-1]==="/"?u.slice(0,-1):u}const Ts=async function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{returnEntireTree:n,baseDoc:s,requestInterceptor:o,responseInterceptor:a,parameterMacro:i,modelPropertyMacro:c,useCircularStructures:u,strategies:f}=r,l={spec:e,pathDiscriminator:t,baseDoc:s,requestInterceptor:o,responseInterceptor:a,parameterMacro:i,modelPropertyMacro:c,useCircularStructures:u,strategies:f},d=f.find(p=>p.match(l)).normalize(l),m=await Yn({...l,spec:d,allowMetaPatches:!0,skipNormalization:!0});return!n&&Array.isArray(t)&&t.length&&(m.spec=t.reduce((p,v)=>p==null?void 0:p[v],m.spec)||null),m},Vs=e=>async function(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s={...e,...n};return Ts(t,r,s)};export{kn as a,Us as b,bs as c,Ds as d,Fs as e,Vs as f,En as g,Fe as h,De as i,Qn as m,$n as o,On as s};
